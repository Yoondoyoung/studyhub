function yy(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var tE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ru(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mm={exports:{}},qi={},hm={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),wy=Symbol.for("react.portal"),jy=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),Sy=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),ky=Symbol.for("react.forward_ref"),Ey=Symbol.for("react.suspense"),Py=Symbol.for("react.memo"),Ty=Symbol.for("react.lazy"),of=Symbol.iterator;function _y(e){return e===null||typeof e!="object"?null:(e=of&&e[of]||e["@@iterator"],typeof e=="function"?e:null)}var gm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,vm={};function co(e,t,n){this.props=e,this.context=t,this.refs=vm,this.updater=n||gm}co.prototype.isReactComponent={};co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ym(){}ym.prototype=co.prototype;function Du(e,t,n){this.props=e,this.context=t,this.refs=vm,this.updater=n||gm}var Au=Du.prototype=new ym;Au.constructor=Du;xm(Au,co.prototype);Au.isPureReactComponent=!0;var af=Array.isArray,wm=Object.prototype.hasOwnProperty,Mu={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,n){var r,o={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)wm.call(t,r)&&!jm.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:fa,type:e,key:a,ref:i,props:o,_owner:Mu.current}}function Ry(e,t){return{$$typeof:fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zu(e){return typeof e=="object"&&e!==null&&e.$$typeof===fa}function Dy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lf=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dy(""+e.key):t.toString(36)}function Ka(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case fa:case wy:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Cl(i,0):r,af(o)?(n="",e!=null&&(n=e.replace(lf,"$&/")+"/"),Ka(o,t,n,"",function(d){return d})):o!=null&&(zu(o)&&(o=Ry(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(lf,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",af(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Cl(a,l);i+=Ka(a,t,n,c,o)}else if(c=_y(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Cl(a,l++),i+=Ka(a,t,n,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ca(e,t,n){if(e==null)return e;var r=[],o=0;return Ka(e,r,"","",function(a){return t.call(n,a,o++)}),r}function Ay(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zt={current:null},Za={transition:null},My={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Za,ReactCurrentOwner:Mu};function Nm(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Ca,forEach:function(e,t,n){Ca(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!zu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Be.Component=co;Be.Fragment=jy;Be.Profiler=Ny;Be.PureComponent=Du;Be.StrictMode=by;Be.Suspense=Ey;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;Be.act=Nm;Be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xm({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Mu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wm.call(t,c)&&!jm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:fa,type:e.type,key:o,ref:a,props:r,_owner:i}};Be.createContext=function(e){return e={$$typeof:Cy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sy,_context:e},e.Consumer=e};Be.createElement=bm;Be.createFactory=function(e){var t=bm.bind(null,e);return t.type=e,t};Be.createRef=function(){return{current:null}};Be.forwardRef=function(e){return{$$typeof:ky,render:e}};Be.isValidElement=zu;Be.lazy=function(e){return{$$typeof:Ty,_payload:{_status:-1,_result:e},_init:Ay}};Be.memo=function(e,t){return{$$typeof:Py,type:e,compare:t===void 0?null:t}};Be.startTransition=function(e){var t=Za.transition;Za.transition={};try{e()}finally{Za.transition=t}};Be.unstable_act=Nm;Be.useCallback=function(e,t){return Zt.current.useCallback(e,t)};Be.useContext=function(e){return Zt.current.useContext(e)};Be.useDebugValue=function(){};Be.useDeferredValue=function(e){return Zt.current.useDeferredValue(e)};Be.useEffect=function(e,t){return Zt.current.useEffect(e,t)};Be.useId=function(){return Zt.current.useId()};Be.useImperativeHandle=function(e,t,n){return Zt.current.useImperativeHandle(e,t,n)};Be.useInsertionEffect=function(e,t){return Zt.current.useInsertionEffect(e,t)};Be.useLayoutEffect=function(e,t){return Zt.current.useLayoutEffect(e,t)};Be.useMemo=function(e,t){return Zt.current.useMemo(e,t)};Be.useReducer=function(e,t,n){return Zt.current.useReducer(e,t,n)};Be.useRef=function(e){return Zt.current.useRef(e)};Be.useState=function(e){return Zt.current.useState(e)};Be.useSyncExternalStore=function(e,t,n){return Zt.current.useSyncExternalStore(e,t,n)};Be.useTransition=function(){return Zt.current.useTransition()};Be.version="18.3.1";hm.exports=Be;var u=hm.exports;const oe=Ru(u),zy=yy({__proto__:null,default:oe},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=u,Oy=Symbol.for("react.element"),Fy=Symbol.for("react.fragment"),$y=Object.prototype.hasOwnProperty,Ly=Iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,By={key:!0,ref:!0,__self:!0,__source:!0};function Sm(e,t,n){var r,o={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)$y.call(t,r)&&!By.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Oy,type:e,key:a,ref:i,props:o,_owner:Ly.current}}qi.Fragment=Fy;qi.jsx=Sm;qi.jsxs=Sm;mm.exports=qi;var s=mm.exports,cc={},Cm={exports:{}},gn={},km={exports:{}},Em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,A){var K=D.length;D.push(A);e:for(;0<K;){var B=K-1>>>1,le=D[B];if(0<o(le,A))D[B]=A,D[K]=le,K=B;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var A=D[0],K=D.pop();if(K!==A){D[0]=K;e:for(var B=0,le=D.length,xe=le>>>1;B<xe;){var Ee=2*(B+1)-1,P=D[Ee],W=Ee+1,V=D[W];if(0>o(P,K))W<le&&0>o(V,P)?(D[B]=V,D[W]=K,B=W):(D[B]=P,D[Ee]=K,B=Ee);else if(W<le&&0>o(V,K))D[B]=V,D[W]=K,B=W;else break e}}return A}function o(D,A){var K=D.sortIndex-A.sortIndex;return K!==0?K:D.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],m=1,f=null,g=3,w=!1,y=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var A=n(d);A!==null;){if(A.callback===null)r(d);else if(A.startTime<=D)r(d),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(d)}}function b(D){if(x=!1,v(D),!y)if(n(c)!==null)y=!0,L(C);else{var A=n(d);A!==null&&ie(b,A.startTime-D)}}function C(D,A){y=!1,x&&(x=!1,h(_),_=-1),w=!0;var K=g;try{for(v(A),f=n(c);f!==null&&(!(f.expirationTime>A)||D&&!ee());){var B=f.callback;if(typeof B=="function"){f.callback=null,g=f.priorityLevel;var le=B(f.expirationTime<=A);A=e.unstable_now(),typeof le=="function"?f.callback=le:f===n(c)&&r(c),v(A)}else r(c);f=n(c)}if(f!==null)var xe=!0;else{var Ee=n(d);Ee!==null&&ie(b,Ee.startTime-A),xe=!1}return xe}finally{f=null,g=K,w=!1}}var E=!1,k=null,_=-1,Q=5,F=-1;function ee(){return!(e.unstable_now()-F<Q)}function U(){if(k!==null){var D=e.unstable_now();F=D;var A=!0;try{A=k(!0,D)}finally{A?O():(E=!1,k=null)}}else E=!1}var O;if(typeof p=="function")O=function(){p(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Y=G.port2;G.port1.onmessage=U,O=function(){Y.postMessage(null)}}else O=function(){j(U,0)};function L(D){k=D,E||(E=!0,O())}function ie(D,A){_=j(function(){D(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){y||w||(y=!0,L(C))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var K=g;g=A;try{return D()}finally{g=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,A){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=g;g=D;try{return A()}finally{g=K}},e.unstable_scheduleCallback=function(D,A,K){var B=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?B+K:B):K=B,D){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=K+le,D={id:m++,callback:A,priorityLevel:D,startTime:K,expirationTime:le,sortIndex:-1},K>B?(D.sortIndex=K,t(d,D),n(c)===null&&D===n(d)&&(x?(h(_),_=-1):x=!0,ie(b,K-B))):(D.sortIndex=le,t(c,D),y||w||(y=!0,L(C))),D},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(D){var A=g;return function(){var K=g;g=A;try{return D.apply(this,arguments)}finally{g=K}}}})(Em);km.exports=Em;var Uy=km.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=u,hn=Uy;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pm=new Set,qo={};function Ss(e,t){eo(e,t),eo(e+"Capture",t)}function eo(e,t){for(qo[e]=t,e=0;e<t.length;e++)Pm.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=Object.prototype.hasOwnProperty,Hy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cf={},uf={};function Vy(e){return uc.call(uf,e)?!0:uc.call(cf,e)?!1:Hy.test(e)?uf[e]=!0:(cf[e]=!0,!1)}function Gy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qy(e,t,n,r){if(t===null||typeof t>"u"||Gy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,n,r,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iu=/[\-:]([a-z])/g;function Ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iu,Ou);$t[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iu,Ou);$t[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iu,Ou);$t[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fu(e,t,n,r){var o=$t.hasOwnProperty(t)?$t[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qy(t,n,o,r)&&(n=null),r||o===null?Vy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wr=Wy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),dc=Symbol.for("react.profiler"),Tm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),fc=Symbol.for("react.suspense"),pc=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Rm=Symbol.for("react.offscreen"),df=Symbol.iterator;function jo(e){return e===null||typeof e!="object"?null:(e=df&&e[df]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Object.assign,kl;function Ao(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var El=!1;function Pl(e,t){if(!e||El)return"";El=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),a=r.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{El=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function Qy(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=Pl(e.type,!1),e;case 11:return e=Pl(e.type.render,!1),e;case 1:return e=Pl(e.type,!0),e;default:return""}}function mc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case Rs:return"Portal";case dc:return"Profiler";case $u:return"StrictMode";case fc:return"Suspense";case pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _m:return(e.displayName||"Context")+".Consumer";case Tm:return(e._context.displayName||"Context")+".Provider";case Lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bu:return t=e.displayName||null,t!==null?t:mc(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return mc(e(t))}catch{}}return null}function Yy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mc(t);case 8:return t===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ky(e){var t=Dm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ea(e){e._valueTracker||(e._valueTracker=Ky(e))}function Am(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hc(e,t){var n=t.checked;return xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ff(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mm(e,t){t=t.checked,t!=null&&Fu(e,"checked",t,!1)}function gc(e,t){Mm(e,t);var n=Qr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xc(e,t.type,n):t.hasOwnProperty("defaultValue")&&xc(e,t.type,Qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xc(e,t,n){(t!=="number"||mi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mo=Array.isArray;function Ws(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function vc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Mo(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qr(n)}}function zm(e,t){var n=Qr(t.value),r=Qr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Im(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Im(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pa,Om=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pa=Pa||document.createElement("div"),Pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zy=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(e){Zy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fo[t]=Fo[e]})});function Fm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fo.hasOwnProperty(e)&&Fo[e]?(""+t).trim():t+"px"}function $m(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Fm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Xy=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wc(e,t){if(t){if(Xy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function jc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=null;function Uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nc=null,Hs=null,Vs=null;function gf(e){if(e=ha(e)){if(typeof Nc!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Xi(t),Nc(e.stateNode,e.type,t))}}function Lm(e){Hs?Vs?Vs.push(e):Vs=[e]:Hs=e}function Bm(){if(Hs){var e=Hs,t=Vs;if(Vs=Hs=null,gf(e),t)for(e=0;e<t.length;e++)gf(t[e])}}function Um(e,t){return e(t)}function Wm(){}var Tl=!1;function Hm(e,t,n){if(Tl)return e(t,n);Tl=!0;try{return Um(e,t,n)}finally{Tl=!1,(Hs!==null||Vs!==null)&&(Wm(),Bm())}}function Yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Xi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var Sc=!1;if(mr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Sc=!1}function Jy(e,t,n,r,o,a,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var $o=!1,hi=null,gi=!1,Cc=null,e0={onError:function(e){$o=!0,hi=e}};function t0(e,t,n,r,o,a,i,l,c){$o=!1,hi=null,Jy.apply(e0,arguments)}function n0(e,t,n,r,o,a,i,l,c){if(t0.apply(this,arguments),$o){if($o){var d=hi;$o=!1,hi=null}else throw Error(ne(198));gi||(gi=!0,Cc=d)}}function Cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xf(e){if(Cs(e)!==e)throw Error(ne(188))}function r0(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return xf(o),e;if(a===r)return xf(o),t;a=a.sibling}throw Error(ne(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function Gm(e){return e=r0(e),e!==null?qm(e):null}function qm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qm(e);if(t!==null)return t;e=e.sibling}return null}var Qm=hn.unstable_scheduleCallback,vf=hn.unstable_cancelCallback,s0=hn.unstable_shouldYield,o0=hn.unstable_requestPaint,St=hn.unstable_now,a0=hn.unstable_getCurrentPriorityLevel,Wu=hn.unstable_ImmediatePriority,Ym=hn.unstable_UserBlockingPriority,xi=hn.unstable_NormalPriority,i0=hn.unstable_LowPriority,Km=hn.unstable_IdlePriority,Qi=null,Zn=null;function l0(e){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Qi,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:d0,c0=Math.log,u0=Math.LN2;function d0(e){return e>>>=0,e===0?32:31-(c0(e)/u0|0)|0}var Ta=64,_a=4194304;function zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=zo(l):(a&=i,a!==0&&(r=zo(a)))}else i=n&~o,i!==0?r=zo(i):a!==0&&(r=zo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-On(t),o=1<<n,r|=e[n],t&=~o;return r}function f0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-On(a),l=1<<i,c=o[i];c===-1?(!(l&n)||l&r)&&(o[i]=f0(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zm(){var e=Ta;return Ta<<=1,!(Ta&4194240)&&(Ta=64),e}function _l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function m0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-On(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Hu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-On(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ke=0;function Xm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jm,Vu,eh,th,nh,Ec=!1,Ra=[],Fr=null,$r=null,Lr=null,Ko=new Map,Zo=new Map,_r=[],h0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function No(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=ha(t),t!==null&&Vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function g0(e,t,n,r,o){switch(t){case"focusin":return Fr=No(Fr,e,t,n,r,o),!0;case"dragenter":return $r=No($r,e,t,n,r,o),!0;case"mouseover":return Lr=No(Lr,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Ko.set(a,No(Ko.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Zo.set(a,No(Zo.get(a)||null,e,t,n,r,o)),!0}return!1}function rh(e){var t=us(e.target);if(t!==null){var n=Cs(t);if(n!==null){if(t=n.tag,t===13){if(t=Vm(n),t!==null){e.blockedOn=t,nh(e.priority,function(){eh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bc=r,n.target.dispatchEvent(r),bc=null}else return t=ha(n),t!==null&&Vu(t),e.blockedOn=n,!1;t.shift()}return!0}function wf(e,t,n){Xa(e)&&n.delete(t)}function x0(){Ec=!1,Fr!==null&&Xa(Fr)&&(Fr=null),$r!==null&&Xa($r)&&($r=null),Lr!==null&&Xa(Lr)&&(Lr=null),Ko.forEach(wf),Zo.forEach(wf)}function So(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,x0)))}function Xo(e){function t(o){return So(o,e)}if(0<Ra.length){So(Ra[0],e);for(var n=1;n<Ra.length;n++){var r=Ra[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fr!==null&&So(Fr,e),$r!==null&&So($r,e),Lr!==null&&So(Lr,e),Ko.forEach(t),Zo.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)rh(n),n.blockedOn===null&&_r.shift()}var Gs=wr.ReactCurrentBatchConfig,yi=!0;function v0(e,t,n,r){var o=Ke,a=Gs.transition;Gs.transition=null;try{Ke=1,Gu(e,t,n,r)}finally{Ke=o,Gs.transition=a}}function y0(e,t,n,r){var o=Ke,a=Gs.transition;Gs.transition=null;try{Ke=4,Gu(e,t,n,r)}finally{Ke=o,Gs.transition=a}}function Gu(e,t,n,r){if(yi){var o=Pc(e,t,n,r);if(o===null)Ll(e,t,r,wi,n),yf(e,r);else if(g0(o,e,t,n,r))r.stopPropagation();else if(yf(e,r),t&4&&-1<h0.indexOf(e)){for(;o!==null;){var a=ha(o);if(a!==null&&Jm(a),a=Pc(e,t,n,r),a===null&&Ll(e,t,r,wi,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Ll(e,t,r,null,n)}}var wi=null;function Pc(e,t,n,r){if(wi=null,e=Uu(r),e=us(e),e!==null)if(t=Cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wi=e,null}function sh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a0()){case Wu:return 1;case Ym:return 4;case xi:case i0:return 16;case Km:return 536870912;default:return 16}default:return 16}}var Ir=null,qu=null,Ja=null;function oh(){if(Ja)return Ja;var e,t=qu,n=t.length,r,o="value"in Ir?Ir.value:Ir.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[a-r];r++);return Ja=o.slice(e,1<r?1-r:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Da(){return!0}function jf(){return!1}function xn(e){function t(n,r,o,a,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Da:jf,this.isPropagationStopped=jf,this}return xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=xn(uo),ma=xt({},uo,{view:0,detail:0}),w0=xn(ma),Rl,Dl,Co,Yi=xt({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Co&&(Co&&e.type==="mousemove"?(Rl=e.screenX-Co.screenX,Dl=e.screenY-Co.screenY):Dl=Rl=0,Co=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Dl}}),bf=xn(Yi),j0=xt({},Yi,{dataTransfer:0}),b0=xn(j0),N0=xt({},ma,{relatedTarget:0}),Al=xn(N0),S0=xt({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),C0=xn(S0),k0=xt({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),E0=xn(k0),P0=xt({},uo,{data:0}),Nf=xn(P0),T0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=R0[e])?!!t[e]:!1}function Yu(){return D0}var A0=xt({},ma,{key:function(e){if(e.key){var t=T0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M0=xn(A0),z0=xt({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=xn(z0),I0=xt({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),O0=xn(I0),F0=xt({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=xn(F0),L0=xt({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B0=xn(L0),U0=[9,13,27,32],Ku=mr&&"CompositionEvent"in window,Lo=null;mr&&"documentMode"in document&&(Lo=document.documentMode);var W0=mr&&"TextEvent"in window&&!Lo,ah=mr&&(!Ku||Lo&&8<Lo&&11>=Lo),Cf=" ",kf=!1;function ih(e,t){switch(e){case"keyup":return U0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function H0(e,t){switch(e){case"compositionend":return lh(t);case"keypress":return t.which!==32?null:(kf=!0,Cf);case"textInput":return e=t.data,e===Cf&&kf?null:e;default:return null}}function V0(e,t){if(As)return e==="compositionend"||!Ku&&ih(e,t)?(e=oh(),Ja=qu=Ir=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ah&&t.locale!=="ko"?null:t.data;default:return null}}var G0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G0[e.type]:t==="textarea"}function ch(e,t,n,r){Lm(r),t=ji(t,"onChange"),0<t.length&&(n=new Qu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bo=null,Jo=null;function q0(e){wh(e,0)}function Ki(e){var t=Is(e);if(Am(t))return e}function Q0(e,t){if(e==="change")return t}var uh=!1;if(mr){var Ml;if(mr){var zl="oninput"in document;if(!zl){var Pf=document.createElement("div");Pf.setAttribute("oninput","return;"),zl=typeof Pf.oninput=="function"}Ml=zl}else Ml=!1;uh=Ml&&(!document.documentMode||9<document.documentMode)}function Tf(){Bo&&(Bo.detachEvent("onpropertychange",dh),Jo=Bo=null)}function dh(e){if(e.propertyName==="value"&&Ki(Jo)){var t=[];ch(t,Jo,e,Uu(e)),Hm(q0,t)}}function Y0(e,t,n){e==="focusin"?(Tf(),Bo=t,Jo=n,Bo.attachEvent("onpropertychange",dh)):e==="focusout"&&Tf()}function K0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(Jo)}function Z0(e,t){if(e==="click")return Ki(t)}function X0(e,t){if(e==="input"||e==="change")return Ki(t)}function J0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:J0;function ea(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!uc.call(t,o)||!$n(e[o],t[o]))return!1}return!0}function _f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rf(e,t){var n=_f(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_f(n)}}function fh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ph(){for(var e=window,t=mi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mi(e.document)}return t}function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ew(e){var t=ph(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fh(n.ownerDocument.documentElement,n)){if(r!==null&&Zu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Rf(n,a);var i=Rf(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tw=mr&&"documentMode"in document&&11>=document.documentMode,Ms=null,Tc=null,Uo=null,_c=!1;function Df(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_c||Ms==null||Ms!==mi(r)||(r=Ms,"selectionStart"in r&&Zu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uo&&ea(Uo,r)||(Uo=r,r=ji(Tc,"onSelect"),0<r.length&&(t=new Qu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ms)))}function Aa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zs={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},Il={},mh={};mr&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Zi(e){if(Il[e])return Il[e];if(!zs[e])return e;var t=zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mh)return Il[e]=t[n];return e}var hh=Zi("animationend"),gh=Zi("animationiteration"),xh=Zi("animationstart"),vh=Zi("transitionend"),yh=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){yh.set(e,t),Ss(t,[e])}for(var Ol=0;Ol<Af.length;Ol++){var Fl=Af[Ol],nw=Fl.toLowerCase(),rw=Fl[0].toUpperCase()+Fl.slice(1);Jr(nw,"on"+rw)}Jr(hh,"onAnimationEnd");Jr(gh,"onAnimationIteration");Jr(xh,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(vh,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Mf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,n0(r,t,void 0,e),e.currentTarget=null}function wh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;Mf(o,l,d),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;Mf(o,l,d),a=c}}}if(gi)throw e=Cc,gi=!1,Cc=null,e}function it(e,t){var n=t[zc];n===void 0&&(n=t[zc]=new Set);var r=e+"__bubble";n.has(r)||(jh(t,e,2,!1),n.add(r))}function $l(e,t,n){var r=0;t&&(r|=4),jh(n,e,r,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function ta(e){if(!e[Ma]){e[Ma]=!0,Pm.forEach(function(n){n!=="selectionchange"&&(sw.has(n)||$l(n,!1,e),$l(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,$l("selectionchange",!1,t))}}function jh(e,t,n,r){switch(sh(t)){case 1:var o=v0;break;case 4:o=y0;break;default:o=Gu}n=o.bind(null,t,n,e),o=void 0,!Sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ll(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=us(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}Hm(function(){var d=a,m=Uu(n),f=[];e:{var g=yh.get(e);if(g!==void 0){var w=Qu,y=e;switch(e){case"keypress":if(ei(n)===0)break e;case"keydown":case"keyup":w=M0;break;case"focusin":y="focus",w=Al;break;case"focusout":y="blur",w=Al;break;case"beforeblur":case"afterblur":w=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=O0;break;case hh:case gh:case xh:w=C0;break;case vh:w=$0;break;case"scroll":w=w0;break;case"wheel":w=B0;break;case"copy":case"cut":case"paste":w=E0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Sf}var x=(t&4)!==0,j=!x&&e==="scroll",h=x?g!==null?g+"Capture":null:g;x=[];for(var p=d,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,h!==null&&(b=Yo(p,h),b!=null&&x.push(na(p,b,v)))),j)break;p=p.return}0<x.length&&(g=new w(g,y,null,n,m),f.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==bc&&(y=n.relatedTarget||n.fromElement)&&(us(y)||y[hr]))break e;if((w||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=d,y=y?us(y):null,y!==null&&(j=Cs(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=d),w!==y)){if(x=bf,b="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Sf,b="onPointerLeave",h="onPointerEnter",p="pointer"),j=w==null?g:Is(w),v=y==null?g:Is(y),g=new x(b,p+"leave",w,n,m),g.target=j,g.relatedTarget=v,b=null,us(m)===d&&(x=new x(h,p+"enter",y,n,m),x.target=v,x.relatedTarget=j,b=x),j=b,w&&y)t:{for(x=w,h=y,p=0,v=x;v;v=ks(v))p++;for(v=0,b=h;b;b=ks(b))v++;for(;0<p-v;)x=ks(x),p--;for(;0<v-p;)h=ks(h),v--;for(;p--;){if(x===h||h!==null&&x===h.alternate)break t;x=ks(x),h=ks(h)}x=null}else x=null;w!==null&&zf(f,g,w,x,!1),y!==null&&j!==null&&zf(f,j,y,x,!0)}}e:{if(g=d?Is(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var C=Q0;else if(Ef(g))if(uh)C=X0;else{C=K0;var E=Y0}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Z0);if(C&&(C=C(e,d))){ch(f,C,n,m);break e}E&&E(e,g,d),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&xc(g,"number",g.value)}switch(E=d?Is(d):window,e){case"focusin":(Ef(E)||E.contentEditable==="true")&&(Ms=E,Tc=d,Uo=null);break;case"focusout":Uo=Tc=Ms=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Df(f,n,m);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Df(f,n,m)}var k;if(Ku)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else As?ih(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(ah&&n.locale!=="ko"&&(As||_!=="onCompositionStart"?_==="onCompositionEnd"&&As&&(k=oh()):(Ir=m,qu="value"in Ir?Ir.value:Ir.textContent,As=!0)),E=ji(d,_),0<E.length&&(_=new Nf(_,e,null,n,m),f.push({event:_,listeners:E}),k?_.data=k:(k=lh(n),k!==null&&(_.data=k)))),(k=W0?H0(e,n):V0(e,n))&&(d=ji(d,"onBeforeInput"),0<d.length&&(m=new Nf("onBeforeInput","beforeinput",null,n,m),f.push({event:m,listeners:d}),m.data=k))}wh(f,t)})}function na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ji(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Yo(e,n),a!=null&&r.unshift(na(e,a,o)),a=Yo(e,t),a!=null&&r.push(na(e,a,o))),e=e.return}return r}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zf(e,t,n,r,o){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,o?(c=Yo(n,a),c!=null&&i.unshift(na(n,c,l))):o||(c=Yo(n,a),c!=null&&i.push(na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ow=/\r\n?/g,aw=/\u0000|\uFFFD/g;function If(e){return(typeof e=="string"?e:""+e).replace(ow,`
`).replace(aw,"")}function za(e,t,n){if(t=If(t),If(e)!==t&&n)throw Error(ne(425))}function bi(){}var Rc=null,Dc=null;function Ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mc=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(e){return Of.resolve(null).then(e).catch(cw)}:Mc;function cw(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Xo(t)}function Br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+fo,ra="__reactProps$"+fo,hr="__reactContainer$"+fo,zc="__reactEvents$"+fo,uw="__reactListeners$"+fo,dw="__reactHandles$"+fo;function us(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ff(e);e!==null;){if(n=e[Yn])return n;e=Ff(e)}return t}e=n,n=e.parentNode}return null}function ha(e){return e=e[Yn]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Xi(e){return e[ra]||null}var Ic=[],Os=-1;function es(e){return{current:e}}function ct(e){0>Os||(e.current=Ic[Os],Ic[Os]=null,Os--)}function st(e,t){Os++,Ic[Os]=e.current,e.current=t}var Yr={},Gt=es(Yr),sn=es(!1),hs=Yr;function to(e,t){var n=e.type.contextTypes;if(!n)return Yr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function on(e){return e=e.childContextTypes,e!=null}function Ni(){ct(sn),ct(Gt)}function $f(e,t,n){if(Gt.current!==Yr)throw Error(ne(168));st(Gt,t),st(sn,n)}function bh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ne(108,Yy(e)||"Unknown",o));return xt({},n,r)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,hs=Gt.current,st(Gt,e),st(sn,sn.current),!0}function Lf(e,t,n){var r=e.stateNode;if(!r)throw Error(ne(169));n?(e=bh(e,t,hs),r.__reactInternalMemoizedMergedChildContext=e,ct(sn),ct(Gt),st(Gt,e)):ct(sn),st(sn,n)}var ur=null,Ji=!1,Ul=!1;function Nh(e){ur===null?ur=[e]:ur.push(e)}function fw(e){Ji=!0,Nh(e)}function ts(){if(!Ul&&ur!==null){Ul=!0;var e=0,t=Ke;try{var n=ur;for(Ke=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ur=null,Ji=!1}catch(o){throw ur!==null&&(ur=ur.slice(e+1)),Qm(Wu,ts),o}finally{Ke=t,Ul=!1}}return null}var Fs=[],$s=0,Ci=null,ki=0,vn=[],yn=0,gs=null,dr=1,fr="";function is(e,t){Fs[$s++]=ki,Fs[$s++]=Ci,Ci=e,ki=t}function Sh(e,t,n){vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=gs,gs=e;var r=dr;e=fr;var o=32-On(r)-1;r&=~(1<<o),n+=1;var a=32-On(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,dr=1<<32-On(t)+o|n<<o|r,fr=a+e}else dr=1<<a|n<<o|r,fr=e}function Xu(e){e.return!==null&&(is(e,1),Sh(e,1,0))}function Ju(e){for(;e===Ci;)Ci=Fs[--$s],Fs[$s]=null,ki=Fs[--$s],Fs[$s]=null;for(;e===gs;)gs=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null,dr=vn[--yn],vn[yn]=null}var pn=null,fn=null,ut=!1,_n=null;function Ch(e,t){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,fn=Br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gs!==null?{id:dr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pn=e,fn=null,!0):!1;default:return!1}}function Oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fc(e){if(ut){var t=fn;if(t){var n=t;if(!Bf(e,t)){if(Oc(e))throw Error(ne(418));t=Br(n.nextSibling);var r=pn;t&&Bf(e,t)?Ch(r,n):(e.flags=e.flags&-4097|2,ut=!1,pn=e)}}else{if(Oc(e))throw Error(ne(418));e.flags=e.flags&-4097|2,ut=!1,pn=e}}}function Uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Ia(e){if(e!==pn)return!1;if(!ut)return Uf(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ac(e.type,e.memoizedProps)),t&&(t=fn)){if(Oc(e))throw kh(),Error(ne(418));for(;t;)Ch(e,t),t=Br(t.nextSibling)}if(Uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fn=Br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fn=null}}else fn=pn?Br(e.stateNode.nextSibling):null;return!0}function kh(){for(var e=fn;e;)e=Br(e.nextSibling)}function no(){fn=pn=null,ut=!1}function ed(e){_n===null?_n=[e]:_n.push(e)}var pw=wr.ReactCurrentBatchConfig;function ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wf(e){var t=e._init;return t(e._payload)}function Eh(e){function t(h,p){if(e){var v=h.deletions;v===null?(h.deletions=[p],h.flags|=16):v.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function o(h,p){return h=Vr(h,p),h.index=0,h.sibling=null,h}function a(h,p,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<p?(h.flags|=2,p):v):(h.flags|=2,p)):(h.flags|=1048576,p)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,v,b){return p===null||p.tag!==6?(p=Yl(v,h.mode,b),p.return=h,p):(p=o(p,v),p.return=h,p)}function c(h,p,v,b){var C=v.type;return C===Ds?m(h,p,v.props.children,b,v.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Pr&&Wf(C)===p.type)?(b=o(p,v.props),b.ref=ko(h,p,v),b.return=h,b):(b=ii(v.type,v.key,v.props,null,h.mode,b),b.ref=ko(h,p,v),b.return=h,b)}function d(h,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Kl(v,h.mode,b),p.return=h,p):(p=o(p,v.children||[]),p.return=h,p)}function m(h,p,v,b,C){return p===null||p.tag!==7?(p=ms(v,h.mode,b,C),p.return=h,p):(p=o(p,v),p.return=h,p)}function f(h,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yl(""+p,h.mode,v),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ka:return v=ii(p.type,p.key,p.props,null,h.mode,v),v.ref=ko(h,null,p),v.return=h,v;case Rs:return p=Kl(p,h.mode,v),p.return=h,p;case Pr:var b=p._init;return f(h,b(p._payload),v)}if(Mo(p)||jo(p))return p=ms(p,h.mode,v,null),p.return=h,p;Oa(h,p)}return null}function g(h,p,v,b){var C=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return C!==null?null:l(h,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ka:return v.key===C?c(h,p,v,b):null;case Rs:return v.key===C?d(h,p,v,b):null;case Pr:return C=v._init,g(h,p,C(v._payload),b)}if(Mo(v)||jo(v))return C!==null?null:m(h,p,v,b,null);Oa(h,v)}return null}function w(h,p,v,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return h=h.get(v)||null,l(p,h,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ka:return h=h.get(b.key===null?v:b.key)||null,c(p,h,b,C);case Rs:return h=h.get(b.key===null?v:b.key)||null,d(p,h,b,C);case Pr:var E=b._init;return w(h,p,v,E(b._payload),C)}if(Mo(b)||jo(b))return h=h.get(v)||null,m(p,h,b,C,null);Oa(p,b)}return null}function y(h,p,v,b){for(var C=null,E=null,k=p,_=p=0,Q=null;k!==null&&_<v.length;_++){k.index>_?(Q=k,k=null):Q=k.sibling;var F=g(h,k,v[_],b);if(F===null){k===null&&(k=Q);break}e&&k&&F.alternate===null&&t(h,k),p=a(F,p,_),E===null?C=F:E.sibling=F,E=F,k=Q}if(_===v.length)return n(h,k),ut&&is(h,_),C;if(k===null){for(;_<v.length;_++)k=f(h,v[_],b),k!==null&&(p=a(k,p,_),E===null?C=k:E.sibling=k,E=k);return ut&&is(h,_),C}for(k=r(h,k);_<v.length;_++)Q=w(k,h,_,v[_],b),Q!==null&&(e&&Q.alternate!==null&&k.delete(Q.key===null?_:Q.key),p=a(Q,p,_),E===null?C=Q:E.sibling=Q,E=Q);return e&&k.forEach(function(ee){return t(h,ee)}),ut&&is(h,_),C}function x(h,p,v,b){var C=jo(v);if(typeof C!="function")throw Error(ne(150));if(v=C.call(v),v==null)throw Error(ne(151));for(var E=C=null,k=p,_=p=0,Q=null,F=v.next();k!==null&&!F.done;_++,F=v.next()){k.index>_?(Q=k,k=null):Q=k.sibling;var ee=g(h,k,F.value,b);if(ee===null){k===null&&(k=Q);break}e&&k&&ee.alternate===null&&t(h,k),p=a(ee,p,_),E===null?C=ee:E.sibling=ee,E=ee,k=Q}if(F.done)return n(h,k),ut&&is(h,_),C;if(k===null){for(;!F.done;_++,F=v.next())F=f(h,F.value,b),F!==null&&(p=a(F,p,_),E===null?C=F:E.sibling=F,E=F);return ut&&is(h,_),C}for(k=r(h,k);!F.done;_++,F=v.next())F=w(k,h,_,F.value,b),F!==null&&(e&&F.alternate!==null&&k.delete(F.key===null?_:F.key),p=a(F,p,_),E===null?C=F:E.sibling=F,E=F);return e&&k.forEach(function(U){return t(h,U)}),ut&&is(h,_),C}function j(h,p,v,b){if(typeof v=="object"&&v!==null&&v.type===Ds&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ka:e:{for(var C=v.key,E=p;E!==null;){if(E.key===C){if(C=v.type,C===Ds){if(E.tag===7){n(h,E.sibling),p=o(E,v.props.children),p.return=h,h=p;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Pr&&Wf(C)===E.type){n(h,E.sibling),p=o(E,v.props),p.ref=ko(h,E,v),p.return=h,h=p;break e}n(h,E);break}else t(h,E);E=E.sibling}v.type===Ds?(p=ms(v.props.children,h.mode,b,v.key),p.return=h,h=p):(b=ii(v.type,v.key,v.props,null,h.mode,b),b.ref=ko(h,p,v),b.return=h,h=b)}return i(h);case Rs:e:{for(E=v.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(h,p.sibling),p=o(p,v.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=Kl(v,h.mode,b),p.return=h,h=p}return i(h);case Pr:return E=v._init,j(h,p,E(v._payload),b)}if(Mo(v))return y(h,p,v,b);if(jo(v))return x(h,p,v,b);Oa(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(h,p.sibling),p=o(p,v),p.return=h,h=p):(n(h,p),p=Yl(v,h.mode,b),p.return=h,h=p),i(h)):n(h,p)}return j}var ro=Eh(!0),Ph=Eh(!1),Ei=es(null),Pi=null,Ls=null,td=null;function nd(){td=Ls=Pi=null}function rd(e){var t=Ei.current;ct(Ei),e._currentValue=t}function $c(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qs(e,t){Pi=e,td=Ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rn=!0),e.firstContext=null)}function bn(e){var t=e._currentValue;if(td!==e)if(e={context:e,memoizedValue:t,next:null},Ls===null){if(Pi===null)throw Error(ne(308));Ls=e,Pi.dependencies={lanes:0,firstContext:e}}else Ls=Ls.next=e;return t}var ds=null;function sd(e){ds===null?ds=[e]:ds.push(e)}function Th(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,sd(t)):(n.next=o.next,o.next=n),t.interleaved=n,gr(e,r)}function gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,gr(e,n)}return o=r.interleaved,o===null?(t.next=t,sd(r)):(t.next=o.next,o.next=t),r.interleaved=t,gr(e,n)}function ti(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}function Hf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ti(e,t,n,r){var o=e.updateQueue;Tr=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==i&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(a!==null){var f=o.baseState;i=0,m=d=c=null,l=a;do{var g=l.lane,w=l.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(g=t,w=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(w,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,g=typeof y=="function"?y.call(w,f,g):y,g==null)break e;f=xt({},f,g);break e;case 2:Tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=w,c=f):m=m.next=w,i|=g;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;g=l,l=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(m===null&&(c=f),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);vs|=i,e.lanes=i,e.memoizedState=f}}function Vf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ne(191,o));o.call(r)}}}var ga={},Xn=es(ga),sa=es(ga),oa=es(ga);function fs(e){if(e===ga)throw Error(ne(174));return e}function ad(e,t){switch(st(oa,t),st(sa,e),st(Xn,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yc(t,e)}ct(Xn),st(Xn,t)}function so(){ct(Xn),ct(sa),ct(oa)}function Rh(e){fs(oa.current);var t=fs(Xn.current),n=yc(t,e.type);t!==n&&(st(sa,e),st(Xn,n))}function id(e){sa.current===e&&(ct(Xn),ct(sa))}var ht=es(0);function _i(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wl=[];function ld(){for(var e=0;e<Wl.length;e++)Wl[e]._workInProgressVersionPrimary=null;Wl.length=0}var ni=wr.ReactCurrentDispatcher,Hl=wr.ReactCurrentBatchConfig,xs=0,gt=null,Dt=null,zt=null,Ri=!1,Wo=!1,aa=0,mw=0;function Wt(){throw Error(ne(321))}function cd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function ud(e,t,n,r,o,a){if(xs=a,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=e===null||e.memoizedState===null?vw:yw,e=n(r,o),Wo){a=0;do{if(Wo=!1,aa=0,25<=a)throw Error(ne(301));a+=1,zt=Dt=null,t.updateQueue=null,ni.current=ww,e=n(r,o)}while(Wo)}if(ni.current=Di,t=Dt!==null&&Dt.next!==null,xs=0,zt=Dt=gt=null,Ri=!1,t)throw Error(ne(300));return e}function dd(){var e=aa!==0;return aa=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?gt.memoizedState=zt=e:zt=zt.next=e,zt}function Nn(){if(Dt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=zt===null?gt.memoizedState:zt.next;if(t!==null)zt=t,Dt=e;else{if(e===null)throw Error(ne(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},zt===null?gt.memoizedState=zt=e:zt=zt.next=e}return zt}function ia(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=Nn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=Dt,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var l=i=null,c=null,d=a;do{var m=d.lane;if((xs&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,gt.lanes|=m,vs|=m}d=d.next}while(d!==null&&d!==a);c===null?i=r:c.next=l,$n(r,t.memoizedState)||(rn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,gt.lanes|=a,vs|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gl(e){var t=Nn(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);$n(a,t.memoizedState)||(rn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Dh(){}function Ah(e,t){var n=gt,r=Nn(),o=t(),a=!$n(r.memoizedState,o);if(a&&(r.memoizedState=o,rn=!0),r=r.queue,fd(Ih.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,la(9,zh.bind(null,n,r,o,t),void 0,null),It===null)throw Error(ne(349));xs&30||Mh(n,t,o)}return o}function Mh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zh(e,t,n,r){t.value=n,t.getSnapshot=r,Oh(t)&&Fh(e)}function Ih(e,t,n){return n(function(){Oh(t)&&Fh(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch{return!0}}function Fh(e){var t=gr(e,1);t!==null&&Fn(t,e,1,-1)}function Gf(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=xw.bind(null,gt,e),[t.memoizedState,e]}function la(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $h(){return Nn().memoizedState}function ri(e,t,n,r){var o=Qn();gt.flags|=e,o.memoizedState=la(1|t,n,void 0,r===void 0?null:r)}function el(e,t,n,r){var o=Nn();r=r===void 0?null:r;var a=void 0;if(Dt!==null){var i=Dt.memoizedState;if(a=i.destroy,r!==null&&cd(r,i.deps)){o.memoizedState=la(t,n,a,r);return}}gt.flags|=e,o.memoizedState=la(1|t,n,a,r)}function qf(e,t){return ri(8390656,8,e,t)}function fd(e,t){return el(2048,8,e,t)}function Lh(e,t){return el(4,2,e,t)}function Bh(e,t){return el(4,4,e,t)}function Uh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wh(e,t,n){return n=n!=null?n.concat([e]):null,el(4,4,Uh.bind(null,t,e),n)}function pd(){}function Hh(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vh(e,t){var n=Nn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gh(e,t,n){return xs&21?($n(n,t)||(n=Zm(),gt.lanes|=n,vs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rn=!0),e.memoizedState=n)}function hw(e,t){var n=Ke;Ke=n!==0&&4>n?n:4,e(!0);var r=Hl.transition;Hl.transition={};try{e(!1),t()}finally{Ke=n,Hl.transition=r}}function qh(){return Nn().memoizedState}function gw(e,t,n){var r=Hr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qh(e))Yh(t,n);else if(n=Th(e,t,n,r),n!==null){var o=Kt();Fn(n,e,r,o),Kh(n,t,r)}}function xw(e,t,n){var r=Hr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qh(e))Yh(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(o.hasEagerState=!0,o.eagerState=l,$n(l,i)){var c=t.interleaved;c===null?(o.next=o,sd(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Th(e,t,o,r),n!==null&&(o=Kt(),Fn(n,e,r,o),Kh(n,t,r))}}function Qh(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function Yh(e,t){Wo=Ri=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}var Di={readContext:bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},vw={readContext:bn,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:qf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ri(4194308,4,Uh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var n=Qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gw.bind(null,gt,e),[r.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:Gf,useDebugValue:pd,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=Gf(!1),t=e[0];return e=hw.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gt,o=Qn();if(ut){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),It===null)throw Error(ne(349));xs&30||Mh(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,qf(Ih.bind(null,r,a,e),[e]),r.flags|=2048,la(9,zh.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Qn(),t=It.identifierPrefix;if(ut){var n=fr,r=dr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=aa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yw={readContext:bn,useCallback:Hh,useContext:bn,useEffect:fd,useImperativeHandle:Wh,useInsertionEffect:Lh,useLayoutEffect:Bh,useMemo:Vh,useReducer:Vl,useRef:$h,useState:function(){return Vl(ia)},useDebugValue:pd,useDeferredValue:function(e){var t=Nn();return Gh(t,Dt.memoizedState,e)},useTransition:function(){var e=Vl(ia)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:Dh,useSyncExternalStore:Ah,useId:qh,unstable_isNewReconciler:!1},ww={readContext:bn,useCallback:Hh,useContext:bn,useEffect:fd,useImperativeHandle:Wh,useInsertionEffect:Lh,useLayoutEffect:Bh,useMemo:Vh,useReducer:Gl,useRef:$h,useState:function(){return Gl(ia)},useDebugValue:pd,useDeferredValue:function(e){var t=Nn();return Dt===null?t.memoizedState=e:Gh(t,Dt.memoizedState,e)},useTransition:function(){var e=Gl(ia)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:Dh,useSyncExternalStore:Ah,useId:qh,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tl={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=Hr(e),a=pr(r,o);a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,o),t!==null&&(Fn(t,e,o,r),ti(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kt(),o=Hr(e),a=pr(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,o),t!==null&&(Fn(t,e,o,r),ti(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),r=Hr(e),o=pr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ur(e,o,r),t!==null&&(Fn(t,e,r,n),ti(t,e,r))}};function Qf(e,t,n,r,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ea(n,r)||!ea(o,a):!0}function Zh(e,t,n){var r=!1,o=Yr,a=t.contextType;return typeof a=="object"&&a!==null?a=bn(a):(o=on(t)?hs:Gt.current,r=t.contextTypes,a=(r=r!=null)?to(e,o):Yr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tl.enqueueReplaceState(t,t.state,null)}function Bc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},od(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=bn(a):(a=on(t)?hs:Gt.current,o.context=to(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Lc(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&tl.enqueueReplaceState(o,o.state,null),Ti(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function oo(e,t){try{var n="",r=t;do n+=Qy(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jw=typeof WeakMap=="function"?WeakMap:Map;function Xh(e,t,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mi||(Mi=!0,Xc=r),Uc(e,t)},n}function Jh(e,t,n){n=pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Uc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Uc(e,t),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Kf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zw.bind(null,e,t,n),t.then(e,e))}function Zf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pr(-1,1),t.tag=2,Ur(n,t,1))),n.lanes|=1),e)}var bw=wr.ReactCurrentOwner,rn=!1;function Yt(e,t,n,r){t.child=e===null?Ph(t,null,n,r):ro(t,e.child,n,r)}function Jf(e,t,n,r,o){n=n.render;var a=t.ref;return qs(t,o),r=ud(e,t,n,r,a,o),n=dd(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xr(e,t,o)):(ut&&n&&Xu(t),t.flags|=1,Yt(e,t,r,o),t.child)}function ep(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!jd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,eg(e,t,a,r,o)):(e=ii(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ea,n(i,r)&&e.ref===t.ref)return xr(e,t,o)}return t.flags|=1,e=Vr(a,r),e.ref=t.ref,e.return=t,t.child=e}function eg(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(ea(a,r)&&e.ref===t.ref)if(rn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(rn=!0);else return t.lanes=e.lanes,xr(e,t,o)}return Wc(e,t,n,r,o)}function tg(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Us,un),un|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(Us,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,st(Us,un),un|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,st(Us,un),un|=r;return Yt(e,t,o,n),t.child}function ng(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wc(e,t,n,r,o){var a=on(n)?hs:Gt.current;return a=to(t,a),qs(t,o),n=ud(e,t,n,r,a,o),r=dd(),e!==null&&!rn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xr(e,t,o)):(ut&&r&&Xu(t),t.flags|=1,Yt(e,t,n,o),t.child)}function tp(e,t,n,r,o){if(on(n)){var a=!0;Si(t)}else a=!1;if(qs(t,o),t.stateNode===null)si(e,t),Zh(t,n,r),Bc(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=bn(d):(d=on(n)?hs:Gt.current,d=to(t,d));var m=n.getDerivedStateFromProps,f=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Yf(t,i,r,d),Tr=!1;var g=t.memoizedState;i.state=g,Ti(t,r,i,o),c=t.memoizedState,l!==r||g!==c||sn.current||Tr?(typeof m=="function"&&(Lc(t,n,m,r),c=t.memoizedState),(l=Tr||Qf(t,n,l,r,g,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_h(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Pn(t.type,l),i.props=d,f=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=on(n)?hs:Gt.current,c=to(t,c));var w=n.getDerivedStateFromProps;(m=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||g!==c)&&Yf(t,i,r,c),Tr=!1,g=t.memoizedState,i.state=g,Ti(t,r,i,o);var y=t.memoizedState;l!==f||g!==y||sn.current||Tr?(typeof w=="function"&&(Lc(t,n,w,r),y=t.memoizedState),(d=Tr||Qf(t,n,d,r,g,y,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Hc(e,t,n,r,a,o)}function Hc(e,t,n,r,o,a){ng(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Lf(t,n,!1),xr(e,t,a);r=t.stateNode,bw.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ro(t,e.child,null,a),t.child=ro(t,null,l,a)):Yt(e,t,l,a),t.memoizedState=r.state,o&&Lf(t,n,!0),t.child}function rg(e){var t=e.stateNode;t.pendingContext?$f(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$f(e,t.context,!1),ad(e,t.containerInfo)}function np(e,t,n,r,o){return no(),ed(o),t.flags|=256,Yt(e,t,n,r),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Gc(e){return{baseLanes:e,cachePool:null,transitions:null}}function sg(e,t,n){var r=t.pendingProps,o=ht.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),st(ht,o&1),e===null)return Fc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=sl(i,r,0,null),e=ms(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Gc(n),t.memoizedState=Vc,e):md(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Nw(e,t,i,r,l,o,n);if(a){a=r.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=Vr(l,a):(a=ms(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Gc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Vc,r}return a=e.child,e=a.sibling,r=Vr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function md(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fa(e,t,n,r){return r!==null&&ed(r),ro(t,e.child,null,n),e=md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nw(e,t,n,r,o,a,i){if(n)return t.flags&256?(t.flags&=-257,r=ql(Error(ne(422))),Fa(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=sl({mode:"visible",children:r.children},o,0,null),a=ms(a,o,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ro(t,e.child,null,i),t.child.memoizedState=Gc(i),t.memoizedState=Vc,a);if(!(t.mode&1))return Fa(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ne(419)),r=ql(a,r,void 0),Fa(e,t,i,r)}if(l=(i&e.childLanes)!==0,rn||l){if(r=It,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,gr(e,o),Fn(r,e,o,-1))}return wd(),r=ql(Error(ne(421))),Fa(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Iw.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,fn=Br(o.nextSibling),pn=t,ut=!0,_n=null,e!==null&&(vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=gs,dr=e.id,fr=e.overflow,gs=t),t=md(t,r.children),t.flags|=4096,t)}function rp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$c(e.return,t,n)}function Ql(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function og(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Yt(e,t,r.children,n),r=ht.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rp(e,n,t);else if(e.tag===19)rp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(st(ht,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&_i(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ql(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&_i(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ql(t,!0,n,null,a);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=Vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sw(e,t,n){switch(t.tag){case 3:rg(t),no();break;case 5:Rh(t);break;case 1:on(t.type)&&Si(t);break;case 4:ad(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;st(Ei,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(st(ht,ht.current&1),t.flags|=128,null):n&t.child.childLanes?sg(e,t,n):(st(ht,ht.current&1),e=xr(e,t,n),e!==null?e.sibling:null);st(ht,ht.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return og(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),st(ht,ht.current),r)break;return null;case 22:case 23:return t.lanes=0,tg(e,t,n)}return xr(e,t,n)}var ag,qc,ig,lg;ag=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qc=function(){};ig=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,fs(Xn.current);var a=null;switch(n){case"input":o=hc(e,o),r=hc(e,r),a=[];break;case"select":o=xt({},o,{value:void 0}),r=xt({},r,{value:void 0}),a=[];break;case"textarea":o=vc(e,o),r=vc(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bi)}wc(n,r);var i;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qo.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&it("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};lg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Eo(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cw(e,t,n){var r=t.pendingProps;switch(Ju(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return on(t.type)&&Ni(),Ht(t),null;case 3:return r=t.stateNode,so(),ct(sn),ct(Gt),ld(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(tu(_n),_n=null))),qc(e,t),Ht(t),null;case 5:id(t);var o=fs(oa.current);if(n=t.type,e!==null&&t.stateNode!=null)ig(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ne(166));return Ht(t),null}if(e=fs(Xn.current),Ia(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yn]=t,r[ra]=a,e=(t.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(o=0;o<Io.length;o++)it(Io[o],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":ff(r,a),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},it("invalid",r);break;case"textarea":mf(r,a),it("invalid",r)}wc(n,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&za(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&za(r.textContent,l,e),o=["children",""+l]):qo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&it("scroll",r)}switch(n){case"input":Ea(r),pf(r,a,!0);break;case"textarea":Ea(r),hf(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Im(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Yn]=t,e[ra]=r,ag(e,t,!1,!1),t.stateNode=e;e:{switch(i=jc(n,r),n){case"dialog":it("cancel",e),it("close",e),o=r;break;case"iframe":case"object":case"embed":it("load",e),o=r;break;case"video":case"audio":for(o=0;o<Io.length;o++)it(Io[o],e);o=r;break;case"source":it("error",e),o=r;break;case"img":case"image":case"link":it("error",e),it("load",e),o=r;break;case"details":it("toggle",e),o=r;break;case"input":ff(e,r),o=hc(e,r),it("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xt({},r,{value:void 0}),it("invalid",e);break;case"textarea":mf(e,r),o=vc(e,r),it("invalid",e);break;default:o=r}wc(n,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?$m(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Om(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qo(e,c):typeof c=="number"&&Qo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&it("scroll",e):c!=null&&Fu(e,a,c,i))}switch(n){case"input":Ea(e),pf(e,r,!1);break;case"textarea":Ea(e),hf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ws(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=bi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)lg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ne(166));if(n=fs(oa.current),fs(Xn.current),Ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(a=r.nodeValue!==n)&&(e=pn,e!==null))switch(e.tag){case 3:za(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&za(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return Ht(t),null;case 13:if(ct(ht),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&fn!==null&&t.mode&1&&!(t.flags&128))kh(),no(),t.flags|=98560,a=!1;else if(a=Ia(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ne(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ne(317));a[Yn]=t}else no(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),a=!1}else _n!==null&&(tu(_n),_n=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?At===0&&(At=3):wd())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return so(),qc(e,t),e===null&&ta(t.stateNode.containerInfo),Ht(t),null;case 10:return rd(t.type._context),Ht(t),null;case 17:return on(t.type)&&Ni(),Ht(t),null;case 19:if(ct(ht),a=t.memoizedState,a===null)return Ht(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Eo(a,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=_i(e),i!==null){for(t.flags|=128,Eo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return st(ht,ht.current&1|2),t.child}e=e.sibling}a.tail!==null&&St()>ao&&(t.flags|=128,r=!0,Eo(a,!1),t.lanes=4194304)}else{if(!r)if(e=_i(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Eo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ut)return Ht(t),null}else 2*St()-a.renderingStartTime>ao&&n!==1073741824&&(t.flags|=128,r=!0,Eo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=St(),t.sibling=null,n=ht.current,st(ht,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return yd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function kw(e,t){switch(Ju(t),t.tag){case 1:return on(t.type)&&Ni(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return so(),ct(sn),ct(Gt),ld(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return id(t),null;case 13:if(ct(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));no()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(ht),null;case 4:return so(),null;case 10:return rd(t.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var $a=!1,Vt=!1,Ew=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Bs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(e,t,r)}else n.current=null}function Qc(e,t,n){try{n()}catch(r){jt(e,t,r)}}var sp=!1;function Pw(e,t){if(Rc=yi,e=ph(),Zu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,m=0,f=e,g=null;t:for(;;){for(var w;f!==n||o!==0&&f.nodeType!==3||(l=i+o),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(w=f.firstChild)!==null;)g=f,f=w;for(;;){if(f===e)break t;if(g===n&&++d===o&&(l=i),g===a&&++m===r&&(c=i),(w=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Dc={focusedElem:e,selectionRange:n},yi=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,j=y.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?x:Pn(t.type,x),j);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(b){jt(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return y=sp,sp=!1,y}function Ho(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Qc(t,n,a)}o=o.next}while(o!==r)}}function nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cg(e){var t=e.alternate;t!==null&&(e.alternate=null,cg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[ra],delete t[zc],delete t[uw],delete t[dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ug(e){return e.tag===5||e.tag===3||e.tag===4}function op(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bi));else if(r!==4&&(e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function Zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zc(e,t,n),e=e.sibling;e!==null;)Zc(e,t,n),e=e.sibling}var Ot=null,Tn=!1;function Sr(e,t,n){for(n=n.child;n!==null;)dg(e,t,n),n=n.sibling}function dg(e,t,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Qi,n)}catch{}switch(n.tag){case 5:Vt||Bs(n,t);case 6:var r=Ot,o=Tn;Ot=null,Sr(e,t,n),Ot=r,Tn=o,Ot!==null&&(Tn?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Tn?(e=Ot,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),Xo(e)):Bl(Ot,n.stateNode));break;case 4:r=Ot,o=Tn,Ot=n.stateNode.containerInfo,Tn=!0,Sr(e,t,n),Ot=r,Tn=o;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Qc(n,t,i),o=o.next}while(o!==r)}Sr(e,t,n);break;case 1:if(!Vt&&(Bs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){jt(n,t,l)}Sr(e,t,n);break;case 21:Sr(e,t,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Sr(e,t,n),Vt=r):Sr(e,t,n);break;default:Sr(e,t,n)}}function ap(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ew),t.forEach(function(r){var o=Ow.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,Tn=!1;break e;case 3:Ot=l.stateNode.containerInfo,Tn=!0;break e;case 4:Ot=l.stateNode.containerInfo,Tn=!0;break e}l=l.return}if(Ot===null)throw Error(ne(160));dg(a,i,o),Ot=null,Tn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){jt(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fg(t,e),t=t.sibling}function fg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),Gn(e),r&4){try{Ho(3,e,e.return),nl(3,e)}catch(x){jt(e,e.return,x)}try{Ho(5,e,e.return)}catch(x){jt(e,e.return,x)}}break;case 1:Cn(t,e),Gn(e),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Cn(t,e),Gn(e),r&512&&n!==null&&Bs(n,n.return),e.flags&32){var o=e.stateNode;try{Qo(o,"")}catch(x){jt(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Mm(o,a),jc(l,i);var d=jc(l,a);for(i=0;i<c.length;i+=2){var m=c[i],f=c[i+1];m==="style"?$m(o,f):m==="dangerouslySetInnerHTML"?Om(o,f):m==="children"?Qo(o,f):Fu(o,m,f,d)}switch(l){case"input":gc(o,a);break;case"textarea":zm(o,a);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Ws(o,!!a.multiple,w,!1):g!==!!a.multiple&&(a.defaultValue!=null?Ws(o,!!a.multiple,a.defaultValue,!0):Ws(o,!!a.multiple,a.multiple?[]:"",!1))}o[ra]=a}catch(x){jt(e,e.return,x)}}break;case 6:if(Cn(t,e),Gn(e),r&4){if(e.stateNode===null)throw Error(ne(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(x){jt(e,e.return,x)}}break;case 3:if(Cn(t,e),Gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(t.containerInfo)}catch(x){jt(e,e.return,x)}break;case 4:Cn(t,e),Gn(e);break;case 13:Cn(t,e),Gn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(xd=St())),r&4&&ap(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Vt=(d=Vt)||m,Cn(t,e),Vt=d):Cn(t,e),Gn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(ge=e,m=e.child;m!==null;){for(f=ge=m;ge!==null;){switch(g=ge,w=g.child,g.tag){case 0:case 11:case 14:case 15:Ho(4,g,g.return);break;case 1:Bs(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){jt(r,n,x)}}break;case 5:Bs(g,g.return);break;case 22:if(g.memoizedState!==null){lp(f);continue}}w!==null?(w.return=g,ge=w):lp(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{o=f.stateNode,d?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fm("display",i))}catch(x){jt(e,e.return,x)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){jt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cn(t,e),Gn(e),r&4&&ap(e);break;case 21:break;default:Cn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ug(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Qo(o,""),r.flags&=-33);var a=op(e);Zc(e,a,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=op(e);Kc(e,l,i);break;default:throw Error(ne(161))}}catch(c){jt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tw(e,t,n){ge=e,pg(e)}function pg(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var o=ge,a=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||$a;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Vt;l=$a;var d=Vt;if($a=i,(Vt=c)&&!d)for(ge=o;ge!==null;)i=ge,c=i.child,i.tag===22&&i.memoizedState!==null?cp(o):c!==null?(c.return=i,ge=c):cp(o);for(;a!==null;)ge=a,pg(a),a=a.sibling;ge=o,$a=l,Vt=d}ip(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,ge=a):ip(e)}}function ip(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||nl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Pn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Vf(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vf(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&Xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}Vt||t.flags&512&&Yc(t)}catch(g){jt(t,t.return,g)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function lp(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function cp(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(c){jt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){jt(t,o,c)}}var a=t.return;try{Yc(t)}catch(c){jt(t,a,c)}break;case 5:var i=t.return;try{Yc(t)}catch(c){jt(t,i,c)}}}catch(c){jt(t,t.return,c)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var _w=Math.ceil,Ai=wr.ReactCurrentDispatcher,hd=wr.ReactCurrentOwner,jn=wr.ReactCurrentBatchConfig,Ve=0,It=null,kt=null,Ft=0,un=0,Us=es(0),At=0,ca=null,vs=0,rl=0,gd=0,Vo=null,nn=null,xd=0,ao=1/0,cr=null,Mi=!1,Xc=null,Wr=null,La=!1,Or=null,zi=0,Go=0,Jc=null,oi=-1,ai=0;function Kt(){return Ve&6?St():oi!==-1?oi:oi=St()}function Hr(e){return e.mode&1?Ve&2&&Ft!==0?Ft&-Ft:pw.transition!==null?(ai===0&&(ai=Zm()),ai):(e=Ke,e!==0||(e=window.event,e=e===void 0?16:sh(e.type)),e):1}function Fn(e,t,n,r){if(50<Go)throw Go=0,Jc=null,Error(ne(185));pa(e,n,r),(!(Ve&2)||e!==It)&&(e===It&&(!(Ve&2)&&(rl|=n),At===4&&Rr(e,Ft)),an(e,r),n===1&&Ve===0&&!(t.mode&1)&&(ao=St()+500,Ji&&ts()))}function an(e,t){var n=e.callbackNode;p0(e,t);var r=vi(e,e===It?Ft:0);if(r===0)n!==null&&vf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vf(n),t===1)e.tag===0?fw(up.bind(null,e)):Nh(up.bind(null,e)),lw(function(){!(Ve&6)&&ts()}),n=null;else{switch(Xm(r)){case 1:n=Wu;break;case 4:n=Ym;break;case 16:n=xi;break;case 536870912:n=Km;break;default:n=xi}n=jg(n,mg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mg(e,t){if(oi=-1,ai=0,Ve&6)throw Error(ne(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var r=vi(e,e===It?Ft:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ii(e,r);else{t=r;var o=Ve;Ve|=2;var a=gg();(It!==e||Ft!==t)&&(cr=null,ao=St()+500,ps(e,t));do try{Aw();break}catch(l){hg(e,l)}while(!0);nd(),Ai.current=a,Ve=o,kt!==null?t=0:(It=null,Ft=0,t=At)}if(t!==0){if(t===2&&(o=kc(e),o!==0&&(r=o,t=eu(e,o))),t===1)throw n=ca,ps(e,0),Rr(e,r),an(e,St()),n;if(t===6)Rr(e,r);else{if(o=e.current.alternate,!(r&30)&&!Rw(o)&&(t=Ii(e,r),t===2&&(a=kc(e),a!==0&&(r=a,t=eu(e,a))),t===1))throw n=ca,ps(e,0),Rr(e,r),an(e,St()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ne(345));case 2:ls(e,nn,cr);break;case 3:if(Rr(e,r),(r&130023424)===r&&(t=xd+500-St(),10<t)){if(vi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Kt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Mc(ls.bind(null,e,nn,cr),t);break}ls(e,nn,cr);break;case 4:if(Rr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-On(r);a=1<<i,i=t[i],i>o&&(o=i),r&=~a}if(r=o,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_w(r/1960))-r,10<r){e.timeoutHandle=Mc(ls.bind(null,e,nn,cr),r);break}ls(e,nn,cr);break;case 5:ls(e,nn,cr);break;default:throw Error(ne(329))}}}return an(e,St()),e.callbackNode===n?mg.bind(null,e):null}function eu(e,t){var n=Vo;return e.current.memoizedState.isDehydrated&&(ps(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=nn,nn=n,t!==null&&tu(t)),e}function tu(e){nn===null?nn=e:nn.push.apply(nn,e)}function Rw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!$n(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rr(e,t){for(t&=~gd,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),r=1<<n;e[n]=-1,t&=~r}}function up(e){if(Ve&6)throw Error(ne(327));Qs();var t=vi(e,0);if(!(t&1))return an(e,St()),null;var n=Ii(e,t);if(e.tag!==0&&n===2){var r=kc(e);r!==0&&(t=r,n=eu(e,r))}if(n===1)throw n=ca,ps(e,0),Rr(e,t),an(e,St()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ls(e,nn,cr),an(e,St()),null}function vd(e,t){var n=Ve;Ve|=1;try{return e(t)}finally{Ve=n,Ve===0&&(ao=St()+500,Ji&&ts())}}function ys(e){Or!==null&&Or.tag===0&&!(Ve&6)&&Qs();var t=Ve;Ve|=1;var n=jn.transition,r=Ke;try{if(jn.transition=null,Ke=1,e)return e()}finally{Ke=r,jn.transition=n,Ve=t,!(Ve&6)&&ts()}}function yd(){un=Us.current,ct(Us)}function ps(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iw(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Ju(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ni();break;case 3:so(),ct(sn),ct(Gt),ld();break;case 5:id(r);break;case 4:so();break;case 13:ct(ht);break;case 19:ct(ht);break;case 10:rd(r.type._context);break;case 22:case 23:yd()}n=n.return}if(It=e,kt=e=Vr(e.current,null),Ft=un=t,At=0,ca=null,gd=rl=vs=0,nn=Vo=null,ds!==null){for(t=0;t<ds.length;t++)if(n=ds[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=o,r.next=i}n.pending=r}ds=null}return e}function hg(e,t){do{var n=kt;try{if(nd(),ni.current=Di,Ri){for(var r=gt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ri=!1}if(xs=0,zt=Dt=gt=null,Wo=!1,aa=0,hd.current=null,n===null||n.return===null){At=1,ca=t,kt=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=Zf(i);if(w!==null){w.flags&=-257,Xf(w,i,l,a,t),w.mode&1&&Kf(a,d,t),t=w,c=d;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){Kf(a,d,t),wd();break e}c=Error(ne(426))}}else if(ut&&l.mode&1){var j=Zf(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Xf(j,i,l,a,t),ed(oo(c,l));break e}}a=c=oo(c,l),At!==4&&(At=2),Vo===null?Vo=[a]:Vo.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=Xh(a,c,t);Hf(a,h);break e;case 1:l=c;var p=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wr===null||!Wr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Jh(a,l,t);Hf(a,b);break e}}a=a.return}while(a!==null)}vg(n)}catch(C){t=C,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function gg(){var e=Ai.current;return Ai.current=Di,e===null?Di:e}function wd(){(At===0||At===3||At===2)&&(At=4),It===null||!(vs&268435455)&&!(rl&268435455)||Rr(It,Ft)}function Ii(e,t){var n=Ve;Ve|=2;var r=gg();(It!==e||Ft!==t)&&(cr=null,ps(e,t));do try{Dw();break}catch(o){hg(e,o)}while(!0);if(nd(),Ve=n,Ai.current=r,kt!==null)throw Error(ne(261));return It=null,Ft=0,At}function Dw(){for(;kt!==null;)xg(kt)}function Aw(){for(;kt!==null&&!s0();)xg(kt)}function xg(e){var t=wg(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?vg(e):kt=t,hd.current=null}function vg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kw(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,kt=null;return}}else if(n=Cw(n,t,un),n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);At===0&&(At=5)}function ls(e,t,n){var r=Ke,o=jn.transition;try{jn.transition=null,Ke=1,Mw(e,t,n,r)}finally{jn.transition=o,Ke=r}return null}function Mw(e,t,n,r){do Qs();while(Or!==null);if(Ve&6)throw Error(ne(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(m0(e,a),e===It&&(kt=It=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,jg(xi,function(){return Qs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=jn.transition,jn.transition=null;var i=Ke;Ke=1;var l=Ve;Ve|=4,hd.current=null,Pw(e,n),fg(n,e),ew(Dc),yi=!!Rc,Dc=Rc=null,e.current=n,Tw(n),o0(),Ve=l,Ke=i,jn.transition=a}else e.current=n;if(La&&(La=!1,Or=e,zi=o),a=e.pendingLanes,a===0&&(Wr=null),l0(n.stateNode),an(e,St()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Mi)throw Mi=!1,e=Xc,Xc=null,e;return zi&1&&e.tag!==0&&Qs(),a=e.pendingLanes,a&1?e===Jc?Go++:(Go=0,Jc=e):Go=0,ts(),null}function Qs(){if(Or!==null){var e=Xm(zi),t=jn.transition,n=Ke;try{if(jn.transition=null,Ke=16>e?16:e,Or===null)var r=!1;else{if(e=Or,Or=null,zi=0,Ve&6)throw Error(ne(331));var o=Ve;for(Ve|=4,ge=e.current;ge!==null;){var a=ge,i=a.child;if(ge.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ge=d;ge!==null;){var m=ge;switch(m.tag){case 0:case 11:case 15:Ho(8,m,a)}var f=m.child;if(f!==null)f.return=m,ge=f;else for(;ge!==null;){m=ge;var g=m.sibling,w=m.return;if(cg(m),m===d){ge=null;break}if(g!==null){g.return=w,ge=g;break}ge=w}}}var y=a.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}ge=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,ge=i;else e:for(;ge!==null;){if(a=ge,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ho(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,ge=h;break e}ge=a.return}}var p=e.current;for(ge=p;ge!==null;){i=ge;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,ge=v;else e:for(i=p;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(C){jt(l,l.return,C)}if(l===i){ge=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ge=b;break e}ge=l.return}}if(Ve=o,ts(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Qi,e)}catch{}r=!0}return r}finally{Ke=n,jn.transition=t}}return!1}function dp(e,t,n){t=oo(n,t),t=Xh(e,t,1),e=Ur(e,t,1),t=Kt(),e!==null&&(pa(e,1,t),an(e,t))}function jt(e,t,n){if(e.tag===3)dp(e,e,n);else for(;t!==null;){if(t.tag===3){dp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){e=oo(n,e),e=Jh(t,e,1),t=Ur(t,e,1),e=Kt(),t!==null&&(pa(t,1,e),an(t,e));break}}t=t.return}}function zw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Kt(),e.pingedLanes|=e.suspendedLanes&n,It===e&&(Ft&n)===n&&(At===4||At===3&&(Ft&130023424)===Ft&&500>St()-xd?ps(e,0):gd|=n),an(e,t)}function yg(e,t){t===0&&(e.mode&1?(t=_a,_a<<=1,!(_a&130023424)&&(_a=4194304)):t=1);var n=Kt();e=gr(e,t),e!==null&&(pa(e,t,n),an(e,n))}function Iw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yg(e,n)}function Ow(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(t),yg(e,n)}var wg;wg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)rn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rn=!1,Sw(e,t,n);rn=!!(e.flags&131072)}else rn=!1,ut&&t.flags&1048576&&Sh(t,ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;si(e,t),e=t.pendingProps;var o=to(t,Gt.current);qs(t,n),o=ud(null,t,r,e,o,n);var a=dd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(r)?(a=!0,Si(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,od(t),o.updater=tl,t.stateNode=o,o._reactInternals=t,Bc(t,r,e,n),t=Hc(null,t,r,!0,a,n)):(t.tag=0,ut&&a&&Xu(t),Yt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(si(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=$w(r),e=Pn(r,e),o){case 0:t=Wc(null,t,r,e,n);break e;case 1:t=tp(null,t,r,e,n);break e;case 11:t=Jf(null,t,r,e,n);break e;case 14:t=ep(null,t,r,Pn(r.type,e),n);break e}throw Error(ne(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),Wc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),tp(e,t,r,o,n);case 3:e:{if(rg(t),e===null)throw Error(ne(387));r=t.pendingProps,a=t.memoizedState,o=a.element,_h(e,t),Ti(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=oo(Error(ne(423)),t),t=np(e,t,r,n,o);break e}else if(r!==o){o=oo(Error(ne(424)),t),t=np(e,t,r,n,o);break e}else for(fn=Br(t.stateNode.containerInfo.firstChild),pn=t,ut=!0,_n=null,n=Ph(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===o){t=xr(e,t,n);break e}Yt(e,t,r,n)}t=t.child}return t;case 5:return Rh(t),e===null&&Fc(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,Ac(r,o)?i=null:a!==null&&Ac(r,a)&&(t.flags|=32),ng(e,t),Yt(e,t,i,n),t.child;case 6:return e===null&&Fc(t),null;case 13:return sg(e,t,n);case 4:return ad(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ro(t,null,r,n):Yt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),Jf(e,t,r,o,n);case 7:return Yt(e,t,t.pendingProps,n),t.child;case 8:return Yt(e,t,t.pendingProps.children,n),t.child;case 12:return Yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,st(Ei,r._currentValue),r._currentValue=i,a!==null)if($n(a.value,i)){if(a.children===o.children&&!sn.current){t=xr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=pr(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),$c(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ne(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$c(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Yt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,qs(t,n),o=bn(o),r=r(o),t.flags|=1,Yt(e,t,r,n),t.child;case 14:return r=t.type,o=Pn(r,t.pendingProps),o=Pn(r.type,o),ep(e,t,r,o,n);case 15:return eg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),si(e,t),t.tag=1,on(r)?(e=!0,Si(t)):e=!1,qs(t,n),Zh(t,r,o),Bc(t,r,o,n),Hc(null,t,r,!0,e,n);case 19:return og(e,t,n);case 22:return tg(e,t,n)}throw Error(ne(156,t.tag))};function jg(e,t){return Qm(e,t)}function Fw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,n,r){return new Fw(e,t,n,r)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $w(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lu)return 11;if(e===Bu)return 14}return 2}function Vr(e,t){var n=e.alternate;return n===null?(n=wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ii(e,t,n,r,o,a){var i=2;if(r=e,typeof e=="function")jd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ds:return ms(n.children,o,a,t);case $u:i=8,o|=8;break;case dc:return e=wn(12,n,t,o|2),e.elementType=dc,e.lanes=a,e;case fc:return e=wn(13,n,t,o),e.elementType=fc,e.lanes=a,e;case pc:return e=wn(19,n,t,o),e.elementType=pc,e.lanes=a,e;case Rm:return sl(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tm:i=10;break e;case _m:i=9;break e;case Lu:i=11;break e;case Bu:i=14;break e;case Pr:i=16,r=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=wn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function ms(e,t,n,r){return e=wn(7,e,r,t),e.lanes=n,e}function sl(e,t,n,r){return e=wn(22,e,r,t),e.elementType=Rm,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=wn(6,e,null,t),e.lanes=n,e}function Kl(e,t,n){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bd(e,t,n,r,o,a,i,l,c){return e=new Lw(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(a),e}function Bw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bg(e){if(!e)return Yr;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(on(n))return bh(e,n,t)}return t}function Ng(e,t,n,r,o,a,i,l,c){return e=bd(n,r,!0,e,o,a,i,l,c),e.context=bg(null),n=e.current,r=Kt(),o=Hr(n),a=pr(r,o),a.callback=t??null,Ur(n,a,o),e.current.lanes=o,pa(e,o,r),an(e,r),e}function ol(e,t,n,r){var o=t.current,a=Kt(),i=Hr(o);return n=bg(n),t.context===null?t.context=n:t.pendingContext=n,t=pr(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ur(o,t,i),e!==null&&(Fn(e,o,i,a),ti(e,o,i)),i}function Oi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nd(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function Uw(){return null}var Sg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sd(e){this._internalRoot=e}al.prototype.render=Sd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));ol(e,t,null,null)};al.prototype.unmount=Sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ys(function(){ol(null,e,null,null)}),t[hr]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=th();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&rh(e)}};function Cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pp(){}function Ww(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var d=Oi(i);a.call(d)}}var i=Ng(t,r,e,0,null,!1,!1,"",pp);return e._reactRootContainer=i,e[hr]=i.current,ta(e.nodeType===8?e.parentNode:e),ys(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var d=Oi(c);l.call(d)}}var c=bd(e,0,!1,null,null,!1,!1,"",pp);return e._reactRootContainer=c,e[hr]=c.current,ta(e.nodeType===8?e.parentNode:e),ys(function(){ol(t,c,n,r)}),c}function ll(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=Oi(i);l.call(c)}}ol(t,i,e,o)}else i=Ww(n,t,e,o,r);return Oi(i)}Jm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zo(t.pendingLanes);n!==0&&(Hu(t,n|1),an(t,St()),!(Ve&6)&&(ao=St()+500,ts()))}break;case 13:ys(function(){var r=gr(e,1);if(r!==null){var o=Kt();Fn(r,e,1,o)}}),Nd(e,1)}};Vu=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var n=Kt();Fn(t,e,134217728,n)}Nd(e,134217728)}};eh=function(e){if(e.tag===13){var t=Hr(e),n=gr(e,t);if(n!==null){var r=Kt();Fn(n,e,t,r)}Nd(e,t)}};th=function(){return Ke};nh=function(e,t){var n=Ke;try{return Ke=e,t()}finally{Ke=n}};Nc=function(e,t,n){switch(t){case"input":if(gc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Xi(r);if(!o)throw Error(ne(90));Am(r),gc(r,o)}}}break;case"textarea":zm(e,n);break;case"select":t=n.value,t!=null&&Ws(e,!!n.multiple,t,!1)}};Um=vd;Wm=ys;var Hw={usingClientEntryPoint:!1,Events:[ha,Is,Xi,Lm,Bm,vd]},Po={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vw={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gm(e),e===null?null:e.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||Uw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Qi=Ba.inject(Vw),Zn=Ba}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(t))throw Error(ne(200));return Bw(e,t,null,n)};gn.createRoot=function(e,t){if(!Cd(e))throw Error(ne(299));var n=!1,r="",o=Sg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bd(e,1,!1,null,null,n,!1,r,o),e[hr]=t.current,ta(e.nodeType===8?e.parentNode:e),new Sd(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=Gm(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return ys(e)};gn.hydrate=function(e,t,n){if(!il(t))throw Error(ne(200));return ll(null,e,t,!0,n)};gn.hydrateRoot=function(e,t,n){if(!Cd(e))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",i=Sg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ng(t,null,e,1,n??null,o,!1,a,i),e[hr]=t.current,ta(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new al(t)};gn.render=function(e,t,n){if(!il(t))throw Error(ne(200));return ll(null,e,t,!1,n)};gn.unmountComponentAtNode=function(e){if(!il(e))throw Error(ne(40));return e._reactRootContainer?(ys(function(){ll(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};gn.unstable_batchedUpdates=vd;gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return ll(e,t,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function Cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cg)}catch(e){console.error(e)}}Cg(),Cm.exports=gn;var po=Cm.exports;const kg=Ru(po);var mp=po;cc.createRoot=mp.createRoot,cc.hydrateRoot=mp.hydrateRoot;var Gw=(e,t,n,r,o,a,i,l)=>{let c=document.documentElement,d=["light","dark"];function m(w){(Array.isArray(e)?e:[e]).forEach(y=>{let x=y==="class",j=x&&a?o.map(h=>a[h]||h):o;x?(c.classList.remove(...j),c.classList.add(a&&a[w]?a[w]:w)):c.setAttribute(y,w)}),f(w)}function f(w){l&&d.includes(w)&&(c.style.colorScheme=w)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)m(r);else try{let w=localStorage.getItem(t)||n,y=i&&w==="system"?g():w;m(y)}catch{}},hp=["light","dark"],Eg="(prefers-color-scheme: dark)",qw=typeof window>"u",kd=u.createContext(void 0),Qw={setTheme:e=>{},themes:[]},Yw=()=>{var e;return(e=u.useContext(kd))!=null?e:Qw},Kw=e=>u.useContext(kd)?u.createElement(u.Fragment,null,e.children):u.createElement(Xw,{...e}),Zw=["light","dark"],Xw=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:a=Zw,defaultTheme:i=n?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:m,scriptProps:f})=>{let[g,w]=u.useState(()=>e1(o,i)),[y,x]=u.useState(()=>g==="system"?Zl():g),j=c?Object.values(c):a,h=u.useCallback(C=>{let E=C;if(!E)return;C==="system"&&n&&(E=Zl());let k=c?c[E]:E,_=t?t1(m):null,Q=document.documentElement,F=ee=>{ee==="class"?(Q.classList.remove(...j),k&&Q.classList.add(k)):ee.startsWith("data-")&&(k?Q.setAttribute(ee,k):Q.removeAttribute(ee))};if(Array.isArray(l)?l.forEach(F):F(l),r){let ee=hp.includes(i)?i:null,U=hp.includes(E)?E:ee;Q.style.colorScheme=U}_==null||_()},[m]),p=u.useCallback(C=>{let E=typeof C=="function"?C(g):C;w(E);try{localStorage.setItem(o,E)}catch{}},[g]),v=u.useCallback(C=>{let E=Zl(C);x(E),g==="system"&&n&&!e&&h("system")},[g,e]);u.useEffect(()=>{let C=window.matchMedia(Eg);return C.addListener(v),v(C),()=>C.removeListener(v)},[v]),u.useEffect(()=>{let C=E=>{E.key===o&&(E.newValue?w(E.newValue):p(i))};return window.addEventListener("storage",C),()=>window.removeEventListener("storage",C)},[p]),u.useEffect(()=>{h(e??g)},[e,g]);let b=u.useMemo(()=>({theme:g,setTheme:p,forcedTheme:e,resolvedTheme:g==="system"?y:g,themes:n?[...a,"system"]:a,systemTheme:n?y:void 0}),[g,p,e,y,n,a]);return u.createElement(kd.Provider,{value:b},u.createElement(Jw,{forcedTheme:e,storageKey:o,attribute:l,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:c,themes:a,nonce:m,scriptProps:f}),d)},Jw=u.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:i,themes:l,nonce:c,scriptProps:d})=>{let m=JSON.stringify([n,t,a,e,l,i,r,o]).slice(1,-1);return u.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Gw.toString()})(${m})`}})}),e1=(e,t)=>{if(qw)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},t1=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Zl=e=>(e||(e=window.matchMedia(Eg)),e.matches?"dark":"light");const n1="modulepreload",r1=function(e){return"/"+e},gp={},nu=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=r1(c),c in gp)return;gp[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":n1,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((g,w)=>{f.addEventListener("load",g),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},te="http://localhost:8080";function xp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pg(...e){return t=>{let n=!1;const r=e.map(o=>{const a=xp(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():xp(e[o],null)}}}}function ot(...e){return u.useCallback(Pg(...e),e)}var Kr=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),a=o.find(s1);if(a){const i=a.props.children,l=o.map(c=>c===a?u.Children.count(i)>1?u.Children.only(null):u.isValidElement(i)?i.props.children:null:c);return s.jsx(ru,{...r,ref:t,children:u.isValidElement(i)?u.cloneElement(i,void 0,l):null})}return s.jsx(ru,{...r,ref:t,children:n})});Kr.displayName="Slot";var ru=u.forwardRef((e,t)=>{const{children:n,...r}=e;if(u.isValidElement(n)){const o=a1(n),a=o1(r,n.props);return n.type!==u.Fragment&&(a.ref=t?Pg(t,o):o),u.cloneElement(n,a)}return u.Children.count(n)>1?u.Children.only(null):null});ru.displayName="SlotClone";var Tg=({children:e})=>s.jsx(s.Fragment,{children:e});function s1(e){return u.isValidElement(e)&&e.type===Tg}function o1(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...l)=>{a(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function a1(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _g(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=_g(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rg(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=_g(e))&&(r&&(r+=" "),r+=t);return r}const vp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yp=Rg,Dg=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return yp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(d=>{const m=n==null?void 0:n[d],f=a==null?void 0:a[d];if(m===null)return null;const g=vp(m)||vp(f);return o[d][g]}),l=n&&Object.entries(n).reduce((d,m)=>{let[f,g]=m;return g===void 0||(d[f]=g),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:f,className:g,...w}=m;return Object.entries(w).every(y=>{let[x,j]=y;return Array.isArray(j)?j.includes({...a,...l}[x]):{...a,...l}[x]===j})?[...d,f,g]:d},[]);return yp(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Ed="-",i1=e=>{const t=c1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Ed);return l[0]===""&&l.length!==1&&l.shift(),Ag(l,t)||l1(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Ag=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Ag(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Ed);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},wp=/^\[(.+)\]$/,l1=e=>{if(wp.test(e)){const t=wp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},c1=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return d1(Object.entries(e.classGroups),n).forEach(([a,i])=>{su(i,r,a,t)}),r},su=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:jp(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(u1(o)){su(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,i])=>{su(i,jp(t,a),n,r)})})},jp=(e,t)=>{let n=e;return t.split(Ed).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},u1=e=>e.isThemeGetter,d1=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[n,o]}):e,f1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return o(a,i),i},set(a,i){n.has(a)?n.set(a,i):o(a,i)}}},Mg="!",p1=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,i=l=>{const c=[];let d=0,m=0,f;for(let j=0;j<l.length;j++){let h=l[j];if(d===0){if(h===o&&(r||l.slice(j,j+a)===t)){c.push(l.slice(m,j)),m=j+a;continue}if(h==="/"){f=j;continue}}h==="["?d++:h==="]"&&d--}const g=c.length===0?l:l.substring(m),w=g.startsWith(Mg),y=w?g.substring(1):g,x=f&&f>m?f-m:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:i}):i},m1=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},h1=e=>({cache:f1(e.cacheSize),parseClassName:p1(e),...i1(e)}),g1=/\s+/,x1=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(g1);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:m,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:w}=n(d);let y=!!w,x=r(y?g.substring(0,w):g);if(!x){if(!y){l=d+(l.length>0?" "+l:l);continue}if(x=r(g),!x){l=d+(l.length>0?" "+l:l);continue}y=!1}const j=m1(m).join(":"),h=f?j+Mg:j,p=h+x;if(a.includes(p))continue;a.push(p);const v=o(x,y);for(let b=0;b<v.length;++b){const C=v[b];a.push(h+C)}l=d+(l.length>0?" "+l:l)}return l};function v1(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=zg(t))&&(r&&(r+=" "),r+=n);return r}const zg=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=zg(e[r]))&&(n&&(n+=" "),n+=t);return n};function y1(e,...t){let n,r,o,a=i;function i(c){const d=t.reduce((m,f)=>f(m),e());return n=h1(d),r=n.cache.get,o=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const m=x1(c,n);return o(c,m),m}return function(){return a(v1.apply(null,arguments))}}const at=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ig=/^\[(?:([a-z-]+):)?(.+)\]$/i,w1=/^\d+\/\d+$/,j1=new Set(["px","full","screen"]),b1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,N1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,S1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,C1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=e=>Ys(e)||j1.has(e)||w1.test(e),Cr=e=>mo(e,"length",M1),Ys=e=>!!e&&!Number.isNaN(Number(e)),Xl=e=>mo(e,"number",Ys),To=e=>!!e&&Number.isInteger(Number(e)),E1=e=>e.endsWith("%")&&Ys(e.slice(0,-1)),Ae=e=>Ig.test(e),kr=e=>b1.test(e),P1=new Set(["length","size","percentage"]),T1=e=>mo(e,P1,Og),_1=e=>mo(e,"position",Og),R1=new Set(["image","url"]),D1=e=>mo(e,R1,I1),A1=e=>mo(e,"",z1),_o=()=>!0,mo=(e,t,n)=>{const r=Ig.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},M1=e=>N1.test(e)&&!S1.test(e),Og=()=>!1,z1=e=>C1.test(e),I1=e=>k1.test(e),O1=()=>{const e=at("colors"),t=at("spacing"),n=at("blur"),r=at("brightness"),o=at("borderColor"),a=at("borderRadius"),i=at("borderSpacing"),l=at("borderWidth"),c=at("contrast"),d=at("grayscale"),m=at("hueRotate"),f=at("invert"),g=at("gap"),w=at("gradientColorStops"),y=at("gradientColorStopPositions"),x=at("inset"),j=at("margin"),h=at("opacity"),p=at("padding"),v=at("saturate"),b=at("scale"),C=at("sepia"),E=at("skew"),k=at("space"),_=at("translate"),Q=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Ae,t],U=()=>[Ae,t],O=()=>["",lr,Cr],G=()=>["auto",Ys,Ae],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Ae],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],B=()=>[Ys,Ae];return{cacheSize:500,separator:":",theme:{colors:[_o],spacing:[lr,Cr],blur:["none","",kr,Ae],brightness:B(),borderColor:[e],borderRadius:["none","","full",kr,Ae],borderSpacing:U(),borderWidth:O(),contrast:B(),grayscale:A(),hueRotate:B(),invert:A(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[E1,Cr],inset:ee(),margin:ee(),opacity:B(),padding:U(),saturate:B(),scale:B(),sepia:A(),skew:B(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[kr]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Ae]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To,Ae]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",To,Ae]}],"grid-cols":[{"grid-cols":[_o]}],"col-start-end":[{col:["auto",{span:["full",To,Ae]},Ae]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[_o]}],"row-start-end":[{row:["auto",{span:[To,Ae]},Ae]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[kr]},kr]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kr,Cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xl]}],"font-family":[{font:[_o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Ys,Xl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lr,Cr]}],"underline-offset":[{"underline-offset":["auto",lr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),_1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:L()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[lr,Ae]}],"outline-w":[{outline:[lr,Cr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[lr,Cr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kr,A1]}],"shadow-color":[{shadow:[_o]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kr,Ae]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:B()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:B()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[To,Ae]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lr,Cr,Xl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F1=y1(O1);function Re(...e){return F1(Rg(e))}const Pd=Dg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Z({className:e,variant:t,size:n,asChild:r=!1,...o}){const a=r?Kr:"button";return s.jsx(a,{"data-slot":"button",className:Re(Pd({variant:t,size:n,className:e})),...o})}function Pe({className:e,type:t,...n}){return s.jsx("input",{type:t,"data-slot":"input",className:Re("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var $1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=$1.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:a,...i}=r,l=a?Kr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function L1(e,t){e&&po.flushSync(()=>e.dispatchEvent(t))}var B1="Label",Fg=u.forwardRef((e,t)=>s.jsx(Ie.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Fg.displayName=B1;var U1=Fg;function we({className:e,...t}){return s.jsx(U1,{"data-slot":"label",className:Re("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function et({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:Re("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function dt({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:Re("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ft({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:Re("leading-none",e),...t})}function $g({className:e,...t}){return s.jsx("p",{"data-slot":"card-description",className:Re("text-muted-foreground",e),...t})}function rt({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:Re("px-6 [&:last-child]:pb-6",e),...t})}function W1(e,t){const n=u.createContext(t),r=a=>{const{children:i,...l}=a,c=u.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function o(a){const i=u.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function tr(e,t=[]){let n=[];function r(a,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var h;const{scope:g,children:w,...y}=f,x=((h=g==null?void 0:g[e])==null?void 0:h[c])||l,j=u.useMemo(()=>y,Object.values(y));return s.jsx(x.Provider,{value:j,children:w})};d.displayName=a+"Provider";function m(f,g){var x;const w=((x=g==null?void 0:g[e])==null?void 0:x[c])||l,y=u.useContext(w);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,m]}const o=()=>{const a=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,H1(o,...t)]}function H1(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ln(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ws({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=V1({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=Ln(n),c=u.useCallback(d=>{if(a){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else o(d)},[a,e,o,l]);return[i,c]}function V1({defaultProp:e,onChange:t}){const n=u.useState(e),[r]=n,o=u.useRef(r),a=Ln(t);return u.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}function Td(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lt=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function _d(e){const[t,n]=u.useState(void 0);return Lt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function G1(e,t){return u.useReducer((n,r)=>t[n][r]??n,e)}var ho=e=>{const{present:t,children:n}=e,r=q1(t),o=typeof n=="function"?n({present:r.isPresent}):u.Children.only(n),a=ot(r.ref,Q1(o));return typeof n=="function"||r.isPresent?u.cloneElement(o,{ref:a}):null};ho.displayName="Presence";function q1(e){const[t,n]=u.useState(),r=u.useRef({}),o=u.useRef(e),a=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=G1(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Ua(r.current);a.current=l==="mounted"?d:"none"},[l]),Lt(()=>{const d=r.current,m=o.current;if(m!==e){const g=a.current,w=Ua(d);e?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&g!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Lt(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,f=w=>{const x=Ua(r.current).includes(w.animationName);if(w.target===t&&x&&(c("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=w=>{w.target===t&&(a.current=Ua(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Ua(e){return(e==null?void 0:e.animationName)||"none"}function Q1(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rd="Checkbox",[Y1]=tr(Rd),[K1,Z1]=Y1(Rd),Lg=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:m,...f}=e,[g,w]=u.useState(null),y=ot(t,b=>w(b)),x=u.useRef(!1),j=g?m||!!g.closest("form"):!0,[h=!1,p]=ws({prop:o,defaultProp:a,onChange:d}),v=u.useRef(h);return u.useEffect(()=>{const b=g==null?void 0:g.form;if(b){const C=()=>p(v.current);return b.addEventListener("reset",C),()=>b.removeEventListener("reset",C)}},[g,p]),s.jsxs(K1,{scope:n,state:h,disabled:l,children:[s.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Gr(h)?"mixed":h,"aria-required":i,"data-state":Wg(h),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:Oe(e.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Oe(e.onClick,b=>{p(C=>Gr(C)?!0:!C),j&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),j&&s.jsx(X1,{control:g,bubbles:!x.current,name:r,value:c,checked:h,required:i,disabled:l,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Gr(a)?!1:a})]})});Lg.displayName=Rd;var Bg="CheckboxIndicator",Ug=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=Z1(Bg,n);return s.jsx(ho,{present:r||Gr(a.state)||a.state===!0,children:s.jsx(Ie.span,{"data-state":Wg(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Ug.displayName=Bg;var X1=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...a}=e,i=u.useRef(null),l=Td(n),c=_d(t);u.useEffect(()=>{const m=i.current,f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&w){const y=new Event("click",{bubbles:r});m.indeterminate=Gr(n),w.call(m,Gr(n)?!1:n),m.dispatchEvent(y)}},[l,n,r]);const d=u.useRef(Gr(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??d.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gr(e){return e==="indeterminate"}function Wg(e){return Gr(e)?"indeterminate":e?"checked":"unchecked"}var J1=Lg,ej=Ug;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),bp=e=>{const t=nj(e);return t.charAt(0).toUpperCase()+t.slice(1)},Hg=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...rj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Hg("lucide",o),...l},[...i.map(([d,m])=>u.createElement(d,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(e,t)=>{const n=u.forwardRef(({className:r,...o},a)=>u.createElement(sj,{ref:a,iconNode:t,className:Hg(`lucide-${tj(bp(e))}`,`lucide-${e}`,r),...o}));return n.displayName=bp(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ou=Me("arrow-left",oj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Rn=Me("book-open",aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lj=Me("calendar",ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cl=Me("check",cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dd=Me("chevron-down",uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Np=Me("chevron-left",dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sp=Me("chevron-right",fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mj=Me("chevron-up",pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gj=Me("circle-alert",hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vj=Me("circle-check-big",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ad=Me("circle-check",yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jj=Me("circle-help",wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Nj=Me("circle-user",bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vg=Me("circle-x",Sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],kj=Me("clock-3",Cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Gg=Me("clock",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],Cp=Me("door-open",Pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],au=Me("file-text",Tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],iu=Me("graduation-cap",_j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Dj=Me("grip-vertical",Rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mj=Me("layout-dashboard",Aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dn=Me("loader-circle",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Oj=Me("log-out",Ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kp=Me("map-pin",Fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Lj=Me("mic-off",$j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],qg=Me("mic",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Wj=Me("monitor",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Md=Me("pencil",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ua=Me("plus",Vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],qj=Me("refresh-ccw",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Yj=Me("search",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zj=Me("settings",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ul=Me("trash-2",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],eb=Me("trending-up",Jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],nb=Me("undo-2",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Qg=Me("upload",rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Yg=Me("user-plus",sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],lu=Me("users",ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ib=Me("video-off",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ks=Me("video",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dl=Me("x",cb);function Kg({className:e,...t}){return s.jsx(J1,{"data-slot":"checkbox",className:Re("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(ej,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(cl,{className:"size-3.5"})})})}function ub({onLogin:e,onNavigateToRegister:t}){const[n,r]=u.useState(""),[o,a]=u.useState(""),[i,l]=u.useState(!1),[c,d]=u.useState(!1),m=async f=>{f.preventDefault(),d(!0);try{await e(n,o)}catch(g){console.error("Login failed:",g)}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 p-4",children:s.jsxs(et,{className:"w-full max-w-md",children:[s.jsxs(dt,{className:"space-y-1",children:[s.jsx(ft,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),s.jsx($g,{className:"text-center",children:"Sign in to your student account"})]}),s.jsx(rt,{children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"email",children:"Email"}),s.jsx(Pe,{id:"email",type:"email",placeholder:"student@university.edu",value:n,onChange:f=>r(f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"password",children:"Password"}),s.jsx(Pe,{id:"password",type:"password",placeholder:"",value:o,onChange:f=>a(f.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kg,{id:"remember",checked:i,onCheckedChange:f=>l(f)}),s.jsx(we,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx(Z,{type:"submit",className:"w-full",disabled:c,children:c?"Signing in...":"Log In"}),s.jsx(Z,{type:"button",variant:"outline",className:"w-full",onClick:t,children:"Go to Register"})]})})]})})}function Ep(e,[t,n]){return Math.min(n,Math.max(t,e))}function Zg(e){const t=e+"CollectionProvider",[n,r]=tr(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:y,children:x}=w,j=oe.useRef(null),h=oe.useRef(new Map).current;return s.jsx(o,{scope:y,itemMap:h,collectionRef:j,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=oe.forwardRef((w,y)=>{const{scope:x,children:j}=w,h=a(l,x),p=ot(y,h.collectionRef);return s.jsx(Kr,{ref:p,children:j})});c.displayName=l;const d=e+"CollectionItemSlot",m="data-radix-collection-item",f=oe.forwardRef((w,y)=>{const{scope:x,children:j,...h}=w,p=oe.useRef(null),v=ot(y,p),b=a(d,x);return oe.useEffect(()=>(b.itemMap.set(p,{ref:p,...h}),()=>void b.itemMap.delete(p))),s.jsx(Kr,{[m]:"",ref:v,children:j})});f.displayName=d;function g(w){const y=a(e+"CollectionConsumer",w);return oe.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const h=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((b,C)=>h.indexOf(b.ref.current)-h.indexOf(C.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},g,r]}var db=u.createContext(void 0);function zd(e){const t=u.useContext(db);return e||t||"ltr"}function fb(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e);u.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var pb="DismissableLayer",cu="dismissableLayer.update",mb="dismissableLayer.pointerDownOutside",hb="dismissableLayer.focusOutside",Pp,Xg=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Id=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(Xg),[m,f]=u.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=u.useState({}),y=ot(t,k=>f(k)),x=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=x.indexOf(j),p=m?x.indexOf(m):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,b=p>=h,C=vb(k=>{const _=k.target,Q=[...d.branches].some(F=>F.contains(_));!b||Q||(o==null||o(k),i==null||i(k),k.defaultPrevented||l==null||l())},g),E=yb(k=>{const _=k.target;[...d.branches].some(F=>F.contains(_))||(a==null||a(k),i==null||i(k),k.defaultPrevented||l==null||l())},g);return fb(k=>{p===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},g),u.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Pp=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Tp(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Pp)}},[m,g,n,d]),u.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Tp())},[m,d]),u.useEffect(()=>{const k=()=>w({});return document.addEventListener(cu,k),()=>document.removeEventListener(cu,k)},[]),s.jsx(Ie.div,{...c,ref:y,style:{pointerEvents:v?b?"auto":"none":void 0,...e.style},onFocusCapture:Oe(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Oe(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Oe(e.onPointerDownCapture,C.onPointerDownCapture)})});Id.displayName=pb;var gb="DismissableLayerBranch",xb=u.forwardRef((e,t)=>{const n=u.useContext(Xg),r=u.useRef(null),o=ot(t,r);return u.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Ie.div,{...e,ref:o})});xb.displayName=gb;function vb(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=u.useRef(!1),o=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Jg(mb,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function yb(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=u.useRef(!1);return u.useEffect(()=>{const o=a=>{a.target&&!r.current&&Jg(hb,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tp(){const e=new CustomEvent(cu);document.dispatchEvent(e)}function Jg(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?L1(o,a):o.dispatchEvent(a)}var Jl=0;function ex(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_p()),document.body.insertAdjacentElement("beforeend",e[1]??_p()),Jl++,()=>{Jl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jl--}},[])}function _p(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ec="focusScope.autoFocusOnMount",tc="focusScope.autoFocusOnUnmount",Rp={bubbles:!1,cancelable:!0},wb="FocusScope",Od=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,c]=u.useState(null),d=Ln(o),m=Ln(a),f=u.useRef(null),g=ot(t,x=>c(x)),w=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let x=function(v){if(w.paused||!l)return;const b=v.target;l.contains(b)?f.current=b:Er(f.current,{select:!0})},j=function(v){if(w.paused||!l)return;const b=v.relatedTarget;b!==null&&(l.contains(b)||Er(f.current,{select:!0}))},h=function(v){if(document.activeElement===document.body)for(const C of v)C.removedNodes.length>0&&Er(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const p=new MutationObserver(h);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),p.disconnect()}}},[r,l,w.paused]),u.useEffect(()=>{if(l){Ap.add(w);const x=document.activeElement;if(!l.contains(x)){const h=new CustomEvent(ec,Rp);l.addEventListener(ec,d),l.dispatchEvent(h),h.defaultPrevented||(jb(kb(tx(l)),{select:!0}),document.activeElement===x&&Er(l))}return()=>{l.removeEventListener(ec,d),setTimeout(()=>{const h=new CustomEvent(tc,Rp);l.addEventListener(tc,m),l.dispatchEvent(h),h.defaultPrevented||Er(x??document.body,{select:!0}),l.removeEventListener(tc,m),Ap.remove(w)},0)}}},[l,d,m,w]);const y=u.useCallback(x=>{if(!n&&!r||w.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,h=document.activeElement;if(j&&h){const p=x.currentTarget,[v,b]=bb(p);v&&b?!x.shiftKey&&h===b?(x.preventDefault(),n&&Er(v,{select:!0})):x.shiftKey&&h===v&&(x.preventDefault(),n&&Er(b,{select:!0})):h===p&&x.preventDefault()}},[n,r,w.paused]);return s.jsx(Ie.div,{tabIndex:-1,...i,ref:g,onKeyDown:y})});Od.displayName=wb;function jb(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Er(r,{select:t}),document.activeElement!==n)return}function bb(e){const t=tx(e),n=Dp(t,e),r=Dp(t.reverse(),e);return[n,r]}function tx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Dp(e,t){for(const n of e)if(!Nb(n,{upTo:t}))return n}function Nb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Sb(e){return e instanceof HTMLInputElement&&"select"in e}function Er(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Sb(e)&&t&&e.select()}}var Ap=Cb();function Cb(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Mp(e,t),e.unshift(t)},remove(t){var n;e=Mp(e,t),(n=e[0])==null||n.resume()}}}function Mp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function kb(e){return e.filter(t=>t.tagName!=="A")}var Eb=zy.useId||(()=>{}),Pb=0;function qr(e){const[t,n]=u.useState(Eb());return Lt(()=>{n(r=>r??String(Pb++))},[e]),e||(t?`radix-${t}`:"")}const Tb=["top","right","bottom","left"],Zr=Math.min,dn=Math.max,Fi=Math.round,Wa=Math.floor,Jn=e=>({x:e,y:e}),_b={left:"right",right:"left",bottom:"top",top:"bottom"},Rb={start:"end",end:"start"};function uu(e,t,n){return dn(e,Zr(t,n))}function vr(e,t){return typeof e=="function"?e(t):e}function yr(e){return e.split("-")[0]}function go(e){return e.split("-")[1]}function Fd(e){return e==="x"?"y":"x"}function $d(e){return e==="y"?"height":"width"}const Db=new Set(["top","bottom"]);function Kn(e){return Db.has(yr(e))?"y":"x"}function Ld(e){return Fd(Kn(e))}function Ab(e,t,n){n===void 0&&(n=!1);const r=go(e),o=Ld(e),a=$d(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=$i(i)),[i,$i(i)]}function Mb(e){const t=$i(e);return[du(e),t,du(t)]}function du(e){return e.replace(/start|end/g,t=>Rb[t])}const zp=["left","right"],Ip=["right","left"],zb=["top","bottom"],Ib=["bottom","top"];function Ob(e,t,n){switch(e){case"top":case"bottom":return n?t?Ip:zp:t?zp:Ip;case"left":case"right":return t?zb:Ib;default:return[]}}function Fb(e,t,n,r){const o=go(e);let a=Ob(yr(e),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(du)))),a}function $i(e){return e.replace(/left|right|bottom|top/g,t=>_b[t])}function $b(e){return{top:0,right:0,bottom:0,left:0,...e}}function nx(e){return typeof e!="number"?$b(e):{top:e,right:e,bottom:e,left:e}}function Li(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Op(e,t,n){let{reference:r,floating:o}=e;const a=Kn(t),i=Ld(t),l=$d(i),c=yr(t),d=a==="y",m=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,g=r[l]/2-o[l]/2;let w;switch(c){case"top":w={x:m,y:r.y-o.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-o.width,y:f};break;default:w={x:r.x,y:r.y}}switch(go(t)){case"start":w[i]-=g*(n&&d?-1:1);break;case"end":w[i]+=g*(n&&d?-1:1);break}return w}async function Lb(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:w=0}=vr(t,e),y=nx(w),j=l[g?f==="floating"?"reference":"floating":f],h=Li(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),p=f==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),b=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},C=Li(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(h.top-C.top+y.top)/b.y,bottom:(C.bottom-h.bottom+y.bottom)/b.y,left:(h.left-C.left+y.left)/b.x,right:(C.right-h.right+y.right)/b.x}}const Bb=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:f}=Op(d,r,c),g=r,w={},y=0;for(let j=0;j<l.length;j++){var x;const{name:h,fn:p}=l[j],{x:v,y:b,data:C,reset:E}=await p({x:m,y:f,initialPlacement:r,placement:g,strategy:o,middlewareData:w,rects:d,platform:{...i,detectOverflow:(x=i.detectOverflow)!=null?x:Lb},elements:{reference:e,floating:t}});m=v??m,f=b??f,w={...w,[h]:{...w[h],...C}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(d=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:m,y:f}=Op(d,g,c)),j=-1)}return{x:m,y:f,placement:g,strategy:o,middlewareData:w}},Ub=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:m=0}=vr(e,t)||{};if(d==null)return{};const f=nx(m),g={x:n,y:r},w=Ld(o),y=$d(w),x=await i.getDimensions(d),j=w==="y",h=j?"top":"left",p=j?"bottom":"right",v=j?"clientHeight":"clientWidth",b=a.reference[y]+a.reference[w]-g[w]-a.floating[y],C=g[w]-a.reference[w],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let k=E?E[v]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=l.floating[v]||a.floating[y]);const _=b/2-C/2,Q=k/2-x[y]/2-1,F=Zr(f[h],Q),ee=Zr(f[p],Q),U=F,O=k-x[y]-ee,G=k/2-x[y]/2+_,Y=uu(U,G,O),L=!c.arrow&&go(o)!=null&&G!==Y&&a.reference[y]/2-(G<U?F:ee)-x[y]/2<0,ie=L?G<U?G-U:G-O:0;return{[w]:g[w]+ie,data:{[w]:Y,centerOffset:G-Y-ie,...L&&{alignmentOffset:ie}},reset:L}}}),Wb=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...j}=vr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const h=yr(o),p=Kn(l),v=yr(l)===l,b=await(c.isRTL==null?void 0:c.isRTL(d.floating)),C=g||(v||!x?[$i(l)]:Mb(l)),E=y!=="none";!g&&E&&C.push(...Fb(l,x,y,b));const k=[l,...C],_=await c.detectOverflow(t,j),Q=[];let F=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&Q.push(_[h]),f){const G=Ab(o,i,b);Q.push(_[G[0]],_[G[1]])}if(F=[...F,{placement:o,overflows:Q}],!Q.every(G=>G<=0)){var ee,U;const G=(((ee=a.flip)==null?void 0:ee.index)||0)+1,Y=k[G];if(Y&&(!(f==="alignment"?p!==Kn(Y):!1)||F.every(D=>Kn(D.placement)===p?D.overflows[0]>0:!0)))return{data:{index:G,overflows:F},reset:{placement:Y}};let L=(U=F.filter(ie=>ie.overflows[0]<=0).sort((ie,D)=>ie.overflows[1]-D.overflows[1])[0])==null?void 0:U.placement;if(!L)switch(w){case"bestFit":{var O;const ie=(O=F.filter(D=>{if(E){const A=Kn(D.placement);return A===p||A==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(A=>A>0).reduce((A,K)=>A+K,0)]).sort((D,A)=>D[1]-A[1])[0])==null?void 0:O[0];ie&&(L=ie);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function Fp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $p(e){return Tb.some(t=>e[t]>=0)}const Hb=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...a}=vr(e,t);switch(o){case"referenceHidden":{const i=await r.detectOverflow(t,{...a,elementContext:"reference"}),l=Fp(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:$p(l)}}}case"escaped":{const i=await r.detectOverflow(t,{...a,altBoundary:!0}),l=Fp(i,n.floating);return{data:{escapedOffsets:l,escaped:$p(l)}}}default:return{}}}}},rx=new Set(["left","top"]);async function Vb(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=yr(n),l=go(n),c=Kn(n)==="y",d=rx.has(i)?-1:1,m=a&&c?-1:1,f=vr(t,e);let{mainAxis:g,crossAxis:w,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(w=l==="end"?y*-1:y),c?{x:w*m,y:g*d}:{x:g*d,y:w*m}}const Gb=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:l}=t,c=await Vb(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},qb=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:h=>{let{x:p,y:v}=h;return{x:p,y:v}}},...d}=vr(e,t),m={x:n,y:r},f=await a.detectOverflow(t,d),g=Kn(yr(o)),w=Fd(g);let y=m[w],x=m[g];if(i){const h=w==="y"?"top":"left",p=w==="y"?"bottom":"right",v=y+f[h],b=y-f[p];y=uu(v,y,b)}if(l){const h=g==="y"?"top":"left",p=g==="y"?"bottom":"right",v=x+f[h],b=x-f[p];x=uu(v,x,b)}const j=c.fn({...t,[w]:y,[g]:x});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[w]:i,[g]:l}}}}}},Qb=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=vr(e,t),m={x:n,y:r},f=Kn(o),g=Fd(f);let w=m[g],y=m[f];const x=vr(l,t),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=g==="y"?"height":"width",b=a.reference[g]-a.floating[v]+j.mainAxis,C=a.reference[g]+a.reference[v]-j.mainAxis;w<b?w=b:w>C&&(w=C)}if(d){var h,p;const v=g==="y"?"width":"height",b=rx.has(yr(o)),C=a.reference[f]-a.floating[v]+(b&&((h=i.offset)==null?void 0:h[f])||0)+(b?0:j.crossAxis),E=a.reference[f]+a.reference[v]+(b?0:((p=i.offset)==null?void 0:p[f])||0)-(b?j.crossAxis:0);y<C?y=C:y>E&&(y=E)}return{[g]:w,[f]:y}}}},Yb=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...d}=vr(e,t),m=await i.detectOverflow(t,d),f=yr(o),g=go(o),w=Kn(o)==="y",{width:y,height:x}=a.floating;let j,h;f==="top"||f==="bottom"?(j=f,h=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(h=f,j=g==="end"?"top":"bottom");const p=x-m.top-m.bottom,v=y-m.left-m.right,b=Zr(x-m[j],p),C=Zr(y-m[h],v),E=!t.middlewareData.shift;let k=b,_=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=p),E&&!g){const F=dn(m.left,0),ee=dn(m.right,0),U=dn(m.top,0),O=dn(m.bottom,0);w?_=y-2*(F!==0||ee!==0?F+ee:dn(m.left,m.right)):k=x-2*(U!==0||O!==0?U+O:dn(m.top,m.bottom))}await c({...t,availableWidth:_,availableHeight:k});const Q=await i.getDimensions(l.floating);return y!==Q.width||x!==Q.height?{reset:{rects:!0}}:{}}}};function fl(){return typeof window<"u"}function xo(e){return sx(e)?(e.nodeName||"").toLowerCase():"#document"}function mn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nr(e){var t;return(t=(sx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sx(e){return fl()?e instanceof Node||e instanceof mn(e).Node:!1}function Bn(e){return fl()?e instanceof Element||e instanceof mn(e).Element:!1}function er(e){return fl()?e instanceof HTMLElement||e instanceof mn(e).HTMLElement:!1}function Lp(e){return!fl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mn(e).ShadowRoot}const Kb=new Set(["inline","contents"]);function xa(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Kb.has(o)}const Zb=new Set(["table","td","th"]);function Xb(e){return Zb.has(xo(e))}const Jb=[":popover-open",":modal"];function pl(e){return Jb.some(t=>{try{return e.matches(t)}catch{return!1}})}const eN=["transform","translate","scale","rotate","perspective"],tN=["transform","translate","scale","rotate","perspective","filter"],nN=["paint","layout","strict","content"];function Bd(e){const t=Ud(),n=Bn(e)?Un(e):e;return eN.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||tN.some(r=>(n.willChange||"").includes(r))||nN.some(r=>(n.contain||"").includes(r))}function rN(e){let t=Xr(e);for(;er(t)&&!io(t);){if(Bd(t))return t;if(pl(t))return null;t=Xr(t)}return null}function Ud(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sN=new Set(["html","body","#document"]);function io(e){return sN.has(xo(e))}function Un(e){return mn(e).getComputedStyle(e)}function ml(e){return Bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xr(e){if(xo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lp(e)&&e.host||nr(e);return Lp(t)?t.host:t}function ox(e){const t=Xr(e);return io(t)?e.ownerDocument?e.ownerDocument.body:e.body:er(t)&&xa(t)?t:ox(t)}function da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=ox(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=mn(o);if(a){const l=fu(i);return t.concat(i,i.visualViewport||[],xa(o)?o:[],l&&n?da(l):[])}return t.concat(o,da(o,[],n))}function fu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ax(e){const t=Un(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=er(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=Fi(n)!==a||Fi(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Wd(e){return Bn(e)?e:e.contextElement}function Zs(e){const t=Wd(e);if(!er(t))return Jn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=ax(t);let i=(a?Fi(n.width):n.width)/r,l=(a?Fi(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const oN=Jn(0);function ix(e){const t=mn(e);return!Ud()||!t.visualViewport?oN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function aN(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mn(e)?!1:t}function js(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Wd(e);let i=Jn(1);t&&(r?Bn(r)&&(i=Zs(r)):i=Zs(e));const l=aN(a,n,r)?ix(a):Jn(0);let c=(o.left+l.x)/i.x,d=(o.top+l.y)/i.y,m=o.width/i.x,f=o.height/i.y;if(a){const g=mn(a),w=r&&Bn(r)?mn(r):r;let y=g,x=fu(y);for(;x&&r&&w!==y;){const j=Zs(x),h=x.getBoundingClientRect(),p=Un(x),v=h.left+(x.clientLeft+parseFloat(p.paddingLeft))*j.x,b=h.top+(x.clientTop+parseFloat(p.paddingTop))*j.y;c*=j.x,d*=j.y,m*=j.x,f*=j.y,c+=v,d+=b,y=mn(x),x=fu(y)}}return Li({width:m,height:f,x:c,y:d})}function hl(e,t){const n=ml(e).scrollLeft;return t?t.left+n:js(nr(e)).left+n}function lx(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-hl(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function iN(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=nr(r),l=t?pl(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Jn(1);const m=Jn(0),f=er(r);if((f||!f&&!a)&&((xo(r)!=="body"||xa(i))&&(c=ml(r)),er(r))){const w=js(r);d=Zs(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}const g=i&&!f&&!a?lx(i,c):Jn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+m.x+g.x,y:n.y*d.y-c.scrollTop*d.y+m.y+g.y}}function lN(e){return Array.from(e.getClientRects())}function cN(e){const t=nr(e),n=ml(e),r=e.ownerDocument.body,o=dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+hl(e);const l=-n.scrollTop;return Un(r).direction==="rtl"&&(i+=dn(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:l}}const Bp=25;function uN(e,t){const n=mn(e),r=nr(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){a=o.width,i=o.height;const m=Ud();(!m||m&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const d=hl(r);if(d<=0){const m=r.ownerDocument,f=m.body,g=getComputedStyle(f),w=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-w);y<=Bp&&(a-=y)}else d<=Bp&&(a+=d);return{width:a,height:i,x:l,y:c}}const dN=new Set(["absolute","fixed"]);function fN(e,t){const n=js(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=er(e)?Zs(e):Jn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=o*a.x,d=r*a.y;return{width:i,height:l,x:c,y:d}}function Up(e,t,n){let r;if(t==="viewport")r=uN(e,n);else if(t==="document")r=cN(nr(e));else if(Bn(t))r=fN(t,n);else{const o=ix(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Li(r)}function cx(e,t){const n=Xr(e);return n===t||!Bn(n)||io(n)?!1:Un(n).position==="fixed"||cx(n,t)}function pN(e,t){const n=t.get(e);if(n)return n;let r=da(e,[],!1).filter(l=>Bn(l)&&xo(l)!=="body"),o=null;const a=Un(e).position==="fixed";let i=a?Xr(e):e;for(;Bn(i)&&!io(i);){const l=Un(i),c=Bd(i);!c&&l.position==="fixed"&&(o=null),(a?!c&&!o:!c&&l.position==="static"&&!!o&&dN.has(o.position)||xa(i)&&!c&&cx(e,i))?r=r.filter(m=>m!==i):o=l,i=Xr(i)}return t.set(e,r),r}function mN(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?pl(t)?[]:pN(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((d,m)=>{const f=Up(t,m,o);return d.top=dn(f.top,d.top),d.right=Zr(f.right,d.right),d.bottom=Zr(f.bottom,d.bottom),d.left=dn(f.left,d.left),d},Up(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hN(e){const{width:t,height:n}=ax(e);return{width:t,height:n}}function gN(e,t,n){const r=er(t),o=nr(t),a=n==="fixed",i=js(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Jn(0);function d(){c.x=hl(o)}if(r||!r&&!a)if((xo(t)!=="body"||xa(o))&&(l=ml(t)),r){const w=js(t,!0,a,t);c.x=w.x+t.clientLeft,c.y=w.y+t.clientTop}else o&&d();a&&!r&&o&&d();const m=o&&!r&&!a?lx(o,l):Jn(0),f=i.left+l.scrollLeft-c.x-m.x,g=i.top+l.scrollTop-c.y-m.y;return{x:f,y:g,width:i.width,height:i.height}}function nc(e){return Un(e).position==="static"}function Wp(e,t){if(!er(e)||Un(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nr(e)===n&&(n=n.ownerDocument.body),n}function ux(e,t){const n=mn(e);if(pl(e))return n;if(!er(e)){let o=Xr(e);for(;o&&!io(o);){if(Bn(o)&&!nc(o))return o;o=Xr(o)}return n}let r=Wp(e,t);for(;r&&Xb(r)&&nc(r);)r=Wp(r,t);return r&&io(r)&&nc(r)&&!Bd(r)?n:r||rN(e)||n}const xN=async function(e){const t=this.getOffsetParent||ux,n=this.getDimensions,r=await n(e.floating);return{reference:gN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vN(e){return Un(e).direction==="rtl"}const yN={convertOffsetParentRelativeRectToViewportRelativeRect:iN,getDocumentElement:nr,getClippingRect:mN,getOffsetParent:ux,getElementRects:xN,getClientRects:lN,getDimensions:hN,getScale:Zs,isElement:Bn,isRTL:vN};function dx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wN(e,t){let n=null,r;const o=nr(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:m,top:f,width:g,height:w}=d;if(l||t(),!g||!w)return;const y=Wa(f),x=Wa(o.clientWidth-(m+g)),j=Wa(o.clientHeight-(f+w)),h=Wa(m),v={rootMargin:-y+"px "+-x+"px "+-j+"px "+-h+"px",threshold:dn(0,Zr(1,c))||1};let b=!0;function C(E){const k=E[0].intersectionRatio;if(k!==c){if(!b)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!dx(d,e.getBoundingClientRect())&&i(),b=!1}try{n=new IntersectionObserver(C,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,v)}n.observe(e)}return i(!0),a}function jN(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Wd(e),m=o||a?[...d?da(d):[],...da(t)]:[];m.forEach(h=>{o&&h.addEventListener("scroll",n,{passive:!0}),a&&h.addEventListener("resize",n)});const f=d&&l?wN(d,n):null;let g=-1,w=null;i&&(w=new ResizeObserver(h=>{let[p]=h;p&&p.target===d&&w&&(w.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=w)==null||v.observe(t)})),n()}),d&&!c&&w.observe(d),w.observe(t));let y,x=c?js(e):null;c&&j();function j(){const h=js(e);x&&!dx(x,h)&&n(),x=h,y=requestAnimationFrame(j)}return n(),()=>{var h;m.forEach(p=>{o&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),f==null||f(),(h=w)==null||h.disconnect(),w=null,c&&cancelAnimationFrame(y)}}const bN=Gb,NN=qb,SN=Wb,CN=Yb,kN=Hb,Hp=Ub,EN=Qb,PN=(e,t,n)=>{const r=new Map,o={platform:yN,...n},a={...o.platform,_c:r};return Bb(e,t,{...o,platform:a})};var TN=typeof document<"u",_N=function(){},li=TN?u.useLayoutEffect:_N;function Bi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Bi(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Bi(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function fx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vp(e,t){const n=fx(e);return Math.round(t*n)/n}function rc(e){const t=u.useRef(e);return li(()=>{t.current=e}),t}function RN(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,f]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,w]=u.useState(r);Bi(g,r)||w(r);const[y,x]=u.useState(null),[j,h]=u.useState(null),p=u.useCallback(D=>{D!==E.current&&(E.current=D,x(D))},[]),v=u.useCallback(D=>{D!==k.current&&(k.current=D,h(D))},[]),b=a||y,C=i||j,E=u.useRef(null),k=u.useRef(null),_=u.useRef(m),Q=c!=null,F=rc(c),ee=rc(o),U=rc(d),O=u.useCallback(()=>{if(!E.current||!k.current)return;const D={placement:t,strategy:n,middleware:g};ee.current&&(D.platform=ee.current),PN(E.current,k.current,D).then(A=>{const K={...A,isPositioned:U.current!==!1};G.current&&!Bi(_.current,K)&&(_.current=K,po.flushSync(()=>{f(K)}))})},[g,t,n,ee,U]);li(()=>{d===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[d]);const G=u.useRef(!1);li(()=>(G.current=!0,()=>{G.current=!1}),[]),li(()=>{if(b&&(E.current=b),C&&(k.current=C),b&&C){if(F.current)return F.current(b,C,O);O()}},[b,C,O,F,Q]);const Y=u.useMemo(()=>({reference:E,floating:k,setReference:p,setFloating:v}),[p,v]),L=u.useMemo(()=>({reference:b,floating:C}),[b,C]),ie=u.useMemo(()=>{const D={position:n,left:0,top:0};if(!L.floating)return D;const A=Vp(L.floating,m.x),K=Vp(L.floating,m.y);return l?{...D,transform:"translate("+A+"px, "+K+"px)",...fx(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:K}},[n,l,L.floating,m.x,m.y]);return u.useMemo(()=>({...m,update:O,refs:Y,elements:L,floatingStyles:ie}),[m,O,Y,L,ie])}const DN=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Hp({element:r.current,padding:o}).fn(n):{}:r?Hp({element:r,padding:o}).fn(n):{}}}},AN=(e,t)=>({...bN(e),options:[e,t]}),MN=(e,t)=>({...NN(e),options:[e,t]}),zN=(e,t)=>({...EN(e),options:[e,t]}),IN=(e,t)=>({...SN(e),options:[e,t]}),ON=(e,t)=>({...CN(e),options:[e,t]}),FN=(e,t)=>({...kN(e),options:[e,t]}),$N=(e,t)=>({...DN(e),options:[e,t]});var LN="Arrow",px=u.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return s.jsx(Ie.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});px.displayName=LN;var BN=px,Hd="Popper",[mx,hx]=tr(Hd),[UN,gx]=mx(Hd),xx=e=>{const{__scopePopper:t,children:n}=e,[r,o]=u.useState(null);return s.jsx(UN,{scope:t,anchor:r,onAnchorChange:o,children:n})};xx.displayName=Hd;var vx="PopperAnchor",yx=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=gx(vx,n),i=u.useRef(null),l=ot(t,i);return u.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:s.jsx(Ie.div,{...o,ref:l})});yx.displayName=vx;var Vd="PopperContent",[WN,HN]=mx(Vd),wx=u.forwardRef((e,t)=>{var V,ce,be,ye,Ne,je;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:y,...x}=e,j=gx(Vd,n),[h,p]=u.useState(null),v=ot(t,Ue=>p(Ue)),[b,C]=u.useState(null),E=_d(b),k=(E==null?void 0:E.width)??0,_=(E==null?void 0:E.height)??0,Q=r+(a!=="center"?"-"+a:""),F=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ee=Array.isArray(d)?d:[d],U=ee.length>0,O={padding:F,boundary:ee.filter(GN),altBoundary:U},{refs:G,floatingStyles:Y,placement:L,isPositioned:ie,middlewareData:D}=RN({strategy:"fixed",placement:Q,whileElementsMounted:(...Ue)=>jN(...Ue,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[AN({mainAxis:o+_,alignmentAxis:i}),c&&MN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zN():void 0,...O}),c&&IN({...O}),ON({...O,apply:({elements:Ue,rects:We,availableWidth:Ze,availableHeight:Ge})=>{const{width:ze,height:pt}=We.reference,Fe=Ue.floating.style;Fe.setProperty("--radix-popper-available-width",`${Ze}px`),Fe.setProperty("--radix-popper-available-height",`${Ge}px`),Fe.setProperty("--radix-popper-anchor-width",`${ze}px`),Fe.setProperty("--radix-popper-anchor-height",`${pt}px`)}}),b&&$N({element:b,padding:l}),qN({arrowWidth:k,arrowHeight:_}),g&&FN({strategy:"referenceHidden",...O})]}),[A,K]=Nx(L),B=Ln(y);Lt(()=>{ie&&(B==null||B())},[ie,B]);const le=(V=D.arrow)==null?void 0:V.x,xe=(ce=D.arrow)==null?void 0:ce.y,Ee=((be=D.arrow)==null?void 0:be.centerOffset)!==0,[P,W]=u.useState();return Lt(()=>{h&&W(window.getComputedStyle(h).zIndex)},[h]),s.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ie?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:P,"--radix-popper-transform-origin":[(ye=D.transformOrigin)==null?void 0:ye.x,(Ne=D.transformOrigin)==null?void 0:Ne.y].join(" "),...((je=D.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(WN,{scope:n,placedSide:A,onArrowChange:C,arrowX:le,arrowY:xe,shouldHideArrow:Ee,children:s.jsx(Ie.div,{"data-side":A,"data-align":K,...x,ref:v,style:{...x.style,animation:ie?void 0:"none"}})})})});wx.displayName=Vd;var jx="PopperArrow",VN={top:"bottom",right:"left",bottom:"top",left:"right"},bx=u.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=HN(jx,r),i=VN[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(BN,{...o,ref:n,style:{...o.style,display:"block"}})})});bx.displayName=jx;function GN(e){return e!==null}var qN=e=>({name:"transformOrigin",options:e,fn(t){var j,h,p;const{placement:n,rects:r,middlewareData:o}=t,i=((j=o.arrow)==null?void 0:j.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,m]=Nx(n),f={start:"0%",center:"50%",end:"100%"}[m],g=(((h=o.arrow)==null?void 0:h.x)??0)+l/2,w=(((p=o.arrow)==null?void 0:p.y)??0)+c/2;let y="",x="";return d==="bottom"?(y=i?f:`${g}px`,x=`${-c}px`):d==="top"?(y=i?f:`${g}px`,x=`${r.floating.height+c}px`):d==="right"?(y=`${-c}px`,x=i?f:`${w}px`):d==="left"&&(y=`${r.floating.width+c}px`,x=i?f:`${w}px`),{data:{x:y,y:x}}}});function Nx(e){const[t,n="center"]=e.split("-");return[t,n]}var QN=xx,YN=yx,KN=wx,ZN=bx,XN="Portal",Gd=u.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,a]=u.useState(!1);Lt(()=>a(!0),[]);const i=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?kg.createPortal(s.jsx(Ie.div,{...r,ref:t}),i):null});Gd.displayName=XN;var JN="VisuallyHidden",Sx=u.forwardRef((e,t)=>s.jsx(Ie.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Sx.displayName=JN;var eS=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Es=new WeakMap,Ha=new WeakMap,Va={},sc=0,Cx=function(e){return e&&(e.host||Cx(e.parentNode))},tS=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Cx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},nS=function(e,t,n,r){var o=tS(t,Array.isArray(e)?e:[e]);Va[n]||(Va[n]=new WeakMap);var a=Va[n],i=[],l=new Set,c=new Set(o),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};o.forEach(d);var m=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))m(g);else try{var w=g.getAttribute(r),y=w!==null&&w!=="false",x=(Es.get(g)||0)+1,j=(a.get(g)||0)+1;Es.set(g,x),a.set(g,j),i.push(g),x===1&&y&&Ha.set(g,!0),j===1&&g.setAttribute(n,"true"),y||g.setAttribute(r,"true")}catch(h){console.error("aria-hidden: cannot operate on ",g,h)}})};return m(t),l.clear(),sc++,function(){i.forEach(function(f){var g=Es.get(f)-1,w=a.get(f)-1;Es.set(f,g),a.set(f,w),g||(Ha.has(f)||f.removeAttribute(r),Ha.delete(f)),w||f.removeAttribute(n)}),sc--,sc||(Es=new WeakMap,Es=new WeakMap,Ha=new WeakMap,Va={})}},kx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=eS(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),nS(r,o,n,"aria-hidden")):function(){return null}},pu=function(e,t){return pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},pu(e,t)};function rS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var lt=function(){return lt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},lt.apply(this,arguments)};function Ex(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function sS(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ci="right-scroll-bar-position",ui="width-before-scroll-bar",oS="with-scroll-bars-hidden",aS="--removed-body-scroll-bar-size";function oc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function iS(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var lS=typeof window<"u"?u.useLayoutEffect:u.useEffect,Gp=new WeakMap;function cS(e,t){var n=iS(null,function(r){return e.forEach(function(o){return oc(o,r)})});return lS(function(){var r=Gp.get(n);if(r){var o=new Set(r),a=new Set(e),i=n.current;o.forEach(function(l){a.has(l)||oc(l,null)}),a.forEach(function(l){o.has(l)||oc(l,i)})}Gp.set(n,e)},[e]),n}function uS(e){return e}function dS(e,t){t===void 0&&(t=uS);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var m=i;i=[],m.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(m){i.push(m),d()},filter:function(m){return i=i.filter(m),n}}}};return o}function fS(e){e===void 0&&(e={});var t=dS(null);return t.options=lt({async:!0,ssr:!1},e),t}var Px=function(e){var t=e.sideCar,n=Ex(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return u.createElement(r,lt({},n))};Px.isSideCarExport=!0;function pS(e,t){return e.useMedium(t),Px}var Tx=fS(),ac=function(){},gl=u.forwardRef(function(e,t){var n=u.useRef(null),r=u.useState({onScrollCapture:ac,onWheelCapture:ac,onTouchMoveCapture:ac}),o=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,f=e.shards,g=e.sideCar,w=e.noRelative,y=e.noIsolation,x=e.inert,j=e.allowPinchZoom,h=e.as,p=h===void 0?"div":h,v=e.gapMode,b=Ex(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,E=cS([n,t]),k=lt(lt({},b),o);return u.createElement(u.Fragment,null,m&&u.createElement(C,{sideCar:Tx,removeScrollBar:d,shards:f,noRelative:w,noIsolation:y,inert:x,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:v}),i?u.cloneElement(u.Children.only(l),lt(lt({},k),{ref:E})):u.createElement(p,lt({},k,{className:c,ref:E}),l))});gl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gl.classNames={fullWidth:ui,zeroRight:ci};var mS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=mS();return t&&e.setAttribute("nonce",t),e}function gS(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xS(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var vS=function(){var e=0,t=null;return{add:function(n){e==0&&(t=hS())&&(gS(t,n),xS(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yS=function(){var e=vS();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_x=function(){var e=yS(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},wS={left:0,top:0,right:0,gap:0},ic=function(e){return parseInt(e||"",10)||0},jS=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ic(n),ic(r),ic(o)]},bS=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return wS;var t=jS(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},NS=_x(),Xs="data-scroll-locked",SS=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(oS,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Xs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ci,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ui,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ci," .").concat(ci,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ui," .").concat(ui,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xs,`] {
    `).concat(aS,": ").concat(l,`px;
  }
`)},qp=function(){var e=parseInt(document.body.getAttribute(Xs)||"0",10);return isFinite(e)?e:0},CS=function(){u.useEffect(function(){return document.body.setAttribute(Xs,(qp()+1).toString()),function(){var e=qp()-1;e<=0?document.body.removeAttribute(Xs):document.body.setAttribute(Xs,e.toString())}},[])},kS=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;CS();var a=u.useMemo(function(){return bS(o)},[o]);return u.createElement(NS,{styles:SS(a,!t,o,n?"":"!important")})},mu=!1;if(typeof window<"u")try{var Ga=Object.defineProperty({},"passive",{get:function(){return mu=!0,!0}});window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{mu=!1}var Ps=mu?{passive:!1}:!1,ES=function(e){return e.tagName==="TEXTAREA"},Rx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ES(e)&&n[t]==="visible")},PS=function(e){return Rx(e,"overflowY")},TS=function(e){return Rx(e,"overflowX")},Qp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Dx(e,r);if(o){var a=Ax(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_S=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},RS=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dx=function(e,t){return e==="v"?PS(t):TS(t)},Ax=function(e,t){return e==="v"?_S(t):RS(t)},DS=function(e,t){return e==="h"&&t==="rtl"?-1:1},AS=function(e,t,n,r,o){var a=DS(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),d=!1,m=i>0,f=0,g=0;do{if(!l)break;var w=Ax(e,l),y=w[0],x=w[1],j=w[2],h=x-j-a*y;(y||h)&&Dx(e,l)&&(f+=h,g+=y);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(d=!0),d},qa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yp=function(e){return[e.deltaX,e.deltaY]},Kp=function(e){return e&&"current"in e?e.current:e},MS=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zS=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},IS=0,Ts=[];function OS(e){var t=u.useRef([]),n=u.useRef([0,0]),r=u.useRef(),o=u.useState(IS++)[0],a=u.useState(_x)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=sS([e.lockRef.current],(e.shards||[]).map(Kp),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var h=qa(x),p=n.current,v="deltaX"in x?x.deltaX:p[0]-h[0],b="deltaY"in x?x.deltaY:p[1]-h[1],C,E=x.target,k=Math.abs(v)>Math.abs(b)?"h":"v";if("touches"in x&&k==="h"&&E.type==="range")return!1;var _=window.getSelection(),Q=_&&_.anchorNode,F=Q?Q===E||Q.contains(E):!1;if(F)return!1;var ee=Qp(k,E);if(!ee)return!0;if(ee?C=k:(C=k==="v"?"h":"v",ee=Qp(k,E)),!ee)return!1;if(!r.current&&"changedTouches"in x&&(v||b)&&(r.current=C),!C)return!0;var U=r.current||C;return AS(U,j,x,U==="h"?v:b)},[]),c=u.useCallback(function(x){var j=x;if(!(!Ts.length||Ts[Ts.length-1]!==a)){var h="deltaY"in j?Yp(j):qa(j),p=t.current.filter(function(C){return C.name===j.type&&(C.target===j.target||j.target===C.shadowParent)&&MS(C.delta,h)})[0];if(p&&p.should){j.cancelable&&j.preventDefault();return}if(!p){var v=(i.current.shards||[]).map(Kp).filter(Boolean).filter(function(C){return C.contains(j.target)}),b=v.length>0?l(j,v[0]):!i.current.noIsolation;b&&j.cancelable&&j.preventDefault()}}},[]),d=u.useCallback(function(x,j,h,p){var v={name:x,delta:j,target:h,should:p,shadowParent:FS(h)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(b){return b!==v})},1)},[]),m=u.useCallback(function(x){n.current=qa(x),r.current=void 0},[]),f=u.useCallback(function(x){d(x.type,Yp(x),x.target,l(x,e.lockRef.current))},[]),g=u.useCallback(function(x){d(x.type,qa(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return Ts.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ps),document.addEventListener("touchmove",c,Ps),document.addEventListener("touchstart",m,Ps),function(){Ts=Ts.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Ps),document.removeEventListener("touchmove",c,Ps),document.removeEventListener("touchstart",m,Ps)}},[]);var w=e.removeScrollBar,y=e.inert;return u.createElement(u.Fragment,null,y?u.createElement(a,{styles:zS(o)}):null,w?u.createElement(kS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function FS(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $S=pS(Tx,OS);var qd=u.forwardRef(function(e,t){return u.createElement(gl,lt({},e,{ref:t,sideCar:$S}))});qd.classNames=gl.classNames;var LS=[" ","Enter","ArrowUp","ArrowDown"],BS=[" ","Enter"],va="Select",[xl,vl,US]=Zg(va),[vo]=tr(va,[US,hx]),yl=hx(),[WS,ns]=vo(va),[HS,VS]=vo(va),Mx=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:f,disabled:g,required:w,form:y}=e,x=yl(t),[j,h]=u.useState(null),[p,v]=u.useState(null),[b,C]=u.useState(!1),E=zd(d),[k=!1,_]=ws({prop:r,defaultProp:o,onChange:a}),[Q,F]=ws({prop:i,defaultProp:l,onChange:c}),ee=u.useRef(null),U=j?y||!!j.closest("form"):!0,[O,G]=u.useState(new Set),Y=Array.from(O).map(L=>L.props.value).join(";");return s.jsx(QN,{...x,children:s.jsxs(WS,{required:w,scope:t,trigger:j,onTriggerChange:h,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:qr(),value:Q,onValueChange:F,open:k,onOpenChange:_,dir:E,triggerPointerDownPosRef:ee,disabled:g,children:[s.jsx(xl.Provider,{scope:t,children:s.jsx(HS,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(L=>{G(ie=>new Set(ie).add(L))},[]),onNativeOptionRemove:u.useCallback(L=>{G(ie=>{const D=new Set(ie);return D.delete(L),D})},[]),children:n})}),U?s.jsxs(rv,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:f,value:Q,onChange:L=>F(L.target.value),disabled:g,form:y,children:[Q===void 0?s.jsx("option",{value:""}):null,Array.from(O)]},Y):null]})})};Mx.displayName=va;var zx="SelectTrigger",Ix=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=yl(n),i=ns(zx,n),l=i.disabled||r,c=ot(t,i.onTriggerChange),d=vl(n),m=u.useRef("touch"),[f,g,w]=sv(x=>{const j=d().filter(v=>!v.disabled),h=j.find(v=>v.value===i.value),p=ov(j,x,h);p!==void 0&&i.onValueChange(p.value)}),y=x=>{l||(i.onOpenChange(!0),w()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(YN,{asChild:!0,...a,children:s.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":nv(i.value)?"":void 0,...o,ref:c,onClick:Oe(o.onClick,x=>{x.currentTarget.focus(),m.current!=="mouse"&&y(x)}),onPointerDown:Oe(o.onPointerDown,x=>{m.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Oe(o.onKeyDown,x=>{const j=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(j&&x.key===" ")&&LS.includes(x.key)&&(y(),x.preventDefault())})})})});Ix.displayName=zx;var Ox="SelectValue",Fx=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:i="",...l}=e,c=ns(Ox,n),{onValueNodeHasChildrenChange:d}=c,m=a!==void 0,f=ot(t,c.onValueNodeChange);return Lt(()=>{d(m)},[d,m]),s.jsx(Ie.span,{...l,ref:f,style:{pointerEvents:"none"},children:nv(c.value)?s.jsx(s.Fragment,{children:i}):a})});Fx.displayName=Ox;var GS="SelectIcon",$x=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return s.jsx(Ie.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});$x.displayName=GS;var qS="SelectPortal",Lx=e=>s.jsx(Gd,{asChild:!0,...e});Lx.displayName=qS;var bs="SelectContent",Bx=u.forwardRef((e,t)=>{const n=ns(bs,e.__scopeSelect),[r,o]=u.useState();if(Lt(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?po.createPortal(s.jsx(Ux,{scope:e.__scopeSelect,children:s.jsx(xl.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Wx,{...e,ref:t})});Bx.displayName=bs;var En=10,[Ux,rs]=vo(bs),QS="SelectContentImpl",Wx=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:x,avoidCollisions:j,...h}=e,p=ns(bs,n),[v,b]=u.useState(null),[C,E]=u.useState(null),k=ot(t,V=>b(V)),[_,Q]=u.useState(null),[F,ee]=u.useState(null),U=vl(n),[O,G]=u.useState(!1),Y=u.useRef(!1);u.useEffect(()=>{if(v)return kx(v)},[v]),ex();const L=u.useCallback(V=>{const[ce,...be]=U().map(je=>je.ref.current),[ye]=be.slice(-1),Ne=document.activeElement;for(const je of V)if(je===Ne||(je==null||je.scrollIntoView({block:"nearest"}),je===ce&&C&&(C.scrollTop=0),je===ye&&C&&(C.scrollTop=C.scrollHeight),je==null||je.focus(),document.activeElement!==Ne))return},[U,C]),ie=u.useCallback(()=>L([_,v]),[L,_,v]);u.useEffect(()=>{O&&ie()},[O,ie]);const{onOpenChange:D,triggerPointerDownPosRef:A}=p;u.useEffect(()=>{if(v){let V={x:0,y:0};const ce=ye=>{var Ne,je;V={x:Math.abs(Math.round(ye.pageX)-(((Ne=A.current)==null?void 0:Ne.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((je=A.current)==null?void 0:je.y)??0))}},be=ye=>{V.x<=10&&V.y<=10?ye.preventDefault():v.contains(ye.target)||D(!1),document.removeEventListener("pointermove",ce),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",be,{capture:!0})}}},[v,D,A]),u.useEffect(()=>{const V=()=>D(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[D]);const[K,B]=sv(V=>{const ce=U().filter(Ne=>!Ne.disabled),be=ce.find(Ne=>Ne.ref.current===document.activeElement),ye=ov(ce,V,be);ye&&setTimeout(()=>ye.ref.current.focus())}),le=u.useCallback((V,ce,be)=>{const ye=!Y.current&&!be;(p.value!==void 0&&p.value===ce||ye)&&(Q(V),ye&&(Y.current=!0))},[p.value]),xe=u.useCallback(()=>v==null?void 0:v.focus(),[v]),Ee=u.useCallback((V,ce,be)=>{const ye=!Y.current&&!be;(p.value!==void 0&&p.value===ce||ye)&&ee(V)},[p.value]),P=r==="popper"?hu:Hx,W=P===hu?{side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:x,avoidCollisions:j}:{};return s.jsx(Ux,{scope:n,content:v,viewport:C,onViewportChange:E,itemRefCallback:le,selectedItem:_,onItemLeave:xe,itemTextRefCallback:Ee,focusSelectedItem:ie,selectedItemText:F,position:r,isPositioned:O,searchRef:K,children:s.jsx(qd,{as:Kr,allowPinchZoom:!0,children:s.jsx(Od,{asChild:!0,trapped:p.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Oe(o,V=>{var ce;(ce=p.trigger)==null||ce.focus({preventScroll:!0}),V.preventDefault()}),children:s.jsx(Id,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:s.jsx(P,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:V=>V.preventDefault(),...h,...W,onPlaced:()=>G(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:Oe(h.onKeyDown,V=>{const ce=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ce&&V.key.length===1&&B(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let ye=U().filter(Ne=>!Ne.disabled).map(Ne=>Ne.ref.current);if(["ArrowUp","End"].includes(V.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const Ne=V.target,je=ye.indexOf(Ne);ye=ye.slice(je+1)}setTimeout(()=>L(ye)),V.preventDefault()}})})})})})})});Wx.displayName=QS;var YS="SelectItemAlignedPosition",Hx=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=ns(bs,n),i=rs(bs,n),[l,c]=u.useState(null),[d,m]=u.useState(null),f=ot(t,k=>m(k)),g=vl(n),w=u.useRef(!1),y=u.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:h,focusSelectedItem:p}=i,v=u.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&j&&h){const k=a.trigger.getBoundingClientRect(),_=d.getBoundingClientRect(),Q=a.valueNode.getBoundingClientRect(),F=h.getBoundingClientRect();if(a.dir!=="rtl"){const Ne=F.left-_.left,je=Q.left-Ne,Ue=k.left-je,We=k.width+Ue,Ze=Math.max(We,_.width),Ge=window.innerWidth-En,ze=Ep(je,[En,Math.max(En,Ge-Ze)]);l.style.minWidth=We+"px",l.style.left=ze+"px"}else{const Ne=_.right-F.right,je=window.innerWidth-Q.right-Ne,Ue=window.innerWidth-k.right-je,We=k.width+Ue,Ze=Math.max(We,_.width),Ge=window.innerWidth-En,ze=Ep(je,[En,Math.max(En,Ge-Ze)]);l.style.minWidth=We+"px",l.style.right=ze+"px"}const ee=g(),U=window.innerHeight-En*2,O=x.scrollHeight,G=window.getComputedStyle(d),Y=parseInt(G.borderTopWidth,10),L=parseInt(G.paddingTop,10),ie=parseInt(G.borderBottomWidth,10),D=parseInt(G.paddingBottom,10),A=Y+L+O+D+ie,K=Math.min(j.offsetHeight*5,A),B=window.getComputedStyle(x),le=parseInt(B.paddingTop,10),xe=parseInt(B.paddingBottom,10),Ee=k.top+k.height/2-En,P=U-Ee,W=j.offsetHeight/2,V=j.offsetTop+W,ce=Y+L+V,be=A-ce;if(ce<=Ee){const Ne=ee.length>0&&j===ee[ee.length-1].ref.current;l.style.bottom="0px";const je=d.clientHeight-x.offsetTop-x.offsetHeight,Ue=Math.max(P,W+(Ne?xe:0)+je+ie),We=ce+Ue;l.style.height=We+"px"}else{const Ne=ee.length>0&&j===ee[0].ref.current;l.style.top="0px";const Ue=Math.max(Ee,Y+x.offsetTop+(Ne?le:0)+W)+be;l.style.height=Ue+"px",x.scrollTop=ce-Ee+x.offsetTop}l.style.margin=`${En}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[g,a.trigger,a.valueNode,l,d,x,j,h,a.dir,r]);Lt(()=>v(),[v]);const[b,C]=u.useState();Lt(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const E=u.useCallback(k=>{k&&y.current===!0&&(v(),p==null||p(),y.current=!1)},[v,p]);return s.jsx(ZS,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:E,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:s.jsx(Ie.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Hx.displayName=YS;var KS="SelectPopperPosition",hu=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=En,...a}=e,i=yl(n);return s.jsx(KN,{...i,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hu.displayName=KS;var[ZS,Qd]=vo(bs,{}),gu="SelectViewport",Vx=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=rs(gu,n),i=Qd(gu,n),l=ot(t,a.onViewportChange),c=u.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(xl.Slot,{scope:n,children:s.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Oe(o.onScroll,d=>{const m=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&f){const w=Math.abs(c.current-m.scrollTop);if(w>0){const y=window.innerHeight-En*2,x=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),h=Math.max(x,j);if(h<y){const p=h+w,v=Math.min(y,p),b=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(m.scrollTop=b>0?b:0,f.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});Vx.displayName=gu;var Gx="SelectGroup",[XS,JS]=vo(Gx),e2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=qr();return s.jsx(XS,{scope:n,id:o,children:s.jsx(Ie.div,{role:"group","aria-labelledby":o,...r,ref:t})})});e2.displayName=Gx;var qx="SelectLabel",t2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=JS(qx,n);return s.jsx(Ie.div,{id:o.id,...r,ref:t})});t2.displayName=qx;var Ui="SelectItem",[n2,Qx]=vo(Ui),Yx=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...i}=e,l=ns(Ui,n),c=rs(Ui,n),d=l.value===r,[m,f]=u.useState(a??""),[g,w]=u.useState(!1),y=ot(t,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,r,o)}),x=qr(),j=u.useRef("touch"),h=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(n2,{scope:n,value:r,disabled:o,textId:x,isSelected:d,onItemTextChange:u.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:s.jsx(xl.ItemSlot,{scope:n,value:r,disabled:o,textValue:m,children:s.jsx(Ie.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:y,onFocus:Oe(i.onFocus,()=>w(!0)),onBlur:Oe(i.onBlur,()=>w(!1)),onClick:Oe(i.onClick,()=>{j.current!=="mouse"&&h()}),onPointerUp:Oe(i.onPointerUp,()=>{j.current==="mouse"&&h()}),onPointerDown:Oe(i.onPointerDown,p=>{j.current=p.pointerType}),onPointerMove:Oe(i.onPointerMove,p=>{var v;j.current=p.pointerType,o?(v=c.onItemLeave)==null||v.call(c):j.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(i.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Oe(i.onKeyDown,p=>{var b;((b=c.searchRef)==null?void 0:b.current)!==""&&p.key===" "||(BS.includes(p.key)&&h(),p.key===" "&&p.preventDefault())})})})})});Yx.displayName=Ui;var Oo="SelectItemText",Kx=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,i=ns(Oo,n),l=rs(Oo,n),c=Qx(Oo,n),d=VS(Oo,n),[m,f]=u.useState(null),g=ot(t,h=>f(h),c.onItemTextChange,h=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,h,c.value,c.disabled)}),w=m==null?void 0:m.textContent,y=u.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=d;return Lt(()=>(x(y),()=>j(y)),[x,j,y]),s.jsxs(s.Fragment,{children:[s.jsx(Ie.span,{id:c.textId,...a,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?po.createPortal(a.children,i.valueNode):null]})});Kx.displayName=Oo;var Zx="SelectItemIndicator",Xx=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Qx(Zx,n).isSelected?s.jsx(Ie.span,{"aria-hidden":!0,...r,ref:t}):null});Xx.displayName=Zx;var xu="SelectScrollUpButton",Jx=u.forwardRef((e,t)=>{const n=rs(xu,e.__scopeSelect),r=Qd(xu,e.__scopeSelect),[o,a]=u.useState(!1),i=ot(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(tv,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Jx.displayName=xu;var vu="SelectScrollDownButton",ev=u.forwardRef((e,t)=>{const n=rs(vu,e.__scopeSelect),r=Qd(vu,e.__scopeSelect),[o,a]=u.useState(!1),i=ot(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<d;a(m)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(tv,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ev.displayName=vu;var tv=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=rs("SelectScrollButton",n),i=u.useRef(null),l=vl(n),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Lt(()=>{var m;const d=l().find(f=>f.ref.current===document.activeElement);(m=d==null?void 0:d.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ie.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Oe(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Oe(o.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Oe(o.onPointerLeave,()=>{c()})})}),r2="SelectSeparator",s2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Ie.div,{"aria-hidden":!0,...r,ref:t})});s2.displayName=r2;var yu="SelectArrow",o2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=yl(n),a=ns(yu,n),i=rs(yu,n);return a.open&&i.position==="popper"?s.jsx(ZN,{...o,...r,ref:t}):null});o2.displayName=yu;function nv(e){return e===""||e===void 0}var rv=u.forwardRef((e,t)=>{const{value:n,...r}=e,o=u.useRef(null),a=ot(t,o),i=Td(n);return u.useEffect(()=>{const l=o.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&m){const f=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(f)}},[i,n]),s.jsx(Sx,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});rv.displayName="BubbleSelect";function sv(e){const t=Ln(e),n=u.useRef(""),r=u.useRef(0),o=u.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=u.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function ov(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=a2(e,Math.max(a,0));o.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function a2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var i2=Mx,l2=Ix,c2=Fx,u2=$x,d2=Lx,f2=Bx,p2=Vx,m2=Yx,h2=Kx,g2=Xx,x2=Jx,v2=ev;function Dr({...e}){return s.jsx(i2,{"data-slot":"select",...e})}function Ar({...e}){return s.jsx(c2,{"data-slot":"select-value",...e})}function Mr({className:e,size:t="default",children:n,...r}){return s.jsxs(l2,{"data-slot":"select-trigger","data-size":t,className:Re("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,s.jsx(u2,{asChild:!0,children:s.jsx(Dd,{className:"size-4 opacity-50"})})]})}function zr({className:e,children:t,position:n="popper",...r}){return s.jsx(d2,{children:s.jsxs(f2,{"data-slot":"select-content",className:Re("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(y2,{}),s.jsx(p2,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(w2,{})]})})}function nt({className:e,children:t,...n}){return s.jsxs(m2,{"data-slot":"select-item",className:Re("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(g2,{children:s.jsx(cl,{className:"size-4"})})}),s.jsx(h2,{children:t})]})}function y2({className:e,...t}){return s.jsx(x2,{"data-slot":"select-scroll-up-button",className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(mj,{className:"size-4"})})}function w2({className:e,...t}){return s.jsx(v2,{"data-slot":"select-scroll-down-button",className:Re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Dd,{className:"size-4"})})}function j2({onRegister:e,onNavigateToLogin:t}){const[n,r]=u.useState({email:"",password:"",username:"",userId:"",category:""}),[o,a]=u.useState(!1),i=async l=>{l.preventDefault(),a(!0);try{await e(n)}catch(c){console.error("Registration failed:",c)}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 p-4",children:s.jsxs(et,{className:"w-full max-w-md",children:[s.jsxs(dt,{className:"space-y-1",children:[s.jsx(ft,{className:"text-2xl font-bold text-center",children:"Create Account"}),s.jsx($g,{className:"text-center",children:"Join the student community"})]}),s.jsx(rt,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"userId",children:"Student ID"}),s.jsx(Pe,{id:"userId",type:"text",placeholder:"S12345678",value:n.userId,onChange:l=>r({...n,userId:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"username",children:"Username"}),s.jsx(Pe,{id:"username",type:"text",placeholder:"johndoe",value:n.username,onChange:l=>r({...n,username:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"email",children:"Email"}),s.jsx(Pe,{id:"email",type:"email",placeholder:"student@university.edu",value:n.email,onChange:l=>r({...n,email:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"password",children:"Password"}),s.jsx(Pe,{id:"password",type:"password",placeholder:"",value:n.password,onChange:l=>r({...n,password:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"category",children:"Category / Major"}),s.jsxs(Dr,{value:n.category,onValueChange:l=>r({...n,category:l}),children:[s.jsx(Mr,{id:"category",children:s.jsx(Ar,{placeholder:"Select your major"})}),s.jsxs(zr,{children:[s.jsx(nt,{value:"computer-science",children:"Computer Science"}),s.jsx(nt,{value:"engineering",children:"Engineering"}),s.jsx(nt,{value:"business",children:"Business"}),s.jsx(nt,{value:"arts",children:"Arts & Humanities"}),s.jsx(nt,{value:"sciences",children:"Natural Sciences"}),s.jsx(nt,{value:"mathematics",children:"Mathematics"}),s.jsx(nt,{value:"other",children:"Other"})]})]})]}),s.jsx(Z,{type:"submit",className:"w-full",disabled:o,children:o?"Creating account...":"Register"}),s.jsx(Z,{type:"button",variant:"outline",className:"w-full",onClick:t,children:"Back to Login"})]})})]})})}var Yd="Dialog",[av,iv]=tr(Yd),[b2,Wn]=av(Yd),lv=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,m]=ws({prop:r,defaultProp:o,onChange:a});return s.jsx(b2,{scope:t,triggerRef:l,contentRef:c,contentId:qr(),titleId:qr(),descriptionId:qr(),open:d,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(f=>!f),[m]),modal:i,children:n})};lv.displayName=Yd;var cv="DialogTrigger",uv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(cv,n),a=ot(t,o.triggerRef);return s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Xd(o.open),...r,ref:a,onClick:Oe(e.onClick,o.onOpenToggle)})});uv.displayName=cv;var Kd="DialogPortal",[N2,dv]=av(Kd,{forceMount:void 0}),fv=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Wn(Kd,t);return s.jsx(N2,{scope:t,forceMount:n,children:u.Children.map(r,i=>s.jsx(ho,{present:n||a.open,children:s.jsx(Gd,{asChild:!0,container:o,children:i})}))})};fv.displayName=Kd;var Wi="DialogOverlay",pv=u.forwardRef((e,t)=>{const n=dv(Wi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Wn(Wi,e.__scopeDialog);return a.modal?s.jsx(ho,{present:r||a.open,children:s.jsx(S2,{...o,ref:t})}):null});pv.displayName=Wi;var S2=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(Wi,n);return s.jsx(qd,{as:Kr,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(Ie.div,{"data-state":Xd(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ns="DialogContent",mv=u.forwardRef((e,t)=>{const n=dv(Ns,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Wn(Ns,e.__scopeDialog);return s.jsx(ho,{present:r||a.open,children:a.modal?s.jsx(C2,{...o,ref:t}):s.jsx(k2,{...o,ref:t})})});mv.displayName=Ns;var C2=u.forwardRef((e,t)=>{const n=Wn(Ns,e.__scopeDialog),r=u.useRef(null),o=ot(t,n.contentRef,r);return u.useEffect(()=>{const a=r.current;if(a)return kx(a)},[]),s.jsx(hv,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Oe(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Oe(e.onFocusOutside,a=>a.preventDefault())})}),k2=u.forwardRef((e,t)=>{const n=Wn(Ns,e.__scopeDialog),r=u.useRef(!1),o=u.useRef(!1);return s.jsx(hv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),hv=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=Wn(Ns,n),c=u.useRef(null),d=ot(t,c);return ex(),s.jsxs(s.Fragment,{children:[s.jsx(Od,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Id,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Xd(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(P2,{titleId:l.titleId}),s.jsx(_2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Zd="DialogTitle",gv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(Zd,n);return s.jsx(Ie.h2,{id:o.titleId,...r,ref:t})});gv.displayName=Zd;var xv="DialogDescription",vv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(xv,n);return s.jsx(Ie.p,{id:o.descriptionId,...r,ref:t})});vv.displayName=xv;var yv="DialogClose",wv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(yv,n);return s.jsx(Ie.button,{type:"button",...r,ref:t,onClick:Oe(e.onClick,()=>o.onOpenChange(!1))})});wv.displayName=yv;function Xd(e){return e?"open":"closed"}var jv="DialogTitleWarning",[E2,bv]=W1(jv,{contentName:Ns,titleName:Zd,docsSlug:"dialog"}),P2=({titleId:e})=>{const t=bv(jv),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},T2="DialogDescriptionWarning",_2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bv(T2).contentName}}.`;return u.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Nv=lv,Sv=uv,Cv=fv,kv=pv,Ev=mv,Pv=gv,R2=vv,Jd=wv;function An({...e}){return s.jsx(Nv,{"data-slot":"dialog",...e})}function ef({...e}){return s.jsx(Sv,{"data-slot":"dialog-trigger",...e})}function D2({...e}){return s.jsx(Cv,{"data-slot":"dialog-portal",...e})}function A2({className:e,...t}){return s.jsx(kv,{"data-slot":"dialog-overlay",className:Re("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Mn({className:e,children:t,...n}){return s.jsxs(D2,{"data-slot":"dialog-portal",children:[s.jsx(A2,{}),s.jsxs(Ev,{"data-slot":"dialog-content",className:Re("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,s.jsxs(Jd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(dl,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function zn({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:Re("flex flex-col gap-2 text-center sm:text-left",e),...t})}function In({className:e,...t}){return s.jsx(Pv,{"data-slot":"dialog-title",className:Re("text-lg leading-none font-semibold",e),...t})}function M2(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const z2=e=>{switch(e){case"success":return F2;case"info":return L2;case"warning":return $2;case"error":return B2;default:return null}},I2=Array(12).fill(0),O2=({visible:e,className:t})=>oe.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},oe.createElement("div",{className:"sonner-spinner"},I2.map((n,r)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),F2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),$2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),L2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U2=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),W2=()=>{const[e,t]=oe.useState(document.hidden);return oe.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let wu=1;class H2{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:wu++,i=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:l,title:r}):c):this.addToast({title:r,...o,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,i;const l=o.then(async d=>{if(i=["resolve",d],oe.isValidElement(d))a=!1,this.create({id:r,type:"default",message:d});else if(G2(d)&&!d.ok){a=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,y=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...y})}else if(d instanceof Error){a=!1;const f=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,y=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...y})}else if(n.success!==void 0){a=!1;const f=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description,y=typeof f=="object"&&!oe.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:g,...y})}}).catch(async d=>{if(i=["reject",d],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,w=typeof m=="object"&&!oe.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...w})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,m)=>l.then(()=>i[0]==="reject"?m(i[1]):d(i[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||wu++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const tn=new H2,V2=(e,t)=>{const n=(t==null?void 0:t.id)||wu++;return tn.addToast({title:e,...t,id:n}),n},G2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",q2=V2,Q2=()=>tn.toasts,Y2=()=>tn.getActiveToasts(),I=Object.assign(q2,{success:tn.success,info:tn.info,warning:tn.warning,error:tn.error,custom:tn.custom,message:tn.message,promise:tn.promise,dismiss:tn.dismiss,loading:tn.loading},{getHistory:Q2,getToasts:Y2});M2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qa(e){return e.label!==void 0}const K2=3,Z2="24px",X2="16px",Zp=4e3,J2=356,eC=14,tC=45,nC=200;function qn(...e){return e.filter(Boolean).join(" ")}function rC(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const sC=e=>{var t,n,r,o,a,i,l,c,d;const{invert:m,toast:f,unstyled:g,interacting:w,setHeights:y,visibleToasts:x,heights:j,index:h,toasts:p,expanded:v,removeToast:b,defaultRichColors:C,closeButton:E,style:k,cancelButtonStyle:_,actionButtonStyle:Q,className:F="",descriptionClassName:ee="",duration:U,position:O,gap:G,expandByDefault:Y,classNames:L,icons:ie,closeButtonAriaLabel:D="Close toast"}=e,[A,K]=oe.useState(null),[B,le]=oe.useState(null),[xe,Ee]=oe.useState(!1),[P,W]=oe.useState(!1),[V,ce]=oe.useState(!1),[be,ye]=oe.useState(!1),[Ne,je]=oe.useState(!1),[Ue,We]=oe.useState(0),[Ze,Ge]=oe.useState(0),ze=oe.useRef(f.duration||U||Zp),pt=oe.useRef(null),Fe=oe.useRef(null),Qe=h===0,qt=h+1<=x,He=f.type,Et=f.dismissible!==!1,bt=f.className||"",Bt=f.descriptionClassName||"",mt=oe.useMemo(()=>j.findIndex(X=>X.toastId===f.id)||0,[j,f.id]),Pt=oe.useMemo(()=>{var X;return(X=f.closeButton)!=null?X:E},[f.closeButton,E]),vt=oe.useMemo(()=>f.duration||U||Zp,[f.duration,U]),yt=oe.useRef(0),Xe=oe.useRef(0),$=oe.useRef(0),q=oe.useRef(null),[se,pe]=O.split("-"),De=oe.useMemo(()=>j.reduce((X,T,H)=>H>=mt?X:X+T.height,0),[j,mt]),Ce=W2(),$e=f.invert||m,tt=He==="loading";Xe.current=oe.useMemo(()=>mt*G+De,[mt,De]),oe.useEffect(()=>{ze.current=vt},[vt]),oe.useEffect(()=>{Ee(!0)},[]),oe.useEffect(()=>{const X=Fe.current;if(X){const T=X.getBoundingClientRect().height;return Ge(T),y(H=>[{toastId:f.id,height:T,position:f.position},...H]),()=>y(H=>H.filter(fe=>fe.toastId!==f.id))}},[y,f.id]),oe.useLayoutEffect(()=>{if(!xe)return;const X=Fe.current,T=X.style.height;X.style.height="auto";const H=X.getBoundingClientRect().height;X.style.height=T,Ge(H),y(fe=>fe.find(Se=>Se.toastId===f.id)?fe.map(Se=>Se.toastId===f.id?{...Se,height:H}:Se):[{toastId:f.id,height:H,position:f.position},...fe])},[xe,f.title,f.description,y,f.id]);const N=oe.useCallback(()=>{W(!0),We(Xe.current),y(X=>X.filter(T=>T.toastId!==f.id)),setTimeout(()=>{b(f)},nC)},[f,b,y,Xe]);oe.useEffect(()=>{if(f.promise&&He==="loading"||f.duration===1/0||f.type==="loading")return;let X;return v||w||Ce?(()=>{if($.current<yt.current){const fe=new Date().getTime()-yt.current;ze.current=ze.current-fe}$.current=new Date().getTime()})():(()=>{ze.current!==1/0&&(yt.current=new Date().getTime(),X=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),N()},ze.current))})(),()=>clearTimeout(X)},[v,w,f,He,Ce,N]),oe.useEffect(()=>{f.delete&&N()},[N,f.delete]);function R(){var X;if(ie!=null&&ie.loading){var T;return oe.createElement("div",{className:qn(L==null?void 0:L.loader,f==null||(T=f.classNames)==null?void 0:T.loader,"sonner-loader"),"data-visible":He==="loading"},ie.loading)}return oe.createElement(O2,{className:qn(L==null?void 0:L.loader,f==null||(X=f.classNames)==null?void 0:X.loader),visible:He==="loading"})}const J=f.icon||(ie==null?void 0:ie[He])||z2(He);var de,me;return oe.createElement("li",{tabIndex:0,ref:Fe,className:qn(F,bt,L==null?void 0:L.toast,f==null||(t=f.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[He],f==null||(n=f.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(de=f.richColors)!=null?de:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":xe,"data-promise":!!f.promise,"data-swiped":Ne,"data-removed":P,"data-visible":qt,"data-y-position":se,"data-x-position":pe,"data-index":h,"data-front":Qe,"data-swiping":V,"data-dismissible":Et,"data-type":He,"data-invert":$e,"data-swipe-out":be,"data-swipe-direction":B,"data-expanded":!!(v||Y&&xe),style:{"--index":h,"--toasts-before":h,"--z-index":p.length-h,"--offset":`${P?Ue:Xe.current}px`,"--initial-height":Y?"auto":`${Ze}px`,...k,...f.style},onDragEnd:()=>{ce(!1),K(null),q.current=null},onPointerDown:X=>{tt||!Et||(pt.current=new Date,We(Xe.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(ce(!0),q.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,T,H;if(be||!Et)return;q.current=null;const fe=Number(((X=Fe.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ve=Number(((T=Fe.current)==null?void 0:T.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Se=new Date().getTime()-((H=pt.current)==null?void 0:H.getTime()),Le=A==="x"?fe:ve,Ye=Math.abs(Le)/Se;if(Math.abs(Le)>=tC||Ye>.11){We(Xe.current),f.onDismiss==null||f.onDismiss.call(f,f),le(A==="x"?fe>0?"right":"left":ve>0?"down":"up"),N(),ye(!0);return}else{var Ct,Tt;(Ct=Fe.current)==null||Ct.style.setProperty("--swipe-amount-x","0px"),(Tt=Fe.current)==null||Tt.style.setProperty("--swipe-amount-y","0px")}je(!1),ce(!1),K(null)},onPointerMove:X=>{var T,H,fe;if(!q.current||!Et||((T=window.getSelection())==null?void 0:T.toString().length)>0)return;const Se=X.clientY-q.current.y,Le=X.clientX-q.current.x;var Ye;const Ct=(Ye=e.swipeDirections)!=null?Ye:rC(O);!A&&(Math.abs(Le)>1||Math.abs(Se)>1)&&K(Math.abs(Le)>Math.abs(Se)?"x":"y");let Tt={x:0,y:0};const br=_t=>1/(1.5+Math.abs(_t)/20);if(A==="y"){if(Ct.includes("top")||Ct.includes("bottom"))if(Ct.includes("top")&&Se<0||Ct.includes("bottom")&&Se>0)Tt.y=Se;else{const _t=Se*br(Se);Tt.y=Math.abs(_t)<Math.abs(Se)?_t:Se}}else if(A==="x"&&(Ct.includes("left")||Ct.includes("right")))if(Ct.includes("left")&&Le<0||Ct.includes("right")&&Le>0)Tt.x=Le;else{const _t=Le*br(Le);Tt.x=Math.abs(_t)<Math.abs(Le)?_t:Le}(Math.abs(Tt.x)>0||Math.abs(Tt.y)>0)&&je(!0),(H=Fe.current)==null||H.style.setProperty("--swipe-amount-x",`${Tt.x}px`),(fe=Fe.current)==null||fe.style.setProperty("--swipe-amount-y",`${Tt.y}px`)}},Pt&&!f.jsx&&He!=="loading"?oe.createElement("button",{"aria-label":D,"data-disabled":tt,"data-close-button":!0,onClick:tt||!Et?()=>{}:()=>{N(),f.onDismiss==null||f.onDismiss.call(f,f)},className:qn(L==null?void 0:L.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(me=ie==null?void 0:ie.close)!=null?me:U2):null,(He||f.icon||f.promise)&&f.icon!==null&&((ie==null?void 0:ie[He])!==null||f.icon)?oe.createElement("div",{"data-icon":"",className:qn(L==null?void 0:L.icon,f==null||(o=f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||R():null,f.type!=="loading"?J:null):null,oe.createElement("div",{"data-content":"",className:qn(L==null?void 0:L.content,f==null||(a=f.classNames)==null?void 0:a.content)},oe.createElement("div",{"data-title":"",className:qn(L==null?void 0:L.title,f==null||(i=f.classNames)==null?void 0:i.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?oe.createElement("div",{"data-description":"",className:qn(ee,Bt,L==null?void 0:L.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),oe.isValidElement(f.cancel)?f.cancel:f.cancel&&Qa(f.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||_,onClick:X=>{Qa(f.cancel)&&Et&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,X),N())},className:qn(L==null?void 0:L.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,oe.isValidElement(f.action)?f.action:f.action&&Qa(f.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||Q,onClick:X=>{Qa(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,X),!X.defaultPrevented&&N())},className:qn(L==null?void 0:L.actionButton,f==null||(d=f.classNames)==null?void 0:d.actionButton)},f.action.label):null)};function Xp(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function oC(e,t){const n={};return[e,t].forEach((r,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",l=a?X2:Z2;function c(d){["top","right","bottom","left"].forEach(m=>{n[`${i}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${i}-${d}`]=l:n[`${i}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}const aC=oe.forwardRef(function(t,n){const{invert:r,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:l,className:c,offset:d,mobileOffset:m,theme:f="light",richColors:g,duration:w,style:y,visibleToasts:x=K2,toastOptions:j,dir:h=Xp(),gap:p=eC,icons:v,containerAriaLabel:b="Notifications"}=t,[C,E]=oe.useState([]),k=oe.useMemo(()=>Array.from(new Set([o].concat(C.filter(B=>B.position).map(B=>B.position)))),[C,o]),[_,Q]=oe.useState([]),[F,ee]=oe.useState(!1),[U,O]=oe.useState(!1),[G,Y]=oe.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=oe.useRef(null),ie=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=oe.useRef(null),A=oe.useRef(!1),K=oe.useCallback(B=>{E(le=>{var xe;return(xe=le.find(Ee=>Ee.id===B.id))!=null&&xe.delete||tn.dismiss(B.id),le.filter(({id:Ee})=>Ee!==B.id)})},[]);return oe.useEffect(()=>tn.subscribe(B=>{if(B.dismiss){requestAnimationFrame(()=>{E(le=>le.map(xe=>xe.id===B.id?{...xe,delete:!0}:xe))});return}setTimeout(()=>{kg.flushSync(()=>{E(le=>{const xe=le.findIndex(Ee=>Ee.id===B.id);return xe!==-1?[...le.slice(0,xe),{...le[xe],...B},...le.slice(xe+1)]:[B,...le]})})})}),[C]),oe.useEffect(()=>{if(f!=="system"){Y(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;const B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:le})=>{Y(le?"dark":"light")})}catch{B.addListener(({matches:xe})=>{try{Y(xe?"dark":"light")}catch(Ee){console.error(Ee)}})}},[f]),oe.useEffect(()=>{C.length<=1&&ee(!1)},[C]),oe.useEffect(()=>{const B=le=>{var xe;if(a.every(W=>le[W]||le.code===W)){var P;ee(!0),(P=L.current)==null||P.focus()}le.code==="Escape"&&(document.activeElement===L.current||(xe=L.current)!=null&&xe.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[a]),oe.useEffect(()=>{if(L.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,A.current=!1)}},[L.current]),oe.createElement("section",{ref:n,"aria-label":`${b} ${ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((B,le)=>{var xe;const[Ee,P]=B.split("-");return C.length?oe.createElement("ol",{key:B,dir:h==="auto"?Xp():h,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":G,"data-y-position":Ee,"data-lifted":F&&C.length>1&&!i,"data-x-position":P,style:{"--front-toast-height":`${((xe=_[0])==null?void 0:xe.height)||0}px`,"--width":`${J2}px`,"--gap":`${p}px`,...y,...oC(d,m)},onBlur:W=>{A.current&&!W.currentTarget.contains(W.relatedTarget)&&(A.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||A.current||(A.current=!0,D.current=W.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{U||ee(!1)},onDragEnd:()=>ee(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},C.filter(W=>!W.position&&le===0||W.position===B).map((W,V)=>{var ce,be;return oe.createElement(sC,{key:W.id,icons:v,index:V,toast:W,defaultRichColors:g,duration:(ce=j==null?void 0:j.duration)!=null?ce:w,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:r,visibleToasts:x,closeButton:(be=j==null?void 0:j.closeButton)!=null?be:l,interacting:U,position:B,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,closeButtonAriaLabel:j==null?void 0:j.closeButtonAriaLabel,removeToast:K,toasts:C.filter(ye=>ye.position==W.position),heights:_.filter(ye=>ye.position==W.position),setHeights:Q,expandByDefault:i,gap:p,expanded:F,swipeDirections:t.swipeDirections})})):null}))});var tf="Avatar",[iC]=tr(tf),[lC,Tv]=iC(tf),_v=u.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,a]=u.useState("idle");return s.jsx(lC,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:s.jsx(Ie.span,{...r,ref:t})})});_v.displayName=tf;var Rv="AvatarImage",Dv=u.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...a}=e,i=Tv(Rv,n),l=cC(r,a.referrerPolicy),c=Ln(d=>{o(d),i.onImageLoadingStatusChange(d)});return Lt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ie.img,{...a,ref:t,src:r}):null});Dv.displayName=Rv;var Av="AvatarFallback",Mv=u.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,a=Tv(Av,n),[i,l]=u.useState(r===void 0);return u.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?s.jsx(Ie.span,{...o,ref:t}):null});Mv.displayName=Av;function cC(e,t){const[n,r]=u.useState("idle");return Lt(()=>{if(!e){r("error");return}let o=!0;const a=new window.Image,i=l=>()=>{o&&r(l)};return r("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{o=!1}},[e,t]),n}var uC=_v,dC=Dv,fC=Mv;function Hi({className:e,...t}){return s.jsx(uC,{"data-slot":"avatar",className:Re("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function Vi({className:e,...t}){return s.jsx(dC,{"data-slot":"avatar-image",className:Re("aspect-square size-full",e),...t})}function Gi({className:e,...t}){return s.jsx(fC,{"data-slot":"avatar-fallback",className:Re("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var nf="Switch",[pC]=tr(nf),[mC,hC]=pC(nf),zv=u.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:m,...f}=e,[g,w]=u.useState(null),y=ot(t,v=>w(v)),x=u.useRef(!1),j=g?m||!!g.closest("form"):!0,[h=!1,p]=ws({prop:o,defaultProp:a,onChange:d});return s.jsxs(mC,{scope:n,checked:h,disabled:l,children:[s.jsx(Ie.button,{type:"button",role:"switch","aria-checked":h,"aria-required":i,"data-state":Fv(h),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Oe(e.onClick,v=>{p(b=>!b),j&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),j&&s.jsx(gC,{control:g,bubbles:!x.current,name:r,value:c,checked:h,required:i,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});zv.displayName=nf;var Iv="SwitchThumb",Ov=u.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=hC(Iv,n);return s.jsx(Ie.span,{"data-state":Fv(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Ov.displayName=Iv;var gC=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=u.useRef(null),i=Td(n),l=_d(t);return u.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&f){const g=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(g)}},[i,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fv(e){return e?"checked":"unchecked"}var xC=zv,vC=Ov;function ju({className:e,...t}){return s.jsx(xC,{"data-slot":"switch",className:Re("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(vC,{"data-slot":"switch-thumb",className:Re("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function yC({accessToken:e,onOpenChat:t,onViewFriend:n}){const r="studyhub_active_timer",[o,a]=u.useState([]),[i,l]=u.useState(0),[c,d]=u.useState(0),[m,f]=u.useState(0),[g,w]=u.useState(!1),[y,x]=u.useState(!1),[j,h]=u.useState(null),[p,v]=u.useState(!0),[b,C]=u.useState(null),[E,k]=u.useState(0),[_,Q]=u.useState(0),[F,ee]=u.useState(0),[U,O]=u.useState(0),[G,Y]=u.useState(!1),[L,ie]=u.useState(null),[D,A]=u.useState("00:00"),[K,B]=u.useState([]),[le,xe]=u.useState([]),[Ee,P]=u.useState([]),[W,V]=u.useState(!1),[ce,be]=u.useState(!1),[ye,Ne]=u.useState(""),[je,Ue]=u.useState(!1),[We,Ze]=u.useState(""),[Ge,ze]=u.useState(!1),[pt,Fe]=u.useState([]),[Qe,qt]=u.useState([]),[He,Et]=u.useState(0),[bt,Bt]=u.useState(!1),[mt,Pt]=u.useState(null),vt=u.useRef(null),yt=53,Xe=9,$=3.5,[q,se]=u.useState({}),[pe,De]=u.useState(null),Ce=u.useRef(null),[$e,tt]=u.useState({name:"",subject:"",durationMinutes:0,shared:!1}),[N,R]=u.useState({name:"",subject:"",durationMinutes:0,shared:!1}),J=S=>{const M=S.getFullYear(),re=String(S.getMonth()+1).padStart(2,"0"),ue=String(S.getDate()).padStart(2,"0");return`${M}-${re}-${ue}`},de=`dashboard_cache:${e.slice(-12)}`;u.useEffect(()=>{let S=!1;return(async()=>{let re=!1;try{const ue=sessionStorage.getItem(de);if(ue){const ke=JSON.parse(ue);a(ke.todos||[]),l(Number(ke.dailyTotal||0)),d(Number(ke.weeklyTotal||0)),f(Number(ke.monthlyTotal||0)),Q(Number(ke.dailyGoal||0)),ee(Number(ke.weeklyGoal||0)),O(Number(ke.monthlyGoal||0)),B(ke.friends||[]),xe(ke.nearbyRooms||[]),P(ke.studyStreak||[]),se(ke.heatmapData||{}),re=!0,S||v(!1)}}catch{}re||v(!0),await Promise.all([T(),ve(),br(),Se(),Tt()]),S||v(!1)})(),()=>{S=!0}},[e,de]),u.useEffect(()=>{if(p)return;const S={todos:o,dailyTotal:i,weeklyTotal:c,monthlyTotal:m,dailyGoal:_,weeklyGoal:F,monthlyGoal:U,friends:K,nearbyRooms:le,studyStreak:Ee,heatmapData:q};sessionStorage.setItem(de,JSON.stringify(S))},[de,p,o,i,c,m,_,F,U,K,le,Ee,q]),u.useEffect(()=>()=>{vt.current&&clearTimeout(vt.current)},[]);const me=()=>{if(vt.current&&(clearTimeout(vt.current),vt.current=null),!W){be(!0),Bt(!1),V(!0);return}V(!1),Bt(!1),Ne(""),vt.current=setTimeout(()=>{be(!1),vt.current=null},500)},X=async()=>{const S=We.trim();if(!S){I.error("Please enter a username");return}try{ze(!0);const M=await fetch(`${te}/friends/add`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({friendUsername:S})}),re=await M.json();if(!M.ok||!re.success){I.error(re.error||"Failed to send friend request");return}Ze(""),Ue(!1),re.autoAccepted?(I.success("Request matched and accepted."),Se(),Ye()):(I.success("Friend request sent (pending)."),Ye())}catch(M){console.error("Failed to send friend request:",M),I.error("Failed to send friend request")}finally{ze(!1)}};u.useEffect(()=>{const S=()=>{try{const ue=localStorage.getItem(r);return ue?JSON.parse(ue):null}catch{return null}},M=ue=>ue.baseSeconds+Math.floor((Date.now()-ue.startTime)/1e3);let re;return b&&(re=setInterval(()=>{const ue=S();if(ue&&ue.todoId===b){const ke=M(ue);k(ke);const Je=o.find(wt=>wt.id===b);if(Je&&Je.plannedDuration){const wt=Je.plannedDuration*60;ke>=wt&&(os(Je),I.success(" Task completed!"))}}},1e3)),()=>{re&&clearInterval(re)}},[b,o]),u.useEffect(()=>{try{const S=localStorage.getItem(r);if(!S)return;const M=JSON.parse(S);if(!(M!=null&&M.todoId)||!(M!=null&&M.startTime))return;const re=M.baseSeconds+Math.floor((Date.now()-M.startTime)/1e3);C(M.todoId),k(re)}catch{}},[]);const T=async()=>{try{const M=await(await fetch(`${te}/todos`,{headers:{Authorization:`Bearer ${e}`}})).json();a(M.todos||[])}catch(S){console.error("Failed to fetch todos:",S)}},H=S=>{const M=new Date;return M.setDate(M.getDate()+S),J(M)},fe=S=>Number(q[S]||0),ve=async()=>{try{const S=new Date,M=S.getDay()===0?0:S.getDay(),re=yt*7+M,ue=new Date,ke=new Date;ke.setDate(ue.getDate()-(re-1));const Je=J(ke),wt=J(ue),ln=Ut=>{se(Ut);const as=Number(Ut[H(0)]||0),cn=Array.from({length:7},(ir,Vn)=>Number(Ut[H(-Vn)]||0)).reduce((ir,Vn)=>ir+Vn,0),Nr=Array.from({length:30},(ir,Vn)=>Number(Ut[H(-Vn)]||0)).reduce((ir,Vn)=>ir+Vn,0),ar=Array.from({length:7},(ir,Vn)=>H(-Vn)).map(ir=>({day:new Date(ir).toLocaleDateString("en-US",{weekday:"short"}).slice(0,1),completed:Number(Ut[ir]||0)>0}));l(as),d(cn),f(Nr),P(ar.reverse())},Jt=await fetch(`${te}/study-time-range?start=${Je}&end=${wt}`,{headers:{Authorization:`Bearer ${e}`}});if(Jt.ok){const Ut=await Jt.json(),as=(Ut==null?void 0:Ut.totals)||{},cn={};Object.entries(as).forEach(([Nr,or])=>{const ar=String(Nr).slice(0,10);cn[ar]=Number(or||0)}),ln(cn);return}if(Jt.status===404){const Ut=Array.from({length:re},(Nr,or)=>{const ar=new Date(ke);return ar.setDate(ke.getDate()+or),J(ar)}),as=await Promise.all(Ut.map(Nr=>fetch(`${te}/study-time/${Nr}`,{headers:{Authorization:`Bearer ${e}`}}).then(or=>or.ok?or.json():{total:0}))),cn={};Ut.forEach((Nr,or)=>{var ar;cn[Nr]=Number(((ar=as[or])==null?void 0:ar.total)||0)}),ln(cn);return}throw new Error("Failed to fetch study-time range")}catch(S){console.error("Failed to fetch study summary:",S)}},Se=async()=>{try{const M=await(await fetch(`${te}/friends`,{headers:{Authorization:`Bearer ${e}`}})).json();B(M.friends||[])}catch(S){console.error("Failed to fetch friends:",S)}},Le=async()=>{try{const M=await(await fetch(`${te}/friends/requests`,{headers:{Authorization:`Bearer ${e}`}})).json(),re=Array.isArray(M.requests)?M.requests:[];Fe(re),Et(re.length)}catch(S){console.error("Failed to fetch incoming friend requests:",S)}},Ye=async()=>{try{const M=await(await fetch(`${te}/friends/requests/sent`,{headers:{Authorization:`Bearer ${e}`}})).json(),re=Array.isArray(M.requests)?M.requests:[];qt(re)}catch(S){console.error("Failed to fetch outgoing friend requests:",S)}},Ct=async(S,M)=>{try{Pt(S);const re=await fetch(`${te}/friends/requests/${S}/${M}`,{method:"POST",headers:{Authorization:`Bearer ${e}`}}),ue=await re.json();if(!re.ok||!ue.success){I.error(ue.error||`Failed to ${M} request`);return}M==="accept"?(I.success("Friend request accepted"),Se()):I.success("Friend request rejected"),Le()}catch(re){console.error(`Failed to ${M} friend request:`,re),I.error(`Failed to ${M} request`)}finally{Pt(null)}},Tt=async()=>{try{const M=await(await fetch(`${te}/study-groups`)).json();xe(M.groups||[])}catch(S){console.error("Failed to fetch study groups:",S)}};u.useEffect(()=>{Le(),Ye();const S=setInterval(Le,1e4),M=setInterval(Ye,1e4);return()=>{clearInterval(S),clearInterval(M)}},[e]);const br=async()=>{try{const M=await(await fetch(`${te}/settings`,{headers:{Authorization:`Bearer ${e}`}})).json();M.settings&&(Q(Number(M.settings.dailyGoal||0)),ee(Number(M.settings.weeklyGoal||0)),O(Number(M.settings.monthlyGoal||0)))}catch(S){console.error("Failed to fetch goals:",S)}},_t=u.useMemo(()=>{const S=new Date;return S.getDay()===0?0:S.getDay()},[]),rr=u.useMemo(()=>yt+(_t>0?1:0),[yt,_t]),ya=u.useMemo(()=>rr*Xe+(rr-1)*$,[rr,Xe,$]),ss=u.useMemo(()=>{const S=new Date;S.setHours(0,0,0,0);const M=S.getDay(),re=new Date(S);re.setDate(S.getDate()-M);const ue=new Date(re);ue.setDate(re.getDate()-(yt-1)*7);const ke=new Date(ue);ke.setDate(ue.getDate()-6);const Je=yt*7+_t;return Array.from({length:Je},(wt,ln)=>{const Jt=new Date(ke);return Jt.setDate(ke.getDate()+ln),J(Jt)})},[yt,_t,J]),wa=u.useMemo(()=>Array.from({length:rr},(S,M)=>{const re=M*7,ue=ss[re];if(!ue)return"";const Je=new Date(`${ue}T00:00:00`).toLocaleDateString("en-US",{month:"short"});if(M===0)return Je;const wt=ss[(M-1)*7];if(!wt)return Je;const Jt=new Date(`${wt}T00:00:00`).toLocaleDateString("en-US",{month:"short"});return Je!==Jt?Je:""}),[ss,rr]),ja=S=>{const M=Math.round(S/60);if(M<=0)return"No study";const re=Math.floor(M/60),ue=M%60;return re<=0?`${M}m`:ue===0?`${re}h`:`${re}h ${ue}m`},ba=(S,M)=>{const re=S.currentTarget.getBoundingClientRect();De({date:M,x:re.left+re.width/2,y:re.top-8})},bl=async()=>{if(!$e.name.trim()){I.error("Please enter a task name");return}try{const M=await(await fetch(`${te}/todos`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:$e.name,subject:$e.subject,duration:$e.durationMinutes*60,plannedDuration:$e.durationMinutes*60,actualDuration:0,shared:$e.shared})})).json();M.todo&&(a([...o,M.todo]),tt({name:"",subject:"",durationMinutes:0,shared:!1}),w(!1),I.success(" Todo added!"))}catch(S){console.error("Failed to add todo:",S),I.error("Failed to add todo")}},Na=async S=>{try{await fetch(`${te}/todos/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),a(o.filter(M=>M.id!==S)),I.success("Todo deleted")}catch(M){console.error("Failed to delete todo:",M)}},Sa=async S=>{try{await fetch(`${te}/study/timer/start`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});const M={todoId:S,startTime:Date.now(),baseSeconds:0};localStorage.setItem(r,JSON.stringify(M)),C(S),k(0)}catch(M){console.error("Failed to start timer:",M),I.error("Failed to start timer")}},os=async S=>{if(b!==S.id)return;const M=localStorage.getItem(r),re=M?JSON.parse(M):null,ue=re&&re.todoId===S.id?re.baseSeconds+Math.floor((Date.now()-re.startTime)/1e3):E;localStorage.removeItem(r),C(null),k(0);try{const Je=await(await fetch(`${te}/study/timer/stop`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).json();if(Je.newlyUnlocked&&Je.newlyUnlocked.length>0)for(const wt of Je.newlyUnlocked){const ln=wt==="bronze"?"":wt==="silver"?"":"";I.success(`${ln} Unlocked ${wt.toUpperCase()} medal!`)}await Promise.all([fetch(`${te}/study-time`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({duration:ue,date:H(0)})}),fetch(`${te}/todos/${S.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...S,duration:S.plannedDuration??S.duration??0,plannedDuration:S.plannedDuration??S.duration??0,actualDuration:(S.actualDuration||0)+ue})})]),l(wt=>wt+ue),T(),ve(),I.success(` Logged ${Math.floor(ue/60)} minutes!`)}catch(ke){console.error("Failed to save study time:",ke)}},Nl=S=>{const M=Math.floor(S/3600),re=Math.floor(S%3600/60);return M>0?`${M}h ${re}m`:`${re}m`},yo=S=>S.plannedDuration??S.duration??0,Sl=S=>S.actualDuration??0,wo=S=>{const M=yo(S);return M<=0?0:Math.min(Sl(S)/M*100,100)},z=(S,M)=>!M||M<=0||!S||S<=0?0:Math.min(S/M*100,100),ae=S=>{const M=Math.max(0,Math.floor(S)),re=Math.floor(M/3600),ue=Math.floor(M%3600/60);return`${String(re).padStart(2,"0")}:${String(ue).padStart(2,"0")}`},he=S=>{const M=Math.max(0,Math.floor(S)),re=Math.floor(M/3600),ue=Math.floor(M%3600/60);return`${re}:${String(ue).padStart(2,"0")}h`},_e=S=>{const M=S.trim(),re=/^(\d{1,3}):([0-5]\d)$/.exec(M);if(!re)return null;const ue=Number(re[1]),ke=Number(re[2]);return ue*3600+ke*60},Rt=S=>{ie(S),A(ae(S==="daily"?_:S==="weekly"?F:U)),Y(!0)},qe=async()=>{if(!L)return;const S=_e(D);if(S===null){I.error("Use time format like 08:30");return}const M={dailyGoal:L==="daily"?S:_,weeklyGoal:L==="weekly"?S:F,monthlyGoal:L==="monthly"?S:U};try{const ue=await(await fetch(`${te}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(M)})).json();ue.settings?(Q(Number(ue.settings.dailyGoal||0)),ee(Number(ue.settings.weeklyGoal||0)),O(Number(ue.settings.monthlyGoal||0)),Y(!1),ie(null),I.success("Goal updated")):I.error("Failed to update goal")}catch(re){console.error("Failed to save goal:",re),I.error("Failed to update goal")}},Te=S=>S.split(" ").map(M=>M[0]).join(""),Mt=S=>{if(!S.lastActivityAt)return{label:"Inactive",isOnline:!1};const M=new Date(S.lastActivityAt).getTime();if(Number.isNaN(M))return{label:"Inactive",isOnline:!1};const re=Math.floor((Date.now()-M)/1e3);if(re<300)return{label:"Online",isOnline:!0};const ue=Math.floor(re/60);if(ue<60)return{label:`${ue}m ago`,isOnline:!1};const ke=Math.floor(ue/60);return ke<24?{label:`${ke}h ago`,isOnline:!1}:{label:`${Math.floor(ke/24)}d ago`,isOnline:!1}},Nt=u.useMemo(()=>{const S=ce?K:K.slice(0,4),M=Qe.map(ke=>ke.recipient),re=[...S,...M],ue=ye.trim().toLowerCase();return ue?re.filter(ke=>{const Je=String(ke.username||"").toLowerCase(),wt=String(ke.email||"").toLowerCase();return Je.includes(ue)||wt.includes(ue)}):re},[K,Qe,ce,ye]),sr=u.useMemo(()=>new Set(Qe.map(S=>S.recipientId)),[Qe]),Hn=S=>{h(S.id),R({name:S.name,subject:S.subject,durationMinutes:Math.floor((S.duration||0)/60),shared:!!S.shared}),x(!0)},Sn=async()=>{if(j){if(!N.name.trim()){I.error("Please enter a task name");return}try{const S=o.find(ue=>ue.id===j);if(!S)return;const re=await(await fetch(`${te}/todos/${j}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...S,name:N.name,subject:N.subject,duration:N.durationMinutes*60,plannedDuration:N.durationMinutes*60,actualDuration:S.actualDuration||0,shared:N.shared})})).json();re.todo&&(a(o.map(ue=>ue.id===j?re.todo:ue)),x(!1),h(null),I.success("Todo updated"))}catch(S){console.error("Failed to update todo:",S),I.error("Failed to update todo")}}};return p?s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-8 min-h-[720px] flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Loading dashboard..."})}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-stretch",children:[s.jsxs("div",{className:"xl:col-span-8 space-y-6",children:[s.jsxs("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Daily Goal",total:i,goal:_},{label:"Weekly Goal",total:c,goal:F},{label:"Monthly Goal",total:m,goal:U}].map(S=>{const M=Math.round(z(S.total,S.goal));return s.jsxs("button",{className:"bg-white/80 rounded-3xl shadow-[0_16px_40px_rgba(15,23,42,0.08)] p-5 text-left",onClick:()=>Rt(S.label==="Daily Goal"?"daily":S.label==="Weekly Goal"?"weekly":"monthly"),type:"button",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:S.label}),s.jsx("span",{className:"text-xs text-gray-400",children:he(S.goal)})]}),s.jsxs("div",{className:"relative w-24 h-24 mx-auto mt-4",children:[s.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[s.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),s.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#22c55e",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*36}`,strokeDashoffset:`${2*Math.PI*36*(1-M/100)}`,strokeLinecap:"round"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-xl font-semibold text-gray-900",children:[M,"%"]})})]})]},S.label)})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Today's Tasks"}),s.jsxs(An,{open:g,onOpenChange:w,children:[s.jsx(ef,{asChild:!0,children:s.jsx("button",{className:"text-sm text-gray-400 hover:text-gray-600",children:""})}),s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Add a task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"todo-name",children:"Task name"}),s.jsx(Pe,{id:"todo-name",value:$e.name,onChange:S=>tt(M=>({...M,name:S.target.value})),placeholder:"e.g. Math homework"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"todo-subject",children:"Subject"}),s.jsx(Pe,{id:"todo-subject",value:$e.subject,onChange:S=>tt(M=>({...M,subject:S.target.value})),placeholder:"e.g. Algebra"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"todo-duration",children:"Planned duration (minutes)"}),s.jsx(Pe,{id:"todo-duration",type:"number",min:0,value:$e.durationMinutes,onChange:S=>tt(M=>({...M,durationMinutes:Number(S.target.value||0)}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Share with friends"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible on your friend detail page"})]}),s.jsx(ju,{checked:!!$e.shared,onCheckedChange:S=>tt(M=>({...M,shared:S})),className:"data-[state=unchecked]:bg-gray-200 data-[state=checked]:bg-teal-600"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"ghost",onClick:()=>w(!1),children:"Cancel"}),s.jsxs(Z,{onClick:bl,className:"gap-2",children:[s.jsx(ua,{className:"size-4"}),"Add task"]})]})]})]})]})]}),o.length===0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:s.jsxs("button",{className:"bg-white rounded-2xl p-4 shadow-sm border border-white/70 flex flex-col justify-between min-h-[160px] cursor-pointer hover:shadow-md transition",onClick:()=>w(!0),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"size-10 rounded-full bg-gray-100"}),s.jsx("span",{className:"text-sm text-gray-300",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"+"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Add task"})]}),s.jsx("span",{className:"self-end px-2 py-1 rounded-full text-[10px] font-semibold bg-rose-100 text-rose-700",children:"0%"})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:o.slice(0,5).map(S=>{const M=yo(S),re=wo(S),ue=re>=100?"bg-emerald-100 text-emerald-700":re>=50?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700",ke=b===S.id,Je=ke?E:S.actualDuration||0,wt=(S.plannedDuration||0)*60,ln=wt>0?Math.min(Je/wt*100,100):0,Jt=16,Ut=2*Math.PI*Jt,as=Ut-ln/100*Ut;return s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{ke?os(S):Sa(S.id)},onKeyDown:cn=>{(cn.key==="Enter"||cn.key===" ")&&(cn.preventDefault(),ke?os(S):Sa(S.id))},className:`bg-white rounded-2xl p-4 shadow-sm border border-white/70 flex flex-col justify-between min-h-[160px] cursor-pointer hover:shadow-md transition-all ${ke?"ring-2 ring-emerald-300":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"relative size-10",children:s.jsxs("svg",{className:"size-10 -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("circle",{cx:"18",cy:"18",r:Jt,fill:"none",className:"stroke-gray-200",strokeWidth:"3"}),s.jsx("circle",{cx:"18",cy:"18",r:Jt,fill:"none",className:`transition-all duration-300 ${ln>=100?"stroke-emerald-500":"stroke-teal-500"}`,strokeWidth:"3",strokeDasharray:Ut,strokeDashoffset:as,strokeLinecap:"round"})]})}),s.jsx("button",{className:"text-sm text-gray-400 hover:text-gray-600",onClick:cn=>{cn.stopPropagation(),Hn(S)},type:"button",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:S.name}),s.jsx("p",{className:"text-xs text-gray-400",children:M?Nl(M):"0:00"})]}),s.jsxs("span",{className:`self-end px-2 py-1 rounded-full text-[10px] font-semibold ${ue}`,children:[Math.round(re),"%"]})]},S.id)})})]})]}),s.jsx("div",{className:"rounded-[36px] bg-white/55 shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-4",children:s.jsxs("div",{className:"rounded-[28px] bg-white/85 shadow-[0_16px_40px_rgba(15,23,42,0.06)] p-4 min-h-[244px]",children:[s.jsx("div",{className:"flex gap-2 mb-2",children:s.jsx("div",{className:"grid text-xs text-gray-400 px-1 shrink-0",style:{gridTemplateColumns:`repeat(${rr}, ${Xe}px)`,columnGap:`${$}px`,width:`${ya}px`},children:wa.map((S,M)=>s.jsx("span",{className:"text-center",children:S},`${S}-${M}`))})}),s.jsxs("div",{className:"relative",ref:Ce,children:[pe&&s.jsxs("div",{className:"fixed z-50 -translate-x-1/2 -translate-y-full rounded-md bg-gray-900 text-white text-[11px] px-2 py-1 shadow-lg pointer-events-none whitespace-nowrap",style:{left:`${pe.x}px`,top:`${pe.y}px`},children:[s.jsx("div",{className:"font-medium",children:ja(fe(pe.date))}),s.jsx("div",{className:"text-gray-300",children:new Date(`${pe.date}T00:00:00`).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex flex-col text-xs text-gray-400 shrink-0",style:{gap:`${$}px`,paddingTop:`${$/2}px`},children:["M","","W","","F","",""].map((S,M)=>s.jsx("div",{className:"flex items-center",style:{height:`${Xe}px`},children:S},M))}),s.jsx("div",{className:"grid shrink-0",style:{gridAutoFlow:"column",gridAutoColumns:`${Xe}px`,gridTemplateRows:`repeat(7, ${Xe}px)`,columnGap:`${$}px`,rowGap:`${$}px`,width:`${ya}px`},children:ss.map((S,M)=>{const re=fe(S),ue=re/60;let ke="bg-gray-200";return ue>=61?ke="bg-[#22c55e]":ue>=31?ke="bg-[#86efac]":ue>=5&&(ke="bg-[#d1fae5]"),s.jsx("div",{className:ke,style:{width:`${Xe}px`,height:`${Xe}px`,borderRadius:"2px"},onMouseEnter:Je=>ba(Je,S),onMouseLeave:()=>De(null),title:`${ja(re)} on ${new Date(`${S}T00:00:00`).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`},S)})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-400",children:[s.jsx("span",{children:"Learn how we count contributions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Less"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"size-3 rounded-[3px] bg-gray-200"}),s.jsx("span",{className:"size-3 rounded-[3px] bg-[#d1fae5]"}),s.jsx("span",{className:"size-3 rounded-[3px] bg-[#86efac]"}),s.jsx("span",{className:"size-3 rounded-[3px] bg-[#22c55e]"})]}),s.jsx("span",{children:"More"})]})]})]})}),s.jsx(An,{open:G,onOpenChange:S=>{Y(S),S||ie(null)},children:s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsxs(In,{children:[L==="daily"?"Daily Goal":L==="weekly"?"Weekly Goal":"Monthly Goal"," Settings"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"goal-time",children:"Goal time (HH:MM)"}),s.jsx(Pe,{id:"goal-time",inputMode:"numeric",placeholder:"08:30",value:D,onChange:S=>A(S.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"ghost",onClick:()=>{Y(!1),ie(null)},children:"Cancel"}),s.jsx(Z,{onClick:qe,children:"Save"})]})]})]})}),s.jsx(An,{open:y,onOpenChange:S=>{x(S),S||h(null)},children:s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Edit task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"edit-todo-name",children:"Task name"}),s.jsx(Pe,{id:"edit-todo-name",value:N.name,onChange:S=>R(M=>({...M,name:S.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"edit-todo-subject",children:"Subject"}),s.jsx(Pe,{id:"edit-todo-subject",value:N.subject,onChange:S=>R(M=>({...M,subject:S.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"edit-todo-duration",children:"Planned duration (minutes)"}),s.jsx(Pe,{id:"edit-todo-duration",type:"number",min:0,value:N.durationMinutes,onChange:S=>R(M=>({...M,durationMinutes:Number(S.target.value||0)}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Share with friends"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible on your friend detail page"})]}),s.jsx(ju,{checked:!!N.shared,onCheckedChange:S=>R(M=>({...M,shared:S})),className:"data-[state=unchecked]:bg-gray-200 data-[state=checked]:bg-teal-600"})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs(Z,{variant:"destructive",className:"gap-2",onClick:()=>{j&&(Na(j),x(!1),h(null))},children:[s.jsx(ul,{className:"size-4"}),"Delete"]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"ghost",onClick:()=>{x(!1),h(null)},children:"Cancel"}),s.jsxs(Z,{onClick:Sn,className:"gap-2",children:[s.jsx(Md,{className:"size-4"}),"Save changes"]})]})]})]})]})}),s.jsx(An,{open:je,onOpenChange:S=>{Ue(S),S||Ze("")},children:s.jsxs(Mn,{onClick:S=>S.stopPropagation(),children:[s.jsx(zn,{children:s.jsx(In,{children:"Send Friend Request"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"friend-username",children:"Friend Username"}),s.jsx(Pe,{id:"friend-username",placeholder:"johndoe",value:We,onChange:S=>Ze(S.target.value)})]}),s.jsx(Z,{className:"w-full",disabled:Ge,onClick:X,children:Ge?"Sending...":"Send Request"})]})]})})]}),s.jsx("div",{className:"xl:col-span-4 h-full",children:s.jsxs("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-3 h-full flex flex-col overflow-hidden gap-3",children:[s.jsx("div",{className:`overflow-hidden transition-all duration-1000 ease-in-out ${W?"max-h-0 opacity-0 -translate-y-8 pointer-events-none":"max-h-[280px] opacity-100 translate-y-0"}`,children:s.jsxs("div",{className:"bg-white/90 rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Nearby Study Rooms"}),le.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No study rooms nearby yet."}):s.jsx("div",{className:"space-y-3",children:le.slice(0,3).map(S=>s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 bg-gray-100/70 rounded-full hover:bg-gray-100 transition-colors text-left",children:[s.jsx("div",{className:"size-9 bg-white rounded-full flex items-center justify-center text-base shadow-sm ring-4 ring-white/80",children:S.icon||""}),s.jsx("span",{className:"text-xs font-medium text-gray-900",children:S.topic})]},S.id))})]})}),s.jsxs("div",{className:`bg-white/90 rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-5 cursor-pointer self-center overflow-hidden transition-all duration-500 ease-in-out ${W?"h-[calc(100%-0.75rem)] w-[97%]":"h-[320px] w-full"}`,onClick:me,children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Friends"}),He>0?s.jsx("button",{type:"button",className:"inline-flex min-w-[20px] h-5 px-1.5 items-center justify-center rounded-full bg-rose-500 text-white text-[11px] font-semibold hover:bg-rose-600",onClick:S=>{S.stopPropagation(),Bt(!0),be(!0),V(!0)},title:"View friend requests",children:He>99?"99+":He}):null]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-medium",children:[s.jsx("span",{children:bt?"Requests":W?"Collapse":"Expand"}),s.jsx(Dd,{className:`size-4 transition-transform duration-300 ${W?"rotate-180":""}`})]})]}),W&&!bt?s.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-full border border-gray-300 bg-white px-3 py-2",onClick:S=>S.stopPropagation(),children:[s.jsx(Yj,{className:"size-4 text-gray-500"}),s.jsx(Pe,{value:ye,onChange:S=>Ne(S.target.value),placeholder:"Search friend...",className:"h-6 border-0 bg-transparent p-0 text-xs shadow-none focus-visible:ring-0"})]}):null,bt?s.jsxs("div",{className:"space-y-3",onClick:S=>S.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Friend Requests"}),s.jsx("button",{type:"button",className:"text-xs text-gray-500 hover:text-gray-700",onClick:S=>{S.stopPropagation(),Bt(!1)},children:"Back to Friends"})]}),pt.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No pending requests."}):s.jsx("div",{className:"space-y-3",children:pt.map(S=>{const M=S.requester,re=mt===S.requesterId;return s.jsx("div",{className:"rounded-xl border border-gray-100 bg-white/80 p-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Hi,{className:"size-10",children:[M.profileImageUrl?s.jsx(Vi,{src:M.profileImageUrl,alt:M.username||"User"}):null,s.jsx(Gi,{className:"bg-gray-100 text-gray-600 text-xs font-semibold",children:Te(M.username||M.email||"U")})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:M.username||"Unknown"}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:M.email||""})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx(Z,{size:"icon",className:"size-8 rounded-full",disabled:re,onClick:ue=>{ue.stopPropagation(),Ct(S.requesterId,"accept")},children:s.jsx(cl,{className:"size-4"})}),s.jsx(Z,{size:"icon",variant:"outline",className:"size-8 rounded-full",disabled:re,onClick:ue=>{ue.stopPropagation(),Ct(S.requesterId,"reject")},children:s.jsx(dl,{className:"size-4"})})]})]})},S.requesterId)})})]}):K.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No friends yet."}):s.jsxs("div",{className:`space-y-4 transition-[max-height] duration-300 ease-out ${W?"max-h-[900px]":"max-h-[260px]"}`,children:[Nt.map(S=>{const M=sr.has(S.id),re=Mt(S);return s.jsxs("div",{className:"flex items-center justify-between cursor-pointer rounded-xl px-1 py-1 hover:bg-gray-50",onClick:ue=>{ue.stopPropagation(),!M&&n(S)},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Hi,{className:"size-9",children:[S.profileImageUrl?s.jsx(Vi,{src:S.profileImageUrl,alt:S.username||"Friend"}):null,s.jsx(Gi,{className:"bg-gray-100 text-gray-600 text-xs font-semibold",children:Te(S.username||S.email||"F")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.username||"Unknown"}),M?s.jsx("p",{className:"text-xs text-amber-500",children:"Pending"}):s.jsx("p",{className:`text-xs ${re.isOnline?"text-emerald-500":"text-gray-400"}`,children:re.isOnline?"Online":"Offline"})]})]}),M?s.jsx("span",{className:"px-3 py-1 rounded-full text-[10px] font-semibold bg-amber-100 text-amber-700",children:"PENDING"}):s.jsx("button",{className:"px-3 py-1 rounded-full text-[10px] font-semibold bg-rose-100 text-rose-600",onClick:ue=>{ue.stopPropagation(),t(S)},children:"CHAT"})]},S.id)}),Nt.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No friends found."}):null]}),W&&!bt?s.jsx("div",{className:"mt-4 border-t border-gray-100 pt-4",onClick:S=>S.stopPropagation(),children:s.jsxs(Z,{variant:"outline",className:"w-full rounded-xl border-gray-300",onClick:S=>{S.stopPropagation(),Ue(!0)},children:[s.jsx(Yg,{className:"size-4 mr-2"}),"Add Friend"]})}):null]}),s.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${W?"max-h-0 opacity-0 translate-y-8 pointer-events-none":"max-h-[220px] opacity-100 translate-y-0"}`,children:s.jsxs("div",{className:"bg-white/90 rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-4",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Study Streak"}),s.jsx("div",{className:"flex items-center justify-between",children:Ee.map((S,M)=>s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:S.day}),s.jsx("div",{className:`size-6 rounded-full flex items-center justify-center ${S.completed?"bg-emerald-200 text-emerald-700":"bg-gray-100"}`,children:S.completed&&s.jsx(Ad,{className:"size-3"})})]},M))})]})})]})})]})})}const wC=Dg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ro({className:e,variant:t,asChild:n=!1,...r}){const o=n?Kr:"span";return s.jsx(o,{"data-slot":"badge",className:Re(wC({variant:t}),e),...r})}const _s={location:"",date:"",time:"",topic:"",maxParticipants:10,studyType:"In-person",duration:"2 hours"};function jC({accessToken:e,userId:t,currentUserUsername:n,roomUserIsIn:r,onJoinRoom:o,onJoinMeeting:a}){const i="studyhub_recent_group",[c,d]=u.useState([]),[m,f]=u.useState(!1),[g,w]=u.useState("choice"),[y,x]=u.useState(null),[j,h]=u.useState(_s),[p,v]=u.useState(_s),[b,C]=u.useState(!1),E=5,[k,_]=u.useState(1),[Q,F]=u.useState(null);u.useEffect(()=>{try{const P=sessionStorage.getItem(i);if(!P)return;const W=JSON.parse(P);if(!(W!=null&&W.id)||!(W!=null&&W.ts)||Date.now()-W.ts>3e5)return;F(W.id),_(1)}catch{}},[]);const ee=P=>{F(P),_(1);try{sessionStorage.setItem(i,JSON.stringify({id:P,ts:Date.now()}))}catch{}},U=P=>{const W=String(P||"").toLowerCase();return W.includes("30")?30:W.includes("90")?90:W.includes("1 hour")?60:W.includes("2 hours")?120:W.includes("3 hours")?180:W.includes("4")?240:60};u.useEffect(()=>{O();const P=setInterval(()=>{O()},5e3);return()=>clearInterval(P)},[]);const O=async()=>{try{const W=await(await fetch(`${te}/study-groups`)).json(),V=[{id:"sample-1",hostId:"other-user-1",hostUsername:"Olivia",location:"Main Library, 3rd Floor",date:"2026-02-15",time:"14:00",topic:"Calculus Final Exam Prep",maxParticipants:8,participants:["other-user-1","user-2","user-3"],applicants:["user-4"],studyType:"In-person",duration:"3 hours"},{id:"sample-2",hostId:"other-user-2",hostUsername:"Alex",location:"Online (Zoom)",date:"2026-02-12",time:"18:30",topic:"Computer Science Data Structures",maxParticipants:10,participants:["other-user-2","user-5"],applicants:[],studyType:"Online",duration:"2 hours"}],ce=W.groups||[],be=[...V,...ce];d(be)}catch(P){console.error("Failed to fetch study groups:",P)}},G=async()=>{var P,W;C(!0);try{const V=await fetch(`${te}/api/meetings/create-zoom`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({topic:p.topic.trim()||"Study Meeting",durationMinutes:U(p.duration)})}),ce=await V.json();if(!V.ok)throw new Error(ce.error||"Failed to create Zoom meeting");const be=((P=ce.meeting)==null?void 0:P.meetingId)??ce.meetingId,ye=((W=ce.meeting)==null?void 0:W.topic)??(p.topic.trim()||"Zoom Study Room"),Ne=await fetch(`${te}/study-groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...p,topic:ye,studyType:"Online",meetingId:be,location:"Online (Zoom)"})}),je=await Ne.json();if(!Ne.ok)throw new Error(je.error||"Failed to create room");je.group&&(d([...c,{...je.group,hostUsername:n??je.group.hostUsername}]),w("choice"),f(!1),v(_s),I.success("Zoom room created. Opening Zoom"),ee(je.group.id),o(je.group.id),a==null||a(be))}catch(V){I.error(V instanceof Error?V.message:"Failed to create Zoom room")}finally{C(!1)}},Y=async()=>{try{const W=await(await fetch(`${te}/study-groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(p)})).json();W.group&&(d([...c,{...W.group,hostUsername:n??W.group.hostUsername}]),v(_s),w("choice"),f(!1),I.success(" Study group created!"),ee(W.group.id))}catch(P){console.error("Failed to create group:",P),I.error("Failed to create study group")}},L=P=>{x(P),h({location:P.location??"",date:P.date??"",time:P.time??"",topic:P.topic??"",maxParticipants:P.maxParticipants??10,studyType:P.studyType??"In-person",duration:P.duration??"2 hours"})},ie=async()=>{if(y)try{const W=await(await fetch(`${te}/study-groups/${y.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({location:j.location,date:j.date,time:j.time,topic:j.topic,maxParticipants:j.maxParticipants,studyType:j.studyType,duration:j.duration})})).json();W.group?(d(c.map(V=>V.id===y.id?{...W.group,hostUsername:W.group.hostUsername??V.hostUsername??n}:V)),x(null),I.success("Room updated!")):I.error(W.error||"Failed to update")}catch(P){console.error("Failed to update group:",P),I.error("Failed to update room")}},D=async P=>{try{const V=await(await fetch(`${te}/study-groups/${P}/apply`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).json();V.success?(O(),I.success(" Application submitted!")):I.error(V.error||"Failed to apply")}catch(W){console.error("Failed to apply:",W),I.error("Failed to apply to group")}},A=async(P,W,V)=>{try{(await(await fetch(`${te}/study-groups/${P}/manage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({applicantId:W,action:V})})).json()).success&&(O(),I.success(V==="accept"?" Applicant accepted":" Applicant rejected"))}catch(ce){console.error("Failed to manage applicant:",ce)}},K=async P=>{if(confirm("Delete this study room? This cannot be undone."))try{const V=await(await fetch(`${te}/study-groups/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).json();V.success?(d(c.filter(ce=>ce.id!==P)),F(ce=>ce===P?null:ce),I.success("Room deleted")):I.error(V.error||"Failed to delete")}catch(W){console.error("Failed to delete group:",W),I.error("Failed to delete room")}},B=[...c].sort((P,W)=>{if(Q){if(P.id===Q&&W.id!==Q)return-1;if(W.id===Q&&P.id!==Q)return 1}const V=new Date(`${P.date} ${P.time}`),ce=new Date(`${W.date} ${W.time}`);return V.getTime()-ce.getTime()}),le=Math.max(1,Math.ceil(B.length/E));u.useEffect(()=>{_(P=>Math.min(Math.max(1,P),le))},[le]);const xe=B.slice((k-1)*E,k*E),Ee=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric"});return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:[s.jsx("div",{className:"space-y-3",children:B.length===0?s.jsxs(et,{className:"p-12 text-center bg-gradient-to-br from-gray-50 to-blue-50 border-dashed border-2",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No study groups yet. Create the first one!"})]}):xe.map((P,W)=>{var Ne,je,Ue,We,Ze,Ge,ze;const V=P.hostId===t,ce=(P.participants??[]).includes(t),be=(P.applicants??[]).includes(t),ye=(((Ne=P.participants)==null?void 0:Ne.length)??0)>=(P.maxParticipants??10);return s.jsx(et,{className:"overflow-hidden rounded-2xl border border-white/70 bg-white/80 backdrop-blur shadow-[0_16px_40px_rgba(15,23,42,0.10)] transition-all hover:-translate-y-0.5 hover:shadow-[0_24px_70px_rgba(15,23,42,0.14)]",children:s.jsxs(rt,{className:"p-4",children:[s.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-stretch sm:justify-between sm:gap-6",children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 truncate",children:P.topic}),s.jsxs("p",{className:"text-xs text-gray-600 mt-0.5",children:["Host: ",P.hostUsername??((je=P.hostId)==null?void 0:je.slice(0,8))??""]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[V&&s.jsx(Ro,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0",children:"Your Room"}),r===P.id&&!V&&s.jsx(Ro,{className:"bg-black text-white border-0",children:"You're in this room"}),s.jsx(Ro,{variant:"secondary",className:"bg-gray-100/80 text-gray-700 font-medium",children:P.studyType||"In-person"}),s.jsx(Ro,{variant:"secondary",className:"bg-gray-100/80 text-gray-700 font-medium",children:P.duration||"2 hours"}),s.jsxs(Ro,{variant:"secondary",className:"bg-gray-100/80 text-gray-700 font-medium",children:[((Ue=P.participants)==null?void 0:Ue.length)??0,"/",P.maxParticipants??10," seats"]})]})]})}),s.jsxs("div",{className:"mt-3 flex flex-col gap-2 text-sm text-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(kp,{className:"size-4 flex-shrink-0 text-gray-400"}),s.jsx("span",{className:"font-medium truncate",children:P.location})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gg,{className:"size-4 flex-shrink-0 text-gray-400"}),s.jsxs("span",{className:"font-medium",children:[Ee(P.date??"")," ",P.time?` ${P.time}`:"","  ",(((We=P.applicants)==null?void 0:We.length)??0)+(((Ze=P.participants)==null?void 0:Ze.length)??0)," applicants"]})]})]})]}),s.jsxs("div",{className:"shrink-0 w-full sm:w-[240px] flex flex-col gap-2 sm:self-stretch sm:justify-center",children:[P.meetingId&&(V||ce)?s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(Z,{className:"w-full font-semibold",onClick:()=>o(P.id),children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Enter"]}),s.jsxs(Z,{variant:"outline",className:"w-full font-semibold border-gray-200 bg-white/70 hover:bg-gray-50",onClick:()=>P.meetingId&&(a==null?void 0:a(P.meetingId)),children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Zoom"]})]}):!P.meetingId&&(V||ce)?s.jsxs(Z,{className:"w-full font-semibold",onClick:()=>o(P.id),children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Enter room"]}):null,!V&&!ce&&s.jsx(Z,{className:"w-full font-semibold",disabled:be||ye,onClick:()=>D(P.id),children:be?" Pending":ye?" Full":"Apply Now"}),V&&s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(Z,{variant:"outline",size:"sm",className:"border-gray-200 bg-white/60 hover:bg-gray-50 text-gray-700",onClick:()=>L(P),children:[s.jsx(Md,{className:"size-4 mr-2"}),"Edit"]}),s.jsxs(Z,{variant:"outline",size:"sm",className:"border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>K(P.id),children:[s.jsx(ul,{className:"size-4 mr-2"}),"Delete"]})]})]})]}),V&&(((Ge=P.applicants)==null?void 0:Ge.length)??0)>0&&s.jsxs("details",{className:"mt-4 border-t border-gray-200/60 pt-3",children:[s.jsxs("summary",{className:"cursor-pointer select-none text-sm font-semibold text-gray-900",children:["Pending Requests (",((ze=P.applicants)==null?void 0:ze.length)??0,")"]}),s.jsx("div",{className:"mt-3 space-y-2",children:(P.applicants??[]).slice(0,5).map(pt=>{var Qe;const Fe=(Qe=P.applicantsWithNames)==null?void 0:Qe.find(qt=>qt.id===pt);return s.jsxs("div",{className:"flex items-center justify-between bg-white/60 rounded-lg p-2",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:(Fe==null?void 0:Fe.username)||`User ${pt.slice(0,8)}...`}),s.jsxs("div",{className:"flex gap-1 shrink-0",children:[s.jsx(Z,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-green-100",onClick:()=>A(P.id,pt,"accept"),children:s.jsx(Ad,{className:"size-4 text-green-600"})}),s.jsx(Z,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-red-100",onClick:()=>A(P.id,pt,"reject"),children:s.jsx(Vg,{className:"size-4 text-red-600"})})]})]},pt)})})]})]})},P.id)})}),B.length>0&&le>1&&s.jsxs("div",{className:"mt-6 flex items-center justify-between gap-3 border-t border-gray-200/60 pt-4",children:[s.jsx(Z,{variant:"outline",size:"sm",className:"border-gray-200 bg-white/70 hover:bg-gray-50",disabled:k<=1,onClick:()=>_(P=>Math.max(1,P-1)),children:"Prev"}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Page ",s.jsx("span",{className:"font-semibold text-gray-700",children:k})," /"," ",s.jsx("span",{className:"font-semibold text-gray-700",children:le})]}),s.jsx(Z,{variant:"outline",size:"sm",className:"border-gray-200 bg-white/70 hover:bg-gray-50",disabled:k>=le,onClick:()=>_(P=>Math.min(le,P+1)),children:"Next"})]})]}),s.jsx("div",{className:"absolute right-0 top-0 -translate-y-12 z-10",children:s.jsxs(An,{open:m,onOpenChange:P=>{f(P),P||w("choice")},children:[s.jsx(ef,{asChild:!0,children:s.jsxs(Z,{children:[s.jsx(ua,{className:"size-4 mr-2"}),"Create Room"]})}),s.jsxs(Mn,{className:"bg-gradient-to-br from-white to-purple-50",children:[s.jsx(zn,{children:s.jsxs(In,{className:"text-2xl",children:[g==="choice"&&"Create Study Room ",g==="in-person"&&"In-person meeting",g==="online"&&"Online meeting (Zoom)"]})}),s.jsxs("div",{className:"space-y-4",children:[g==="choice"&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Choose how you want to meet."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs(Z,{type:"button",variant:"outline",className:"h-auto py-6 flex flex-col gap-2 border-2 border-purple-200 hover:bg-purple-50 hover:border-purple-400",onClick:()=>{w("in-person"),v(_s)},children:[s.jsx(kp,{className:"size-8 text-purple-500"}),s.jsx("span",{className:"font-semibold",children:"In-person meeting"}),s.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Create a room with location & time"})]}),s.jsxs(Z,{type:"button",variant:"outline",className:"h-auto py-6 flex flex-col gap-2 border-2 border-blue-200 hover:bg-blue-50 hover:border-blue-400",onClick:()=>{w("online"),v({..._s,studyType:"Online",location:"Online (Zoom)"})},children:[s.jsx(Wj,{className:"size-8 text-blue-500"}),s.jsx("span",{className:"font-semibold",children:"Online meeting (Zoom)"}),s.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Create a Zoom room (appears in list)"})]})]}),s.jsx(Z,{variant:"ghost",className:"w-full",onClick:()=>f(!1),children:"Cancel"})]}),g==="in-person"&&s.jsxs(s.Fragment,{children:[s.jsx(Z,{variant:"ghost",size:"sm",className:"mb-2 -ml-2",onClick:()=>w("choice"),children:" Back"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Topic / Subject"}),s.jsx(Pe,{placeholder:"Calculus Study Session ",value:p.topic,onChange:P=>v({...p,topic:P.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Location"}),s.jsx(Pe,{placeholder:"Main Library, 3rd Floor ",value:p.location,onChange:P=>v({...p,location:P.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Date"}),s.jsx(Pe,{type:"date",value:p.date,onChange:P=>v({...p,date:P.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Time"}),s.jsx(Pe,{type:"time",value:p.time,onChange:P=>v({...p,time:P.target.value}),className:"border-purple-200"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Study Type"}),s.jsxs(Dr,{value:p.studyType,onValueChange:P=>v({...p,studyType:P}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(nt,{value:"In-person",children:"In-person"}),s.jsx(nt,{value:"Online",children:"Online"}),s.jsx(nt,{value:"Hybrid",children:"Hybrid"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Duration"}),s.jsxs(Dr,{value:p.duration,onValueChange:P=>v({...p,duration:P}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(nt,{value:"1 hour",children:"1 hour"}),s.jsx(nt,{value:"2 hours",children:"2 hours"}),s.jsx(nt,{value:"3 hours",children:"3 hours"}),s.jsx(nt,{value:"4+ hours",children:"4+ hours"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Max Participants"}),s.jsx(Pe,{type:"number",min:"2",max:"50",value:p.maxParticipants,onChange:P=>v({...p,maxParticipants:parseInt(P.target.value)||10}),className:"border-purple-200"})]}),s.jsx(Z,{onClick:Y,className:"w-full",children:"Create Study Group"})]}),g==="online"&&s.jsxs(s.Fragment,{children:[s.jsx(Z,{variant:"ghost",size:"sm",className:"mb-2 -ml-2",onClick:()=>w("choice"),children:" Back"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Create a normal room first (same as in-person), then open Zoom as a floating window inside the app."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Topic / Subject"}),s.jsx(Pe,{placeholder:"Calculus Study Session ",value:p.topic,onChange:P=>v({...p,topic:P.target.value}),className:"border-blue-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Date"}),s.jsx(Pe,{type:"date",value:p.date,onChange:P=>v({...p,date:P.target.value}),className:"border-blue-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Time"}),s.jsx(Pe,{type:"time",value:p.time,onChange:P=>v({...p,time:P.target.value}),className:"border-blue-200"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Duration"}),s.jsxs(Dr,{value:p.duration,onValueChange:P=>v({...p,duration:P}),children:[s.jsx(Mr,{className:"border-blue-200",children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(nt,{value:"1 hour",children:"1 hour"}),s.jsx(nt,{value:"2 hours",children:"2 hours"}),s.jsx(nt,{value:"3 hours",children:"3 hours"}),s.jsx(nt,{value:"4+ hours",children:"4+ hours"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Max Participants"}),s.jsx(Pe,{type:"number",min:"2",max:"50",value:p.maxParticipants,onChange:P=>v({...p,maxParticipants:parseInt(P.target.value)||10}),className:"border-blue-200"})]})]}),s.jsx(Z,{onClick:G,disabled:b,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:b?"Creating Zoom meeting":"Create Zoom room"})]})]})]})]})}),s.jsx(An,{open:!!y,onOpenChange:P=>!P&&x(null),children:s.jsxs(Mn,{className:"bg-gradient-to-br from-white to-purple-50",children:[s.jsx(zn,{children:s.jsx(In,{className:"text-2xl",children:"Edit Room"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Topic / Subject"}),s.jsx(Pe,{placeholder:"Calculus Study Session",value:j.topic,onChange:P=>h({...j,topic:P.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Location"}),s.jsx(Pe,{placeholder:"Main Library, 3rd Floor",value:j.location,onChange:P=>h({...j,location:P.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Date"}),s.jsx(Pe,{type:"date",value:j.date,onChange:P=>h({...j,date:P.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Time"}),s.jsx(Pe,{type:"time",value:j.time,onChange:P=>h({...j,time:P.target.value}),className:"border-purple-200"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Study Type"}),s.jsxs(Dr,{value:j.studyType,onValueChange:P=>h({...j,studyType:P}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(nt,{value:"In-person",children:"In-person"}),s.jsx(nt,{value:"Online",children:"Online"}),s.jsx(nt,{value:"Hybrid",children:"Hybrid"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Duration"}),s.jsxs(Dr,{value:j.duration,onValueChange:P=>h({...j,duration:P}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(nt,{value:"1 hour",children:"1 hour"}),s.jsx(nt,{value:"2 hours",children:"2 hours"}),s.jsx(nt,{value:"3 hours",children:"3 hours"}),s.jsx(nt,{value:"4+ hours",children:"4+ hours"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Max Participants"}),s.jsx(Pe,{type:"number",min:"2",max:"50",value:j.maxParticipants,onChange:P=>h({...j,maxParticipants:parseInt(P.target.value)||10}),className:"border-purple-200"})]}),s.jsx(Z,{onClick:ie,className:"w-full",children:"Save changes"})]})]})})]})}var lc="rovingFocusGroup.onEntryFocus",bC={bubbles:!1,cancelable:!0},wl="RovingFocusGroup",[bu,$v,NC]=Zg(wl),[SC,Lv]=tr(wl,[NC]),[CC,kC]=SC(wl),Bv=u.forwardRef((e,t)=>s.jsx(bu.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(bu.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(EC,{...e,ref:t})})}));Bv.displayName=wl;var EC=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...f}=e,g=u.useRef(null),w=ot(t,g),y=zd(a),[x=null,j]=ws({prop:i,defaultProp:l,onChange:c}),[h,p]=u.useState(!1),v=Ln(d),b=$v(n),C=u.useRef(!1),[E,k]=u.useState(0);return u.useEffect(()=>{const _=g.current;if(_)return _.addEventListener(lc,v),()=>_.removeEventListener(lc,v)},[v]),s.jsx(CC,{scope:n,orientation:r,dir:y,loop:o,currentTabStopId:x,onItemFocus:u.useCallback(_=>j(_),[j]),onItemShiftTab:u.useCallback(()=>p(!0),[]),onFocusableItemAdd:u.useCallback(()=>k(_=>_+1),[]),onFocusableItemRemove:u.useCallback(()=>k(_=>_-1),[]),children:s.jsx(Ie.div,{tabIndex:h||E===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...e.style},onMouseDown:Oe(e.onMouseDown,()=>{C.current=!0}),onFocus:Oe(e.onFocus,_=>{const Q=!C.current;if(_.target===_.currentTarget&&Q&&!h){const F=new CustomEvent(lc,bC);if(_.currentTarget.dispatchEvent(F),!F.defaultPrevented){const ee=b().filter(L=>L.focusable),U=ee.find(L=>L.active),O=ee.find(L=>L.id===x),Y=[U,O,...ee].filter(Boolean).map(L=>L.ref.current);Hv(Y,m)}}C.current=!1}),onBlur:Oe(e.onBlur,()=>p(!1))})})}),Uv="RovingFocusGroupItem",Wv=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...i}=e,l=qr(),c=a||l,d=kC(Uv,n),m=d.currentTabStopId===c,f=$v(n),{onFocusableItemAdd:g,onFocusableItemRemove:w}=d;return u.useEffect(()=>{if(r)return g(),()=>w()},[r,g,w]),s.jsx(bu.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:s.jsx(Ie.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:Oe(e.onMouseDown,y=>{r?d.onItemFocus(c):y.preventDefault()}),onFocus:Oe(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Oe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=_C(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let h=f().filter(p=>p.focusable).map(p=>p.ref.current);if(x==="last")h.reverse();else if(x==="prev"||x==="next"){x==="prev"&&h.reverse();const p=h.indexOf(y.currentTarget);h=d.loop?RC(h,p+1):h.slice(p+1)}setTimeout(()=>Hv(h))}})})})});Wv.displayName=Uv;var PC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function TC(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _C(e,t,n){const r=TC(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return PC[r]}function Hv(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function RC(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var DC=Bv,AC=Wv,rf="Tabs",[MC]=tr(rf,[Lv]),Vv=Lv(),[zC,sf]=MC(rf),Gv=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=zd(l),[f,g]=ws({prop:r,onChange:o,defaultProp:a});return s.jsx(zC,{scope:n,baseId:qr(),value:f,onValueChange:g,orientation:i,dir:m,activationMode:c,children:s.jsx(Ie.div,{dir:m,"data-orientation":i,...d,ref:t})})});Gv.displayName=rf;var qv="TabsList",IC=u.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=sf(qv,n),i=Vv(n);return s.jsx(DC,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Ie.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});IC.displayName=qv;var Qv="TabsTrigger",OC=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,i=sf(Qv,n),l=Vv(n),c=Zv(i.baseId,r),d=Xv(i.baseId,r),m=r===i.value;return s.jsx(AC,{asChild:!0,...l,focusable:!o,active:m,children:s.jsx(Ie.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:t,onMouseDown:Oe(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Oe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Oe(e.onFocus,()=>{const f=i.activationMode!=="manual";!m&&!o&&f&&i.onValueChange(r)})})})});OC.displayName=Qv;var Yv="TabsContent",Kv=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...i}=e,l=sf(Yv,n),c=Zv(l.baseId,r),d=Xv(l.baseId,r),m=r===l.value,f=u.useRef(m);return u.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(ho,{present:o||m,children:({present:g})=>s.jsx(Ie.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&a})})});Kv.displayName=Yv;function Zv(e,t){return`${e}-trigger-${t}`}function Xv(e,t){return`${e}-content-${t}`}var FC=Gv,$C=Kv;function LC({className:e,...t}){return s.jsx(FC,{"data-slot":"tabs",className:Re("flex flex-col gap-2",e),...t})}function Jp({className:e,...t}){return s.jsx($C,{"data-slot":"tabs-content",className:Re("flex-1 outline-none",e),...t})}function BC({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:Re("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function UC({initialSessionId:e,onSessionsChange:t}){const[n,r]=u.useState("student"),[o,a]=u.useState("teaching"),[i,l]=u.useState([]),[c,d]=u.useState([]),[m,f]=u.useState(""),[g,w]=u.useState(null),[y,x]=u.useState([]),[j,h]=u.useState([]),[p,v]=u.useState(!1),[b,C]=u.useState(!1),[E,k]=u.useState(!1),[_,Q]=u.useState(!1),[F,ee]=u.useState(!1),[U,O]=u.useState(null),[G,Y]=u.useState(0),[L,ie]=u.useState(null),[D,A]=u.useState({}),[K,B]=u.useState(!1),[le,xe]=u.useState(!1),[Ee,P]=u.useState(!1),[W,V]=u.useState(!1),[ce,be]=u.useState(10),[ye,Ne]=u.useState("medium"),je=n==="student"?i:c,Ue=n==="student"?l:d,We=u.useRef(null),Ze=u.useRef([]),Ge=u.useRef(null);u.useEffect(()=>{(async()=>{try{const q=localStorage.getItem("accessToken");if(!q)return;if(e!=null){await He(e);return}if(e===null){w(null),h([]),l([]),d([]),O(null),Y(0),A({}),xe(!1),P(!1);return}const se=await fetch(`${te}/ai/sessions/active/current`,{headers:{Authorization:`Bearer ${q}`}});if(se.ok){const pe=await se.json();if(pe.session){if(w(pe.session),h(pe.session.files||[]),pe.session.studentChatHistory){const De=pe.session.studentChatHistory.map(Ce=>({role:Ce.role==="assistant"?"ai":Ce.role,content:Ce.content}));l(De)}if(pe.session.teachChatHistory){const De=pe.session.teachChatHistory.map(Ce=>({role:Ce.role==="assistant"?"ai":Ce.role,content:Ce.content}));d(De)}}}await ze()}catch(q){console.error("Failed to initialize session:",q)}})()},[e]);const ze=async()=>{try{const $=localStorage.getItem("accessToken");if(!$)return;const q=await fetch(`${te}/ai/sessions`,{headers:{Authorization:`Bearer ${$}`}});if(q.ok){const se=await q.json();x(se.sessions||[]),t==null||t()}}catch($){console.error("Failed to load sessions:",$)}},pt=async()=>{try{const $=localStorage.getItem("accessToken");if(!$)return I.error("Please login first"),null;const q=await fetch(`${te}/ai/sessions`,{method:"POST",headers:{Authorization:`Bearer ${$}`}});if(q.ok){const se=await q.json();return w(se.session),h([]),l([]),d([]),O(null),Y(0),A({}),xe(!1),P(!1),I.success("New study session created!"),await ze(),t==null||t(),se.session}return null}catch($){return console.error("Failed to create session:",$),I.error("Failed to create new session"),null}},Fe=async()=>g||await pt(),Qe=async($=!0)=>{if(!g){I.error("No active session");return}B(!0),V(!1);try{const q=localStorage.getItem("accessToken");if(!q){I.error("Please login first");return}const se=await fetch(`${te}/ai/sessions/${g.id}/generate-quiz`,{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({count:ce,difficulty:ye})});if(!se.ok){const De=await se.json();throw new Error(De.error||"Failed to generate quiz")}const pe=await se.json();O(pe.quiz),Y(0),ie(null),A({}),xe(!1),$&&I.success("Quiz generated! Questions ready.")}catch(q){console.error("Quiz generation error:",q),I.error(q instanceof Error?q.message:"Failed to generate quiz")}finally{B(!1)}},qt=()=>{window.confirm("Are you sure you want to start a new quiz? Current progress will be lost.")&&V(!0)},He=async $=>{try{const q=localStorage.getItem("accessToken");if(!q)return;const se=await fetch(`${te}/ai/sessions/${$}`,{headers:{Authorization:`Bearer ${q}`}});if(se.ok){const pe=await se.json();if(await fetch(`${te}/ai/sessions/${$}/activate`,{method:"POST",headers:{Authorization:`Bearer ${q}`}}),w(pe.session),h(pe.session.files||[]),pe.session.studentChatHistory){const De=pe.session.studentChatHistory.map(Ce=>({role:Ce.role==="assistant"?"ai":Ce.role,content:Ce.content}));l(De)}else l([]);if(pe.session.teachChatHistory){const De=pe.session.teachChatHistory.map(Ce=>({role:Ce.role==="assistant"?"ai":Ce.role,content:Ce.content}));d(De)}else d([]);pe.session.quizData?(O(pe.session.quizData),pe.session.quizSettings&&(be(pe.session.quizSettings.count||10),Ne(pe.session.quizSettings.difficulty||"medium"))):O(null),Y(0),A({}),xe(!1),P(!1),I.success("Session loaded!")}}catch(q){console.error("Failed to load session:",q),I.error("Failed to load session")}},Et=async $=>{if(j.length>=3){I.error("Maximum 3 files per session");return}C(!0);try{const q=localStorage.getItem("accessToken");if(!q){I.error("Please login first");return}const se=await Fe();if(!se){I.error("Failed to create session");return}const pe=new FormData;pe.append("file",$);const De=await fetch(`${te}/ai/sessions/${se.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${q}`},body:pe});if(!De.ok){const $e=await De.json();throw new Error($e.error||"Upload failed")}const Ce=await De.json();h($e=>[...$e,Ce.file]),I.success(`Uploaded: ${Ce.file.fileName} (${j.length+1}/3)`),await ze()}catch(q){console.error("Upload error:",q),I.error(q instanceof Error?q.message:"Failed to upload file")}finally{C(!1)}},bt=async $=>{var se;const q=(se=$.target.files)==null?void 0:se[0];q&&(await Et(q),$.target.value="")},Bt=async $=>{if(g)try{const q=localStorage.getItem("accessToken");if(!q)return;(await fetch(`${te}/ai/sessions/${g.id}/files/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${q}`}})).ok&&(h(pe=>pe.filter(De=>De.id!==$)),I.success("File removed"),await ze())}catch(q){console.error("Delete error:",q),I.error("Failed to delete file")}},mt=async()=>{if(!m.trim()||p)return;const $={role:"user",content:m};Ue([...je,$]);const q=m;f(""),v(!0);try{const se=localStorage.getItem("accessToken");if(!se){I.error("Please login first"),v(!1);return}const pe=await Fe();if(!pe){I.error("Failed to create session"),v(!1);return}const De=await fetch(`${te}/ai/sessions/${pe.id}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({message:q,mode:n,phase:n==="teach"?o:void 0})});if(!De.ok){const tt=await De.json();throw new Error(tt.error||"Failed to get response")}const $e={role:"ai",content:(await De.json()).response};Ue(tt=>[...tt,$e]),await ze()}catch(se){console.error("Chat error:",se),I.error(se instanceof Error?se.message:"Failed to get AI response");const pe={role:"ai",content:"Sorry, I encountered an error. Please try again."};Ue(De=>[...De,pe])}finally{v(!1)}},Pt=async()=>{try{const $=await navigator.mediaDevices.getUserMedia({audio:!0}),q=new MediaRecorder($);We.current=q,Ze.current=[],q.ondataavailable=se=>{se.data.size>0&&Ze.current.push(se.data)},q.onstop=async()=>{const se=new Blob(Ze.current,{type:"audio/webm"});await Xe(se),$.getTracks().forEach(pe=>pe.stop())},q.start(),k(!0),I.success("Recording started")}catch($){console.error("Failed to start recording:",$),I.error("Failed to access microphone")}},vt=()=>{We.current&&E&&(We.current.stop(),k(!1),I.info("Recording stopped, processing..."))},yt=()=>{E?vt():Pt()},Xe=async $=>{Q(!0);try{const q=localStorage.getItem("accessToken");if(!q){I.error("Please login first");return}const se=await Fe();if(!se){I.error("Failed to create session");return}const pe=new FormData;pe.append("audio",$,"recording.webm"),pe.append("mode",n),n==="teach"&&pe.append("phase",o);const De=await fetch(`${te}/ai/sessions/${se.id}/voice-chat`,{method:"POST",headers:{Authorization:`Bearer ${q}`},body:pe});if(!De.ok){const N=await De.json();throw new Error(N.error||"Failed to process voice")}const Ce=await De.json(),$e={role:"user",content:Ce.userMessage};Ue(N=>[...N,$e]);const tt={role:"ai",content:Ce.aiResponse};if(Ue(N=>[...N,tt]),Ce.audioBase64){const N=atob(Ce.audioBase64),R=new Uint8Array(N.length);for(let X=0;X<N.length;X++)R[X]=N.charCodeAt(X);const J=new Blob([R],{type:"audio/mpeg"}),de=URL.createObjectURL(J),me=new Audio(de);me.play(),me.onended=()=>URL.revokeObjectURL(de)}I.success("Voice message processed!"),await ze()}catch(q){console.error("Voice message error:",q),I.error(q instanceof Error?q.message:"Failed to process voice message");const se={role:"ai",content:"Sorry, I encountered an error processing your voice message. Please try again."};Ue(pe=>[...pe,se])}finally{Q(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-stretch",children:[s.jsx("div",{className:"xl:col-span-8",children:s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:s.jsxs("div",{children:[s.jsxs(LC,{value:n,onValueChange:$=>r($),children:[s.jsx(Jp,{value:"student",className:"space-y-4"}),s.jsx(Jp,{value:"teach",className:"space-y-4"})]}),s.jsxs(et,{className:"h-[670px] flex flex-col rounded-3xl bg-white/90 shadow-[0_20px_60px_rgba(15,23,42,0.08)] border-0 overflow-hidden",children:[s.jsxs(dt,{className:"pt-3 pb-2",children:[s.jsxs("div",{className:"flex items-start pt-4 justify-between gap-4",children:[s.jsx(ft,{className:"min-w-[120px]",children:n==="teach"&&o==="quiz"?"Quiz":"Chat"}),s.jsx("div",{className:"flex-1 text-center",children:g&&s.jsx("p",{className:"text-xs text-gray-500",children:g.name})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Z,{variant:"outline",size:"sm",onClick:pt,disabled:p||b,children:[s.jsx(ua,{className:"size-4 mr-2"}),"New Study"]})})]}),n==="teach"&&o==="quiz"&&U&&!le&&s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx(Z,{variant:"outline",size:"sm",onClick:qt,disabled:K,children:" New Quiz"})})]}),s.jsx(rt,{className:"flex-1 min-h-0 flex flex-col pt-0",children:n==="teach"&&o==="quiz"?s.jsx("div",{className:"flex-1 flex flex-col",children:K?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Dn,{className:"size-12 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating quiz questions..."})]})}):Ee&&U?s.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[s.jsxs("div",{className:"mb-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Wrong Answers Review"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review the questions you got wrong"})]}),s.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto mb-4",children:[U.questions.map(($,q)=>{const se=D[q];return se!==$.correctAnswer?s.jsxs("div",{className:"border rounded-lg p-4 bg-red-50 border-red-200",children:[s.jsxs("h4",{className:"font-semibold mb-3",children:["Q",q+1,". ",$.question]}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-start gap-2 p-2 bg-red-100 rounded",children:[s.jsx("span",{className:"text-red-600 font-bold",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Your answer:"}),s.jsxs("p",{className:"font-medium text-red-700",children:[String.fromCharCode(65+se),". ",$.options[se]]})]})]}),s.jsxs("div",{className:"flex items-start gap-2 p-2 bg-green-100 rounded",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Correct answer:"}),s.jsxs("p",{className:"font-medium text-green-700",children:[String.fromCharCode(65+$.correctAnswer),". ",$.options[$.correctAnswer]]})]})]})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Explanation:"}),s.jsx("p",{className:"text-sm text-gray-700",children:$.explanation})]})]},q):null}),Object.values(D).filter(($,q)=>{var se;return $!==((se=U.questions[q])==null?void 0:se.correctAnswer)}).length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-lg font-semibold",children:"Perfect score! No wrong answers to review."})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>P(!1),children:"Back to Results"})})]}):le&&U?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md w-full",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Quiz Completed!"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-8 mb-6 border-2 border-blue-200",children:[s.jsxs("div",{className:"text-5xl font-bold text-blue-600 mb-4",children:[Object.values(D).filter(($,q)=>{var se;return $===((se=U.questions[q])==null?void 0:se.correctAnswer)}).length," / ",U.questions.length]}),s.jsxs("div",{className:"flex justify-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("span",{className:"text-green-700 font-semibold",children:[Object.values(D).filter(($,q)=>{var se;return $===((se=U.questions[q])==null?void 0:se.correctAnswer)}).length," Correct"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("span",{className:"text-red-700 font-semibold",children:[Object.values(D).filter(($,q)=>{var se;return $!==((se=U.questions[q])==null?void 0:se.correctAnswer)}).length," Wrong"]})]})]})]}),s.jsx("p",{className:"text-lg mb-6 text-gray-700",children:Object.values(D).filter(($,q)=>{var se;return $===((se=U.questions[q])==null?void 0:se.correctAnswer)}).length>=8?"Excellent work! ":Object.values(D).filter(($,q)=>{var se;return $===((se=U.questions[q])==null?void 0:se.correctAnswer)}).length>=6?"Good job! Keep practicing! ":"Keep studying! You'll do better next time! "}),s.jsxs("div",{className:"space-y-3",children:[Object.values(D).filter(($,q)=>{var se;return $!==((se=U.questions[q])==null?void 0:se.correctAnswer)}).length>0&&s.jsxs(Z,{variant:"outline",className:"w-full",onClick:()=>P(!0),children:[s.jsx(Rn,{className:"size-4 mr-2"}),"Review Wrong Answers"]}),s.jsxs(Z,{className:"w-full",size:"lg",onClick:()=>{P(!1),V(!0)},children:[s.jsx(ua,{className:"size-5 mr-2"}),"Start New Quiz"]}),s.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>{a("teaching"),P(!1)},children:"Back to Teaching"})]})]})}):U&&U.questions.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b",children:[s.jsxs("span",{className:"text-sm font-medium",children:[G+1," / ",U.questions.length]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded",children:[" ",Object.values(D).filter(($,q)=>{var se;return $!==((se=U.questions[q])==null?void 0:se.correctAnswer)}).length]}),s.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded",children:[" ",Object.values(D).filter(($,q)=>{var se;return $===((se=U.questions[q])==null?void 0:se.correctAnswer)}).length]})]})]}),(()=>{const $=U.questions[G],q=D[G]!==void 0,se=D[G],pe=se===$.correctAnswer;return s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-6",children:[G+1,". ",$.question]}),s.jsx("div",{className:"space-y-3 mb-6",children:$.options.map((De,Ce)=>{const $e=L===Ce||se===Ce,tt=Ce===$.correctAnswer,N=q;let R="w-full text-left px-4 py-3 rounded-lg border-2 transition-all ";return N&&tt?R+="border-green-500 bg-green-50":N&&$e&&!tt?R+="border-red-500 bg-red-50":$e?R+="border-blue-500 bg-blue-50":R+="border-gray-200 hover:border-gray-300 hover:bg-gray-50",s.jsx("button",{onClick:()=>{q||(ie(Ce),A({...D,[G]:Ce}))},disabled:q,className:R,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("span",{className:"font-semibold text-gray-600",children:[String.fromCharCode(65+Ce),"."]}),s.jsx("span",{className:"flex-1",children:De}),N&&tt&&s.jsx("span",{className:"text-green-600 font-semibold",children:""})]})},Ce)})}),q&&s.jsxs("div",{className:`p-4 rounded-lg mb-4 ${pe?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.jsx("p",{className:`font-semibold mb-2 ${pe?"text-green-700":"text-red-700"}`,children:pe?" That's right!":" Incorrect"}),s.jsx("p",{className:"text-sm text-gray-700",children:$.explanation})]}),s.jsxs("div",{className:"flex gap-2 mt-auto",children:[s.jsx(Z,{variant:"outline",onClick:()=>Y(Math.max(0,G-1)),disabled:G===0,children:"Back"}),s.jsx(Z,{className:"flex-1",onClick:()=>{G<U.questions.length-1?(Y(G+1),ie(null)):xe(!0)},disabled:!q,children:G<U.questions.length-1?"Next":"Finish"})]})]})})()]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Rn,{className:"size-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No quiz available"}),s.jsx(Z,{onClick:()=>V(!0),children:"Generate Quiz"})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 space-y-4 mb-4 overflow-y-auto max-h-96",children:[je.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-12",children:n==="teach"?"Start by explaining a concept you're studying...":"Ask me anything about your study material..."}):je.map(($,q)=>s.jsx("div",{className:`flex ${$.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 leading-relaxed ${$.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:$.content})})},q)),p&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 bg-gray-100 text-gray-900 leading-relaxed",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dn,{className:"size-4 animate-spin"}),s.jsx("p",{className:"text-sm",children:"AI is thinking..."})]})})})]}),s.jsxs("div",{className:"rounded-[20px] border border-gray-200 bg-white/80 p-4 shadow-sm",children:[s.jsx(BC,{placeholder:n==="teach"?"Explain the concept in your own words...":"What do you want to know?",value:m,onChange:$=>f($.target.value),onKeyDown:$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),mt())},className:"min-h-[72px] resize-none border-0 bg-transparent p-0 pt-1 leading-relaxed shadow-none focus-visible:ring-0",rows:3,disabled:E||_}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(Z,{onClick:yt,variant:E?"destructive":"outline",size:"sm",className:"gap-2",disabled:p||_,children:_?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-4 animate-spin"}),"Processing..."]}):E?s.jsxs(s.Fragment,{children:[s.jsx(Lj,{className:"size-4"}),"Stop"]}):s.jsxs(s.Fragment,{children:[s.jsx(qg,{className:"size-4"}),"Voice"]})}),s.jsx(Z,{onClick:mt,disabled:p||!m.trim()||E||_,className:"rounded-full h-11 w-11 p-0",children:p?s.jsx(Dn,{className:"size-4 animate-spin"}):""})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsxs(Z,{variant:n==="student"?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>r("student"),children:[s.jsx(Rn,{className:"size-4 mr-2"}),"Student Mode"]}),s.jsxs(Z,{variant:n==="teach"?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>r("teach"),children:[s.jsx(iu,{className:"size-4 mr-2"}),"Teach Mode"]}),s.jsxs(Z,{variant:"outline",size:"sm",className:"rounded-full",onClick:()=>{r("teach"),a("teaching"),V(!0)},disabled:K,children:[s.jsx(Rn,{className:"size-4 mr-2"}),"Create Quiz"]})]})]})})]})]})})}),s.jsx("div",{className:"xl:col-span-4",children:s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(et,{className:`rounded-3xl bg-white/90 shadow-[0_20px_60px_rgba(15,23,42,0.08)] border-2 ${F?"border-purple-300 bg-white":"border-transparent"}`,onClick:()=>{var $;return($=Ge.current)==null?void 0:$.click()},onDragOver:$=>{$.preventDefault(),ee(!0)},onDragLeave:()=>ee(!1),onDrop:$=>{var se;$.preventDefault(),ee(!1);const q=(se=$.dataTransfer.files)==null?void 0:se[0];q&&Et(q)},role:"button",tabIndex:0,onKeyDown:$=>{var q;($.key==="Enter"||$.key===" ")&&($.preventDefault(),(q=Ge.current)==null||q.click())},children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ft,{className:"text-lg",children:["Study Materials (",j.length,"/3)"]}),s.jsx("input",{id:"file-upload",type:"file",accept:".pdf,.txt,.md,.png,.jpg,.jpeg,.gif,.webp,.mp3,.wav,.m4a,.mp4,.webm,text/plain,application/pdf,image/*,audio/*",className:"hidden",onChange:bt,disabled:b||j.length>=3,ref:Ge})]})}),s.jsx(rt,{children:j.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(au,{className:"size-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Drag & drop files here or click to upload (max 3)."})]}):s.jsx("div",{className:"space-y-2",children:j.map($=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/80 rounded-2xl border border-white/70",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(au,{className:"size-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:$.fileName}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",$.fileType,")"]})]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>Bt($.id),className:"hover:bg-red-100 hover:text-red-600",children:s.jsx(dl,{className:"size-4"})})]},$.id))})})]})})})})]}),W&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(et,{className:"w-full max-w-md mx-4 rounded-3xl bg-white/95 shadow-[0_20px_60px_rgba(15,23,42,0.2)] border-0",children:[s.jsxs(dt,{children:[s.jsx(ft,{className:"text-2xl",children:"Generate Quiz"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your quiz settings"})]}),s.jsxs(rt,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Number of Questions"}),s.jsx("div",{className:"flex gap-3",children:[5,10,15].map($=>s.jsx(Z,{variant:ce===$?"default":"outline",onClick:()=>be($),className:"flex-1",children:$},$))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Difficulty Level"}),s.jsx("div",{className:"flex flex-col gap-2",children:[{value:"easy",label:"Easy",desc:"Basic concepts and definitions",emoji:""},{value:"medium",label:"Medium",desc:"Balanced understanding and application",emoji:""},{value:"hard",label:"Hard",desc:"Deep analysis and critical thinking",emoji:""}].map($=>s.jsx(Z,{variant:ye===$.value?"default":"outline",onClick:()=>Ne($.value),className:"w-full justify-start h-auto py-3",children:s.jsxs("div",{className:"flex items-start gap-3 text-left",children:[s.jsx("span",{className:"text-2xl",children:$.emoji}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:$.label}),s.jsx("div",{className:"text-xs opacity-80",children:$.desc})]})]})},$.value))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(Z,{variant:"outline",onClick:()=>V(!1),className:"flex-1",children:"Cancel"}),s.jsx(Z,{onClick:()=>{a("quiz"),A({}),Y(0),xe(!1),P(!1),Qe()},disabled:K,className:"flex-1",children:K?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-4 mr-2"}),"Generate Quiz"]})})]})]})]})})]})}function WC({accessToken:e,onViewFriend:t,onRequestsUpdated:n}){const[r,o]=u.useState([]),[a,i]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(!1),[f,g]=u.useState("");u.useEffect(()=>{w(),y()},[e]);const w=async()=>{try{const p=await(await fetch(`${te}/friends`,{headers:{Authorization:`Bearer ${e}`}})).json();o(p.friends||[])}catch(h){console.error("Failed to fetch friends:",h),I.error("Failed to load friends")}},y=async()=>{try{const[h,p]=await Promise.all([fetch(`${te}/friends/requests`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${te}/friends/requests/sent`,{headers:{Authorization:`Bearer ${e}`}})]),v=await h.json(),b=await p.json();i(Array.isArray(v.requests)?v.requests:[]),c(Array.isArray(b.requests)?b.requests:[]),n==null||n()}catch(h){console.error("Failed to fetch friend requests:",h),I.error("Failed to load friend requests")}},x=async()=>{try{const p=await(await fetch(`${te}/friends/add`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({friendUsername:f})})).json();p.success?(y(),g(""),m(!1),p.autoAccepted?(w(),I.success("Request matched and accepted.")):I.success("Friend request sent (pending).")):I.error(p.error||"Failed to send friend request")}catch(h){console.error("Failed to add friend:",h),I.error("Failed to send friend request")}},j=async(h,p)=>{try{const v=await fetch(`${te}/friends/requests/${h}/${p}`,{method:"POST",headers:{Authorization:`Bearer ${e}`}}),b=await v.json();if(!v.ok||!b.success){I.error(b.error||`Failed to ${p} request`);return}p==="accept"?(I.success("Friend request accepted"),w()):I.success("Friend request rejected"),y(),n==null||n()}catch(v){console.error(`Failed to ${p} request:`,v),I.error(`Failed to ${p} request`)}};return s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end items-center",children:s.jsxs(An,{open:d,onOpenChange:m,children:[s.jsx(ef,{asChild:!0,children:s.jsxs(Z,{children:[s.jsx(Yg,{className:"size-4 mr-2"}),"Send Request"]})}),s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Send Friend Request"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Friend's Username"}),s.jsx(Pe,{type:"text",placeholder:"johndoe",value:f,onChange:h=>g(h.target.value)})]}),s.jsx(Z,{onClick:x,className:"w-full",children:"Send Request"})]})]})]})}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{className:"text-base",children:"Incoming Requests"})}),s.jsx(rt,{children:a.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No incoming requests."}):s.jsx("div",{className:"space-y-3",children:a.map(h=>s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:h.requester.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h.requester.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{size:"sm",onClick:()=>j(h.requesterId,"accept"),children:[s.jsx(cl,{className:"size-4 mr-1"}),"Accept"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>j(h.requesterId,"reject"),children:[s.jsx(dl,{className:"size-4 mr-1"}),"Reject"]})]})]},h.requesterId))})})]}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{className:"text-base",children:"Pending Requests"})}),s.jsx(rt,{children:l.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending requests."}):s.jsx("div",{className:"space-y-3",children:l.map(h=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:h.recipient.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h.recipient.email})]}),s.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full bg-amber-100 px-2 py-1 text-[11px] font-medium text-amber-700",children:[s.jsx(kj,{className:"size-3"}),"Pending"]})]},h.recipientId))})})]}),r.length===0?s.jsx(et,{className:"p-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No friends yet. Send a request and wait for acceptance."})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(h=>s.jsxs(et,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(h),children:[s.jsxs(dt,{children:[s.jsx(ft,{className:"text-lg",children:h.username}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.email})]}),s.jsx(rt,{children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Major:"})," ",h.category]})})]},h.id))})]})})}function HC({accessToken:e,friend:t,onBack:n}){const[r,o]=u.useState([]),[a,i]=u.useState([]),[l,c]=u.useState(null);u.useEffect(()=>{(async()=>{try{const j=await(await fetch(`${te}/friends/${t.id}/activity`,{headers:{Authorization:`Bearer ${e}`}})).json();o(j.activity||[])}catch(x){console.error("Failed to fetch friend activity:",x)}})()},[e,t.id]),u.useEffect(()=>{(async()=>{try{c(null);const x=await fetch(`${te}/friends/${t.id}/todos`,{headers:{Authorization:`Bearer ${e}`}});if(!x.ok){if(x.status===403){c("This friend is not sharing todos."),i([]);return}throw new Error("Failed to load todos")}const j=await x.json();i(j.todos||[])}catch(x){console.error("Failed to fetch shared todos:",x),c("Failed to load shared todos.")}})()},[e,t.id]);const d=y=>{const x=Math.floor(y/3600),j=Math.floor(y%3600/60);return`${x}h ${j}m`},m=y=>y.reduce((x,j)=>x+j.total,0),f=y=>y.plannedDuration??y.duration??0,g=y=>y.actualDuration??0,w=y=>{const x=f(y);return x<=0?0:Math.min(g(y)/x*100,100)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Z,{variant:"ghost",onClick:n,children:[s.jsx(ou,{className:"size-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold",children:t.username||t.email||"Friend"})]}),s.jsxs(et,{children:[s.jsxs(dt,{children:[s.jsx(ft,{children:"Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.email||""})]}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Major:"})," ",t.category||""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gg,{className:"size-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly Study Time"}),s.jsx("p",{className:"text-2xl font-bold",children:d(m(r))})]})]})]})]}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsxs(ft,{className:"flex items-center gap-2",children:[s.jsx(eb,{className:"size-5"}),"Last 7 Days Activity"]})}),s.jsx(rt,{children:s.jsx("div",{className:"space-y-3",children:r.map(y=>{const j=new Date(y.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:j}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(y.total/14400*100,100)}%`}})}),s.jsx("span",{className:"text-sm font-medium w-16 text-right",children:d(y.total)})]})]},y.date)})})})]}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Shared Todos"})}),s.jsx(rt,{children:l?s.jsx("p",{className:"text-sm text-muted-foreground",children:l}):a.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No shared todos yet."}):s.jsx("div",{className:"space-y-3",children:a.map(y=>{const x=f(y),j=g(y),h=w(y);return s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:y.subject||"No subject"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded-full",children:s.jsx("div",{className:"h-2 rounded-full bg-teal-600",style:{width:`${h}%`}})}),s.jsxs("p",{className:"text-[11px] text-gray-500 mt-1",children:[d(j)," / ",d(x)]})]})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:d(x)})]},y.id)})})})]})]})}var em=!1,cs,Nu,Su,di,fi,Jv,pi,Cu,ku,Eu,ey,Pu,Tu,ty,ny;function en(){if(!em){em=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Pu=/\b(iPhone|iP[ao]d)/.exec(e),Tu=/\b(iP[ao]d)/.exec(e),Eu=/Android/i.exec(e),ty=/FBAN\/\w+;/i.exec(e),ny=/Mobile/i.exec(e),ey=!!/Win64/.exec(e),t){cs=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,cs&&document&&document.documentMode&&(cs=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);Jv=r?parseFloat(r[1])+4:cs,Nu=t[2]?parseFloat(t[2]):NaN,Su=t[3]?parseFloat(t[3]):NaN,di=t[4]?parseFloat(t[4]):NaN,di?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),fi=t&&t[1]?parseFloat(t[1]):NaN):fi=NaN}else cs=Nu=Su=fi=di=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);pi=o?parseFloat(o[1].replace("_",".")):!0}else pi=!1;Cu=!!n[2],ku=!!n[3]}else pi=Cu=ku=!1}}var _u={ie:function(){return en()||cs},ieCompatibilityMode:function(){return en()||Jv>cs},ie64:function(){return _u.ie()&&ey},firefox:function(){return en()||Nu},opera:function(){return en()||Su},webkit:function(){return en()||di},safari:function(){return _u.webkit()},chrome:function(){return en()||fi},windows:function(){return en()||Cu},osx:function(){return en()||pi},linux:function(){return en()||ku},iphone:function(){return en()||Pu},mobile:function(){return en()||Pu||Tu||Eu||ny},nativeApp:function(){return en()||ty},android:function(){return en()||Eu},ipad:function(){return en()||Tu}},VC=_u,GC=!!(typeof window<"u"&&window.document&&window.document.createElement),qC={canUseDOM:GC},QC=qC,ry=QC,sy;ry.canUseDOM&&(sy=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function YC(e,t){if(!ry.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&sy&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var KC=YC,ZC=VC,XC=KC,tm=10,nm=40,rm=800;function oy(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*tm,o=n*tm,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(e.deltaMode==1?(r*=nm,o*=nm):(r*=rm,o*=rm)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}oy.getEventType=function(){return ZC.firefox()?"DOMMouseScroll":XC("wheel")?"wheel":"mousewheel"};var JC=oy,ek=JC;const tk=Ru(ek);function nk(e,t,n,r,o,a){a===void 0&&(a=0);var i=lo(e,t,a),l=i.width,c=i.height,d=Math.min(l,n),m=Math.min(c,r);return d>m*o?{width:m*o,height:m}:{width:d,height:d/o}}function rk(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Do(e,t,n,r,o){o===void 0&&(o=0);var a=lo(t.width,t.height,o),i=a.width,l=a.height;return{x:sm(e.x,i,n.width,r),y:sm(e.y,l,n.height,r)}}function sm(e,t,n,r){var o=t*r/2-n/2;return jl(e,-o,o)}function om(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function am(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function sk(e,t,n,r,o,a,i){a===void 0&&(a=0),i===void 0&&(i=!0);var l=i?ok:ak,c=lo(t.width,t.height,a),d=lo(t.naturalWidth,t.naturalHeight,a),m={x:l(100,((c.width-n.width/o)/2-e.x/o)/c.width*100),y:l(100,((c.height-n.height/o)/2-e.y/o)/c.height*100),width:l(100,n.width/c.width*100/o),height:l(100,n.height/c.height*100/o)},f=Math.round(l(d.width,m.width*d.width/100)),g=Math.round(l(d.height,m.height*d.height/100)),w=d.width>=d.height*r,y=w?{width:Math.round(g*r),height:g}:{width:f,height:Math.round(f/r)},x=lt(lt({},y),{x:Math.round(l(d.width-y.width,m.x*d.width/100)),y:Math.round(l(d.height-y.height,m.y*d.height/100))});return{croppedAreaPercentages:m,croppedAreaPixels:x}}function ok(e,t){return Math.min(e,Math.max(0,t))}function ak(e,t){return t}function ik(e,t,n,r,o,a){var i=lo(t.width,t.height,n),l=jl(r.width/i.width*(100/e.width),o,a),c={x:l*i.width/2-r.width/2-i.width*l*(e.x/100),y:l*i.height/2-r.height/2-i.height*l*(e.y/100)};return{crop:c,zoom:l}}function lk(e,t,n){var r=rk(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function ck(e,t,n,r,o,a){n===void 0&&(n=0);var i=lo(t.naturalWidth,t.naturalHeight,n),l=jl(lk(e,t,r),o,a),c=r.height>r.width?r.height/e.height:r.width/e.width,d={x:((i.width-e.width)/2-e.x)*c,y:((i.height-e.height)/2-e.y)*c};return{crop:d,zoom:l}}function im(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function uk(e){return e*Math.PI/180}function lo(e,t,n){var r=uk(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function jl(e,t,n){return Math.min(Math.max(e,t),n)}function Ya(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var dk=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,fk=1,pk=3,mk=1,hk=function(e){rS(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.imageRef=u.createRef(),n.videoRef=u.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var o=ik(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=o.crop,i=o.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(i)}else if(n.props.initialCroppedAreaPixels){var l=ck(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=l.crop,i=l.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(i)}},n.computeSizes=function(){var r,o,a,i,l,c,d=n.imageRef.current||n.videoRef.current;if(d&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var m=n.containerRect.width/n.containerRect.height,f=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,g=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,w=d.offsetWidth<f||d.offsetHeight<g,y=f/g,x=void 0;if(w)switch(n.state.mediaObjectFit){default:case"contain":x=m>y?{width:n.containerRect.height*y,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/y};break;case"horizontal-cover":x={width:n.containerRect.width,height:n.containerRect.width/y};break;case"vertical-cover":x={width:n.containerRect.height*y,height:n.containerRect.height};break}else x={width:d.offsetWidth,height:d.offsetHeight};n.mediaSize=lt(lt({},x),{naturalWidth:f,naturalHeight:g}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var j=n.props.cropSize?n.props.cropSize:nk(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((l=n.state.cropSize)===null||l===void 0?void 0:l.height)!==j.height||((c=n.state.cropSize)===null||c===void 0?void 0:c.width)!==j.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(j),n.setState({cropSize:j},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(j),j}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var o=t.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,o,{shouldUpdatePosition:!0}),n.props.onRotationChange){var i=n.gestureRotationStart+r.rotation;n.props.onRotationChange(i)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var o,a,i=r.x,l=r.y;n.dragStartPosition={x:i,y:l},n.dragStartCrop=lt({},n.props.crop),(a=(o=n.props).onInteractionStart)===null||a===void 0||a.call(o)},n.onDrag=function(r){var o=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(o===void 0||a===void 0)){var i=o-n.dragStartPosition.x,l=a-n.dragStartPosition.y,c={x:n.dragStartCrop.x+i,y:n.dragStartCrop.y+l},d=n.props.restrictPosition?Do(c,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):c;n.props.onCropChange(d)}}))},n.onDragStopped=function(){var r,o;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(o=(r=n.props).onInteractionEnd)===null||o===void 0||o.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var o=t.getMousePoint(r),a=tk(r).pixelY,i=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(i,o,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var l,c;return(c=(l=n.props).onInteractionStart)===null||c===void 0?void 0:c.call(l)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var l,c;return(c=(l=n.props).onInteractionEnd)===null||c===void 0?void 0:c.call(l)})},250)}},n.getPointOnContainer=function(r,o){var a=r.x,i=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-o.x),y:n.containerRect.height/2-(i-o.y)}},n.getPointOnMedia=function(r){var o=r.x,a=r.y,i=n.props,l=i.crop,c=i.zoom;return{x:(o+l.x)/c,y:(a+l.y)/c}},n.setNewZoom=function(r,o,a){var i=a===void 0?{}:a,l=i.shouldUpdatePosition,c=l===void 0?!0:l;if(!(!n.state.cropSize||!n.props.onZoomChange)){var d=jl(r,n.props.minZoom,n.props.maxZoom);if(c){var m=n.getPointOnContainer(o,n.containerPosition),f=n.getPointOnMedia(m),g={x:f.x*d-m.x,y:f.y*d-m.y},w=n.props.restrictPosition?Do(g,n.mediaSize,n.state.cropSize,d,n.props.rotation):g;n.props.onCropChange(w)}n.props.onZoomChange(d)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Do(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return sk(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(o,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(o,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(o,a)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Do(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var o=n.props,a=o.crop,i=o.onCropChange,l=o.keyboardStep,c=o.zoom,d=o.rotation,m=l;if(n.state.cropSize){r.shiftKey&&(m*=.2);var f=lt({},a);switch(r.key){case"ArrowUp":f.y-=m,r.preventDefault();break;case"ArrowDown":f.y+=m,r.preventDefault();break;case"ArrowLeft":f.x-=m,r.preventDefault();break;case"ArrowRight":f.x+=m,r.preventDefault();break;default:return}n.props.restrictPosition&&(f=Do(f,n.mediaSize,n.state.cropSize,c,d)),i(f)}},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=dk,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,o,a,i,l,c,d,m,f;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((l=n.crop)===null||l===void 0?void 0:l.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((d=n.crop)===null||d===void 0?void 0:d.y)!==((m=this.props.crop)===null||m===void 0?void 0:m.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var g=this.getObjectFit();g!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:g},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,o=n.aspect;return r?r.width/r.height:o},t.prototype.getObjectFit=function(){var n,r,o,a;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var l=this.containerRect.width/this.containerRect.height,c=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,d=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,m=c/d;return m<l?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),o=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=om(r,o),this.lastPinchRotation=am(r,o),this.onDragStart(im(r,o))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(n.touches[0]),a=t.getTouchPoint(n.touches[1]),i=im(o,a);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var l=om(o,a),c=r.props.zoom*(l/r.lastPinchDistance);r.setNewZoom(c,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=l;var d=am(o,a),m=r.props.rotation+(d-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(m),r.lastPinchRotation=d})}},t.prototype.render=function(){var n=this,r,o=this.props,a=o.image,i=o.video,l=o.mediaProps,c=o.transform,d=o.crop,m=d.x,f=d.y,g=o.rotation,w=o.zoom,y=o.cropShape,x=o.showGrid,j=o.style,h=j.containerStyle,p=j.cropAreaStyle,v=j.mediaStyle,b=o.classes,C=b.containerClassName,E=b.cropAreaClassName,k=b.mediaClassName,_=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return u.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(F){return n.containerRef=F},"data-testid":"container",style:h,className:Ya("reactEasyCrop_Container",C)},a?u.createElement("img",lt({alt:"",className:Ya("reactEasyCrop_Image",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",k)},l,{src:a,ref:this.imageRef,style:lt(lt({},v),{transform:c||"translate(".concat(m,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):i&&u.createElement("video",lt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ya("reactEasyCrop_Video",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",k)},l,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:lt(lt({},v),{transform:c||"translate(".concat(m,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(Q){return u.createElement("source",lt({key:Q.src},Q))})),this.state.cropSize&&u.createElement("div",{style:lt(lt({},p),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:Ya("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",x&&"reactEasyCrop_CropAreaGrid",E)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:pk,minZoom:fk,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:mk},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(u.Component);function gk({accessToken:e,onProfileUpdate:t}){const[n,r]=u.useState({classes:[],allowTodoView:!1}),[o,a]=u.useState(""),[i,l]=u.useState(!1),[c,d]=u.useState(null),[m,f]=u.useState({x:0,y:0}),[g,w]=u.useState(1),[y,x]=u.useState(null),[j,h]=u.useState(null);u.useEffect(()=>{p(),v()},[]);const p=async()=>{try{const G=await(await fetch(`${te}/settings`,{headers:{Authorization:`Bearer ${e}`}})).json();r(G.settings||{})}catch(O){console.error("Failed to fetch settings:",O),I.error("Failed to load settings")}},v=async()=>{try{const G=await(await fetch(`${te}/study/stats`,{headers:{Authorization:`Bearer ${e}`}})).json();h(G)}catch(O){console.error("Failed to fetch study stats:",O)}},b=async O=>{try{(await(await fetch(`${te}/study/medals/equip`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({medal:O})})).json()).success&&(h(L=>L?{...L,equippedMedal:O}:null),I.success(O?`${O.toUpperCase()} medal equipped!`:"Medal unequipped"))}catch(G){console.error("Failed to equip medal:",G),I.error("Failed to equip medal")}},C=async()=>{try{const O={...n,profileImageUrl:(n.profileImageUrl||"").trim()},Y=await(await fetch(`${te}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(O)})).json();Y.settings&&(r(Y.settings),I.success("Settings saved successfully"),t==null||t(Y.settings))}catch(O){console.error("Failed to save settings:",O),I.error("Failed to save settings")}},E=()=>{var O;o.trim()&&!((O=n.classes)!=null&&O.includes(o.trim()))&&(r({...n,classes:[...n.classes||[],o.trim()]}),a(""))},k=O=>{var G;r({...n,classes:((G=n.classes)==null?void 0:G.filter(Y=>Y!==O))||[]})},_=u.useCallback((O,G)=>{x(G)},[]),Q=O=>new Promise((G,Y)=>{const L=new Image;L.addEventListener("load",()=>G(L)),L.addEventListener("error",ie=>Y(ie)),L.src=O}),F=u.useCallback(async(O,G)=>{const Y=await Q(O),L=document.createElement("canvas"),ie=256;L.width=ie,L.height=ie;const D=L.getContext("2d");return D?(D.drawImage(Y,G.x,G.y,G.width,G.height,0,0,ie,ie),L.toDataURL("image/jpeg",.9)):""},[]),ee=u.useCallback(async()=>{if(!(!c||!y))try{const O=await F(c,y);O&&r(G=>({...G,profileImageUrl:O})),l(!1)}catch(O){console.error("Crop failed:",O),I.error("Failed to crop image")}},[y,F,c]),U=()=>{l(!1)};return s.jsxs("div",{className:"space-y-6 max-w-2xl",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Profile Information"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Profile Photo URL"}),s.jsx(Pe,{value:n.profileImageUrl||"",onChange:O=>r({...n,profileImageUrl:O.target.value}),placeholder:"https://example.com/avatar.png"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste an image URL to use as your avatar."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Upload Photo"}),s.jsx(Pe,{type:"file",accept:"image/*",onChange:O=>{var L;const G=(L=O.target.files)==null?void 0:L[0];if(!G)return;const Y=new FileReader;Y.onload=()=>{const ie=typeof Y.result=="string"?Y.result:"";ie&&(d(ie),f({x:0,y:0}),w(1),l(!0))},Y.readAsDataURL(G)}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading opens a cropper so you can adjust the photo."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Photo Preview"}),s.jsx("div",{className:"h-40 w-40 rounded-full overflow-hidden bg-gray-100 border",children:n.profileImageUrl?s.jsx("img",{src:n.profileImageUrl,alt:"Profile preview",className:"h-full w-full object-cover",style:{objectPosition:"center"}}):s.jsx("div",{className:"h-full w-full flex items-center justify-center text-xs text-muted-foreground",children:"No image selected"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Username"}),s.jsx(Pe,{value:n.username||"",onChange:O=>r({...n,username:O.target.value}),placeholder:"Your username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Email"}),s.jsx(Pe,{type:"email",value:n.email||"",disabled:!0,className:"bg-gray-50"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Category / Major"}),s.jsx(Pe,{value:n.category||"",onChange:O=>r({...n,category:O.target.value}),placeholder:"Your major"})]})]})]}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Study Achievements"})}),s.jsxs(rt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Total Study Time"}),s.jsxs("div",{className:"text-3xl font-bold text-teal-600",children:[j?Math.floor(j.totalMinutes/60):0,"h ",j?j.totalMinutes%60:0,"m"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep studying to unlock more medals!"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(we,{children:"Medals"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{name:"bronze",emoji:"",minutes:100,label:"Bronze"},{name:"silver",emoji:"",minutes:1e3,label:"Silver"},{name:"gold",emoji:"",minutes:1e4,label:"Gold"}].map(O=>{const G=j==null?void 0:j.unlockedMedals.includes(O.name),Y=(j==null?void 0:j.equippedMedal)===O.name,L=j?Math.min(j.totalMinutes/O.minutes*100,100):0;return s.jsxs("button",{onClick:()=>G&&b(Y?null:O.name),disabled:!G,className:`relative p-4 rounded-xl border-2 transition-all ${Y?"border-teal-500 bg-teal-50 shadow-lg scale-105":G?"border-gray-200 hover:border-teal-300 hover:bg-gray-50":"border-gray-100 bg-gray-50 opacity-50 cursor-not-allowed"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:O.emoji}),s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:G?Y?"Equipped":"Click to equip":`${O.minutes} min`}),!G&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-teal-500 h-1.5 rounded-full transition-all",style:{width:`${L}%`}})}),s.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1",children:[Math.round(L),"%"]})]})]},O.name)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Earn medals by studying and equip them to show on your profile!"})]})]})]}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Current Classes"})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Pe,{value:o,onChange:O=>a(O.target.value),placeholder:"e.g., MATH 101",onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),E())}}),s.jsx(Z,{onClick:E,children:"Add"})]}),n.classes&&n.classes.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:n.classes.map(O=>s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[O,s.jsx("button",{onClick:()=>k(O),className:"hover:text-blue-900",children:""})]},O))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No classes added yet"})]})]}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Privacy Settings"})}),s.jsx(rt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(we,{htmlFor:"todo-privacy",children:"Allow Friends to View My Todos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, your friends can see your todo list"})]}),s.jsx(ju,{id:"todo-privacy",checked:n.allowTodoView||!1,onCheckedChange:O=>r({...n,allowTodoView:O})})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Z,{onClick:C,children:"Save Settings"})}),s.jsx(An,{open:i,onOpenChange:l,children:s.jsxs(Mn,{className:"max-w-md",children:[s.jsx(zn,{children:s.jsx(In,{children:"Crop your photo"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative w-full h-72 bg-gray-100 rounded-lg overflow-hidden",children:c&&s.jsx(hk,{image:c,crop:m,zoom:g,aspect:1,cropShape:"round",showGrid:!0,onCropChange:f,onZoomChange:w,onCropComplete:_})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{children:"Zoom"}),s.jsx("input",{type:"range",min:1,max:3,step:.01,value:g,onChange:O=>w(Number(O.target.value)),className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"ghost",onClick:U,children:"Cancel"}),s.jsx(Z,{onClick:ee,children:"Save photo"})]})]})]})})]})}function xk({accessToken:e,user:t}){const[n,r]=u.useState(t),[o,a]=u.useState([]),i=u.useMemo(()=>(n.username||n.email||"User").split(" ").map(c=>c[0]).join("").slice(0,2).toUpperCase(),[n.email,n.username]);return u.useEffect(()=>{r(t)},[t]),u.useEffect(()=>{(async()=>{try{const d=await(await fetch(`${te}/settings`,{headers:{Authorization:`Bearer ${e}`}})).json();d.settings&&r(d.settings)}catch(c){console.error("Failed to load profile:",c)}})()},[e]),u.useEffect(()=>{(async()=>{try{const d=await(await fetch(`${te}/friends`,{headers:{Authorization:`Bearer ${e}`}})).json();a(d.friends||[])}catch(c){console.error("Failed to load friends:",c),I.error("Failed to load friends")}})()},[e]),s.jsxs("div",{className:"space-y-6 max-w-3xl",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),s.jsx(et,{children:s.jsxs(rt,{className:"p-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Hi,{className:"size-16",children:[n.profileImageUrl&&s.jsx(Vi,{src:n.profileImageUrl,alt:n.username||"Profile",className:"object-cover",style:{objectPosition:"center"}}),s.jsx(Gi,{className:"bg-gray-200 text-gray-700 text-lg font-semibold",style:n.profileImageUrl?{backgroundImage:`url(${n.profileImageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:n.profileImageUrl?null:i})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.username||"Unnamed"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.email}),n.userId&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",n.userId]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Following"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),s.jsx(Z,{variant:"outline",onClick:()=>{n.username&&(navigator.clipboard.writeText(n.username),I.success("Username copied"))},disabled:!n.username,children:"Copy Username"})]})]})}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Profile Details"})}),s.jsxs(rt,{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Major"}),s.jsx("span",{children:n.category||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Username"}),s.jsx("span",{children:n.username||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Email"}),s.jsx("span",{children:n.email||"Not set"})]})]})]}),s.jsxs(et,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Following"})}),s.jsx(rt,{className:"space-y-3",children:o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"You are not following anyone yet."}):o.map(l=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.username||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:l.email})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l.category||"No major"})]},l.id))})]})]})}var ay="AlertDialog",[vk]=tr(ay,[iv]),jr=iv(),iy=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return s.jsx(Nv,{...r,...n,modal:!0})};iy.displayName=ay;var yk="AlertDialogTrigger",wk=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(Sv,{...o,...r,ref:t})});wk.displayName=yk;var jk="AlertDialogPortal",ly=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return s.jsx(Cv,{...r,...n})};ly.displayName=jk;var bk="AlertDialogOverlay",cy=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(kv,{...o,...r,ref:t})});cy.displayName=bk;var Js="AlertDialogContent",[Nk,Sk]=vk(Js),uy=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=jr(n),i=u.useRef(null),l=ot(t,i),c=u.useRef(null);return s.jsx(E2,{contentName:Js,titleName:dy,docsSlug:"alert-dialog",children:s.jsx(Nk,{scope:n,cancelRef:c,children:s.jsxs(Ev,{role:"alertdialog",...a,...o,ref:l,onOpenAutoFocus:Oe(o.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(Tg,{children:r}),s.jsx(kk,{contentRef:i})]})})})});uy.displayName=Js;var dy="AlertDialogTitle",fy=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(Pv,{...o,...r,ref:t})});fy.displayName=dy;var py="AlertDialogDescription",my=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(R2,{...o,...r,ref:t})});my.displayName=py;var Ck="AlertDialogAction",hy=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(Jd,{...o,...r,ref:t})});hy.displayName=Ck;var gy="AlertDialogCancel",xy=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=Sk(gy,n),a=jr(n),i=ot(t,o);return s.jsx(Jd,{...a,...r,ref:i})});xy.displayName=gy;var kk=({contentRef:e})=>{const t=`\`${Js}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Js}\` by passing a \`${py}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Js}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Ek=iy,Pk=ly,Tk=cy,_k=uy,Rk=hy,Dk=xy,Ak=fy,Mk=my;function zk({...e}){return s.jsx(Ek,{"data-slot":"alert-dialog",...e})}function Ik({...e}){return s.jsx(Pk,{"data-slot":"alert-dialog-portal",...e})}function Ok({className:e,...t}){return s.jsx(Tk,{"data-slot":"alert-dialog-overlay",className:Re("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Fk({className:e,...t}){return s.jsxs(Ik,{children:[s.jsx(Ok,{}),s.jsx(_k,{"data-slot":"alert-dialog-content",className:Re("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function $k({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:Re("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Lk({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:Re("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Bk({className:e,...t}){return s.jsx(Ak,{"data-slot":"alert-dialog-title",className:Re("text-lg font-semibold",e),...t})}function Uk({className:e,...t}){return s.jsx(Mk,{"data-slot":"alert-dialog-description",className:Re("text-muted-foreground text-sm",e),...t})}function Wk({className:e,...t}){return s.jsx(Rk,{className:Re(Pd(),e),...t})}function Hk({className:e,...t}){return s.jsx(Dk,{className:Re(Pd({variant:"outline"}),e),...t})}const Vk=e=>{if(!e)return"";switch(e){case"bronze":return"";case"silver":return"";case"gold":return"";default:return""}},Qt=e=>({Authorization:`Bearer ${e}`}),Gk=e=>`${te.replace(/^http/,"ws")}/ws?token=${encodeURIComponent(e)}`;function qk({groupId:e,accessToken:t,currentUserId:n,onBack:r,onLeaveRoom:o,onJoinMeeting:a}){const i="bg-white/80 backdrop-blur border border-white/70 shadow-[0_16px_40px_rgba(15,23,42,0.10)]",[l,c]=u.useState(null),[d,m]=u.useState(!0),[f,g]=u.useState([]),[w,y]=u.useState(!1),x=u.useRef(!1),[j,h]=u.useState([]),[p,v]=u.useState(""),[b,C]=u.useState(!1),E=u.useRef(null),k=u.useRef(!0),_=u.useRef(null),[Q,F]=u.useState(!1),[ee,U]=u.useState([]),[O,G]=u.useState(!1),[Y,L]=u.useState(null),[ie,D]=u.useState(!1),[A,K]=u.useState(0),[B,le]=u.useState({}),[xe,Ee]=u.useState(!1),[P,W]=u.useState([]),[V,ce]=u.useState(!1),[be,ye]=u.useState(25),[Ne,je]=u.useState("medium"),[Ue,We]=u.useState(!1),[Ze,Ge]=u.useState(new Date),[ze,pt]=u.useState({completed:0,total:0,allCompleted:!1}),Fe=u.useRef(null),[Qe,qt]=u.useState(!1),[He,Et]=u.useState(!1),[bt,Bt]=u.useState(0),[mt,Pt]=u.useState(null),vt=u.useMemo(()=>{if(!(l!=null&&l.date)||!(l!=null&&l.time))return!1;const T=new Date(`${l.date}T${l.time}`);return Ze>=T},[l,Ze]);u.useEffect(()=>{let T;return He&&mt&&(T=setInterval(()=>{const H=Math.floor((Date.now()-mt)/1e3);Bt(H)},1e3)),()=>{T&&clearInterval(T)}},[He,mt]),u.useEffect(()=>{let T=!1;return(async()=>{var H;try{const ve=await(await fetch(`${te}/study-groups/${e}`,{headers:Qt(t)})).json();!T&&ve.group&&(c(ve.group),(H=ve.group.participants)!=null&&H.includes(n)||F(!0))}catch(fe){T||console.error("Failed to fetch room",fe)}finally{T||m(!1)}})(),()=>{T=!0}},[e,t]),u.useEffect(()=>{let T=!1;return(async()=>{try{if(Q)return;const H=await fetch(`${te}/study-groups/${e}/presence`,{method:"POST",headers:{...Qt(t),"Content-Type":"application/json"}});if(!H.ok){!T&&H.status===403&&(F(!0),I.error("You need to be accepted to join this room."));return}H.ok&&!T&&(x.current=!0)}catch(H){T||console.error("Failed to join presence",H)}})(),()=>{T=!0}},[e,t,Q]),u.useEffect(()=>{if(Q||!l||l.meetingId)return;let T=!1;return(async()=>{try{const fe=await(await fetch(`${te}/study-groups/${e}/chat`,{headers:Qt(t)})).json();T||h(fe.messages||[])}catch(H){T||console.error("Failed to fetch room chat",H)}})(),()=>{T=!0}},[e,t,Q,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{yt()},[e,t]),u.useEffect(()=>{Xe()},[e,t]),u.useEffect(()=>{if(Y&&Object.keys(B).length>0){const T={currentQuestionIndex:A,userAnswers:B};localStorage.setItem(`quiz-progress-${e}-${n}`,JSON.stringify(T))}},[A,B,e,n,Y]),u.useEffect(()=>{if(Y&&Y.questions){const T=Y.questions.length,H=Object.keys(B).length;H===T&&H>0?We(!0):We(!1)}},[Y,B]),u.useEffect(()=>{const T=setInterval(()=>{Ge(new Date)},6e4);return()=>clearInterval(T)},[]),u.useEffect(()=>{if(!Y||!l||!(vt||l.meetingId))return;const T=async()=>{try{const ve=await(await fetch(`${te}/study-groups/${e}/quiz/completion`,{headers:Qt(t)})).json();pt(ve)}catch(fe){console.error("Failed to fetch completion status",fe)}};T();const H=setInterval(T,2e3);return()=>clearInterval(H)},[Y,vt,e,t,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{if(Q||!l||l.meetingId)return;const T=new WebSocket(Gk(t));return _.current=T,C(!1),T.onopen=()=>{C(!0),T.send(JSON.stringify({type:"room:join",roomId:e}))},T.onclose=()=>{C(!1)},T.onmessage=H=>{try{const fe=JSON.parse(H.data);if((fe==null?void 0:fe.type)==="room:error"){I.error(fe.message||"Unable to join room");return}if((fe==null?void 0:fe.type)!=="room:message"||!(fe!=null&&fe.message))return;const ve=fe.message;if(ve.roomId!==e)return;h(Se=>{if(ve.clientId){const Le=Se.findIndex(Ye=>Ye.clientId===ve.clientId);if(Le!==-1){const Ye=[...Se];return Ye[Le]={...ve,pending:!1},Ye}}return[...Se,ve]})}catch(fe){console.error("Failed to parse room chat message:",fe)}},()=>{try{T.send(JSON.stringify({type:"room:leave",roomId:e}))}catch{}T.close(),_.current=null}},[e,t,Q,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{if(!l||l.meetingId)return;const T=E.current;T&&k.current&&(T.scrollTop=T.scrollHeight)},[j,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{if(Q)return;const T=async()=>{try{const ve=await(await fetch(`${te}/study-groups/${e}/presence`,{headers:Qt(t)})).json();ve.presence&&g(ve.presence)}catch{}};T();const H=setInterval(T,2e3);return()=>clearInterval(H)},[e,t,Q]);const yt=async()=>{try{const H=await(await fetch(`${te}/study-groups/${e}/quiz/files`,{headers:Qt(t)})).json();U(H.files||[])}catch(T){console.error("Failed to load quiz files",T)}},Xe=async()=>{try{const H=await(await fetch(`${te}/study-groups/${e}/quiz`,{headers:Qt(t)})).json();if(H.quiz){L(H.quiz);const fe=localStorage.getItem(`quiz-progress-${e}-${n}`);if(fe)try{const ve=JSON.parse(fe);K(ve.currentQuestionIndex||0);const Se=ve.userAnswers||{};le(Se);for(const[Le,Ye]of Object.entries(Se)){const Ct=parseInt(Le);try{await fetch(`${te}/study-groups/${e}/quiz/answer`,{method:"POST",headers:{...Qt(t),"Content-Type":"application/json"},body:JSON.stringify({questionId:Ct,answer:Ye})})}catch(Tt){console.error("Failed to sync answer to backend:",Tt)}}}catch(ve){console.error("Failed to parse saved progress",ve)}}}catch(T){console.error("Failed to load quiz",T)}},$=async T=>{var fe;const H=(fe=T.target.files)==null?void 0:fe[0];if(H){G(!0);try{const ve=new FormData;ve.append("file",H);const Se=await fetch(`${te}/study-groups/${e}/quiz/upload`,{method:"POST",headers:Qt(t),body:ve});if(!Se.ok){const Ye=await Se.json();throw new Error(Ye.error||"Upload failed")}const Le=await Se.json();I.success(`File uploaded! (${Le.fileCount}/${Le.maxFiles})`),await yt()}catch(ve){console.error("Upload error:",ve),I.error(ve instanceof Error?ve.message:"Failed to upload file")}finally{G(!1),Fe.current&&(Fe.current.value="")}}},q=async()=>{D(!0),ce(!1);try{const T=await fetch(`${te}/study-groups/${e}/quiz/generate`,{method:"POST",headers:{...Qt(t),"Content-Type":"application/json"},body:JSON.stringify({count:be,difficulty:Ne})});if(!T.ok){const fe=await T.json();throw new Error(fe.error||"Failed to generate quiz")}const H=await T.json();L(H.quiz),le({}),K(0),Ee(!1),We(!1),localStorage.removeItem(`quiz-progress-${e}-${n}`),I.success("Quiz generated!")}catch(T){console.error("Generate quiz error:",T),I.error(T instanceof Error?T.message:"Failed to generate quiz")}finally{D(!1)}},se=async(T,H)=>{le(fe=>({...fe,[T]:H}));try{await fetch(`${te}/study-groups/${e}/quiz/answer`,{method:"POST",headers:{...Qt(t),"Content-Type":"application/json"},body:JSON.stringify({questionId:T,answer:H})})}catch(fe){console.error("Submit answer error:",fe)}},pe=async()=>{try{const H=await(await fetch(`${te}/study-groups/${e}/quiz/results`,{headers:Qt(t)})).json();W(H.results||[]),Ee(!0)}catch(T){console.error("Get results error:",T),I.error("Failed to load results")}},De=async()=>{try{await fetch(`${te}/study/timer/start`,{method:"POST",headers:{...Qt(t),"Content-Type":"application/json"}}),Et(!0),Pt(Date.now()),Bt(0),I.success(" Timer started!")}catch(T){console.error("Failed to start timer:",T),I.error("Failed to start timer")}},Ce=async()=>{if(He)try{const H=await(await fetch(`${te}/study/timer/stop`,{method:"POST",headers:{...Qt(t),"Content-Type":"application/json"}})).json();if(Et(!1),Pt(null),Bt(0),H.newlyUnlocked&&H.newlyUnlocked.length>0)for(const fe of H.newlyUnlocked){const ve=fe==="bronze"?"":fe==="silver"?"":"";I.success(`${ve} Unlocked ${fe.toUpperCase()} medal!`)}I.success(` Timer stopped! Logged ${H.elapsedMinutes} minutes`)}catch(T){console.error("Failed to stop timer:",T),I.error("Failed to stop timer")}},$e=async()=>{if(He&&await Ce(),y(!1),x.current){try{await fetch(`${te}/study-groups/${e}/presence`,{method:"DELETE",headers:Qt(t)})}catch{}x.current=!1}o==null||o(),r()},tt=()=>{if(!p.trim()||!_.current||!b)return;const T=crypto.randomUUID(),H=p.trim(),fe={id:T,clientId:T,roomId:e,senderId:n,senderName:"You",content:H,createdAt:new Date().toISOString(),pending:!0};h(ve=>[...ve,fe]),_.current.send(JSON.stringify({type:"room:send",roomId:e,content:H,clientId:T})),v("")};if(d)return s.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading room..."})});if(!l)return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:r,className:"gap-2",children:[s.jsx(Cp,{className:"size-4"}),"Leave room"]}),s.jsx("p",{className:"text-muted-foreground",children:"Room not found."})]});const N=Y==null?void 0:Y.questions[A],R=!!l.meetingId,J=R||vt,me=`https://www.google.com/maps?q=${l?encodeURIComponent(l.location):""}&output=embed`,X=()=>{if(l!=null&&l.meetingId){if(!a){window.location.hash=`meeting-${l.meetingId}`;return}a(l.meetingId)}};return s.jsxs("div",{className:"rounded-[28px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"gap-2 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",children:[s.jsx(Cp,{className:"size-4"}),"Leave room"]}),R&&s.jsxs(Z,{onClick:X,size:"sm",className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[s.jsx(Ks,{className:"size-4"}),"Open Zoom"]}),s.jsx(zk,{open:w,onOpenChange:y,children:s.jsxs(Fk,{children:[s.jsxs($k,{children:[s.jsx(Bk,{children:"Leave room?"}),s.jsx(Uk,{children:"You will give up your seat and be removed from the participant list. You can re-join if there are seats left."})]}),s.jsxs(Lk,{children:[s.jsx(Hk,{children:"Cancel"}),s.jsx(Wk,{onClick:$e,className:"bg-red-600 hover:bg-red-700",children:"Leave room"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[J?s.jsx("div",{className:`lg:col-span-2 rounded-2xl ${i} h-[520px] min-h-[280px] flex flex-col`,children:Ue&&!xe?s.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold mb-2 text-teal-600",children:"Quiz Completed!"}),s.jsxs("p",{className:"text-muted-foreground",children:["You've answered all ",Y==null?void 0:Y.questions.length," questions!"]})]}),!ze.allCompleted&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Dn,{className:"size-5 text-blue-600 animate-spin"}),s.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Waiting for others..."})]}),s.jsxs("p",{className:"text-lg font-bold text-blue-700",children:[ze.completed," / ",ze.total," completed"]}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Results will be available when everyone finishes"})]}),ze.allCompleted&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm font-semibold text-green-900",children:" Everyone has completed the quiz!"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Z,{onClick:pe,size:"lg",className:"w-full",disabled:!ze.allCompleted,children:[s.jsx(Rn,{className:"size-5 mr-2"}),"View Results"]}),s.jsx(Z,{variant:"outline",onClick:()=>{We(!1),K(0),qt(!0)},className:"w-full",children:"Review Quiz"}),s.jsx(Z,{variant:"outline",onClick:()=>ce(!0),className:"w-full",children:"Start New Quiz"})]})]})}):xe?s.jsxs("div",{className:"flex-1 flex flex-col p-6 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Quiz Results"}),s.jsx(Z,{variant:"outline",onClick:()=>Ee(!1),children:"Back to Quiz"})]}),s.jsx("div",{className:"space-y-6",children:P.map((T,H)=>s.jsxs(et,{className:"border-2",children:[s.jsx(dt,{className:"pb-3",children:s.jsxs(ft,{className:"text-base",children:["Q",H+1,". ",T.question]})}),s.jsxs(rt,{className:"space-y-3",children:[s.jsx("div",{className:"space-y-1",children:T.options.map((fe,ve)=>s.jsxs("div",{className:`p-2 rounded text-sm ${ve===T.correctAnswer?"bg-green-50 border border-green-500 font-semibold":"bg-gray-50"}`,children:[String.fromCharCode(65+ve),". ",fe,ve===T.correctAnswer&&" "]},ve))}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[s.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"Explanation:"}),s.jsx("p",{className:"text-sm text-gray-700",children:T.explanation})]}),s.jsxs("div",{className:"flex gap-4 text-sm font-medium pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[s.jsx(vj,{className:"size-4"}),s.jsxs("span",{children:[T.correctCount," Correct"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[s.jsx(Vg,{className:"size-4"}),s.jsxs("span",{children:[T.incorrectCount," Wrong"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[s.jsx(jj,{className:"size-4"}),s.jsxs("span",{children:[T.unansweredCount," Unanswered"]})]})]})]})]},T.questionId))}),s.jsx("div",{className:"mt-6 pt-6 border-t text-center",children:s.jsxs(Z,{onClick:()=>ce(!0),size:"lg",children:[s.jsx(Rn,{className:"size-5 mr-2"}),"Start New Quiz"]})})]}):Y?s.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between pb-4 border-b",children:[s.jsx("h3",{className:"text-lg font-bold",children:Qe?"Review Quiz":"Group Quiz"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Question ",A+1," / ",Y.questions.length]}),!Qe&&s.jsx(Z,{variant:"outline",size:"sm",onClick:pe,disabled:!ze.allCompleted,title:ze.allCompleted?"View results":`Waiting for others (${ze.completed}/${ze.total} completed)`,children:"View Results"}),Qe&&s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>{qt(!1),We(!0)},children:"Exit Review"})]})]}),N&&s.jsxs("div",{className:"flex-1 flex flex-col space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold mb-4",children:N.question}),s.jsx("div",{className:"space-y-3",children:N.options.map((T,H)=>{const fe=B[N.id]===H,ve=H===N.correctAnswer,Se=Qe&&fe&&!ve;let Le="w-full p-4 text-left rounded-lg border-2 transition-all ";return Qe?ve?Le+="border-green-500 bg-green-50 ":Se?Le+="border-red-500 bg-red-50 ":Le+="border-gray-200 bg-gray-50 ":Le+=fe?"border-teal-500 bg-teal-50 ":"border-gray-200 hover:border-teal-300 hover:bg-gray-50 ",s.jsxs("button",{onClick:()=>!Qe&&se(N.id,H),disabled:Qe,className:Le,children:[s.jsxs("span",{className:"font-semibold",children:[String.fromCharCode(65+H),"."]})," ",T,Qe&&ve&&s.jsx("span",{className:"ml-2 text-green-600 font-bold",children:" Correct"}),Qe&&Se&&s.jsx("span",{className:"ml-2 text-red-600 font-bold",children:" Your Answer"})]},H)})})]}),s.jsxs("div",{className:"mt-auto flex justify-between pt-6 border-t",children:[s.jsx(Z,{variant:"outline",onClick:()=>K(T=>Math.max(0,T-1)),disabled:A===0,children:"Previous"}),s.jsx(Z,{onClick:()=>K(T=>Math.min(Y.questions.length-1,T+1)),disabled:A===Y.questions.length-1,children:"Next"})]})]})]}):s.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Group Quiz"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload study materials and generate a quiz for everyone!"})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-semibold",children:["Uploaded Files (",ee.length,"/",l.maxParticipants,")"]}),s.jsx(Z,{onClick:()=>{var T;return(T=Fe.current)==null?void 0:T.click()},disabled:O||ee.length>=l.maxParticipants,size:"sm",children:O?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qg,{className:"size-4 mr-2"})," Upload"]})}),s.jsx("input",{ref:Fe,type:"file",className:"hidden",accept:".pdf,.txt,.jpg,.jpeg,.png,.mp3,.wav",onChange:$})]}),s.jsx("div",{className:"border rounded-lg p-4 max-h-[200px] overflow-y-auto",children:ee.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No files uploaded yet"}):s.jsx("div",{className:"space-y-2",children:ee.map(T=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(au,{className:"size-4 text-gray-400"}),s.jsx("span",{className:"flex-1",children:T.fileName}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(T.uploadedAt).toLocaleString()})]},T.id))})})]}),s.jsx("div",{className:"mt-auto",children:s.jsx(Z,{onClick:()=>ce(!0),disabled:ee.length===0||ie,className:"w-full",size:"lg",children:ie?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-5 mr-2 animate-spin"})," Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-5 mr-2"})," Generate Quiz"]})})})]})}):s.jsx("div",{className:`lg:col-span-2 rounded-2xl overflow-hidden ${i} h-[520px] min-h-[280px]`,children:s.jsx("iframe",{title:"Meeting location",src:me,className:"w-full h-full",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),s.jsxs("div",{className:"lg:col-span-1 h-[520px] flex flex-col gap-4",children:[s.jsxs(et,{className:`flex-none rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsxs(ft,{className:"text-base flex items-center gap-2",children:[s.jsx(lu,{className:"size-4"}),"In this room (",f.length,")"]})}),s.jsx(rt,{children:s.jsx("ul",{className:"space-y-2",children:f.length===0?s.jsx("li",{className:"text-sm text-muted-foreground",children:"No one here yet"}):f.map(T=>s.jsxs("li",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx("span",{className:"size-2 rounded-full bg-teal-500"}),s.jsx("span",{children:T.username}),T.medal&&s.jsx("span",{className:"text-xs",title:`${T.medal} medal`,children:Vk(T.medal)})]},T.id))})})]}),s.jsxs(et,{className:`flex-none rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsx(ft,{className:"text-base flex items-center gap-2",children:" Personal Study Timer"})}),s.jsxs(rt,{className:"space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-teal-600 font-mono",children:[Math.floor(bt/3600).toString().padStart(2,"0"),":",Math.floor(bt%3600/60).toString().padStart(2,"0"),":",(bt%60).toString().padStart(2,"0")]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:He?"Time elapsed":"Start timer to track your study"})]}),He?s.jsx(Z,{onClick:Ce,variant:"outline",className:"w-full",size:"sm",children:" Stop Timer"}):s.jsx(Z,{onClick:De,className:"w-full",size:"sm",children:" Start Timer"})]})]}),!R&&s.jsxs(et,{className:`flex-1 flex flex-col overflow-hidden min-h-[320px] rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsxs(ft,{className:"text-base flex items-center justify-between",children:[s.jsx("span",{children:"Room chat"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:b?"Live":"Connecting..."})]})}),s.jsxs(rt,{className:"flex-1 min-h-0 flex flex-col gap-3",children:[s.jsx("div",{ref:E,className:"flex-1 min-h-0 overflow-y-auto space-y-2 rounded-2xl border border-gray-200/60 bg-white/70 p-3",onScroll:T=>{const H=T.currentTarget,fe=H.scrollHeight-H.scrollTop-H.clientHeight;k.current=fe<32},children:j.length===0?s.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-400",children:"No messages yet. Say hi!"}):j.map(T=>{const H=T.senderId===n;return s.jsx("div",{className:`flex ${H?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-2xl px-3 py-2 text-xs ${H?"bg-emerald-500 text-white":"bg-gray-100 text-gray-700"} ${T.pending?"opacity-70":""}`,children:[!H&&s.jsx("p",{className:"text-[10px] font-semibold mb-1",children:T.senderName}),s.jsx("p",{className:"whitespace-pre-wrap",children:T.content}),s.jsx("p",{className:"mt-1 text-[10px] opacity-70",children:new Date(T.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})},T.id)})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"flex-1 h-9 rounded-md border border-input bg-transparent px-3 text-xs shadow-sm focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Type a message...",value:p,onChange:T=>v(T.target.value),onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),tt())}}),s.jsx(Z,{size:"sm",onClick:tt,disabled:!p.trim()||!b,children:"Send"})]})]})]})]})]}),!J&&l&&!l.meetingId&&s.jsxs(et,{className:`rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsx(ft,{className:"text-lg",children:"Meeting Information"})}),s.jsxs(rt,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Rn,{className:"size-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Topic:"})," ",l.topic]})]}),s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(lu,{className:"size-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Location:"})," ",l.location]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Date:"})," ",l.date]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Time:"})," ",l.time||""]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground pt-2 border-t",children:[(l.participantsWithNames??[]).length," / ",l.maxParticipants," participants"]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:[s.jsx("p",{className:"text-sm text-blue-900",children:s.jsxs("strong",{children:[" Quiz will be available at ",l.time]})}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Review the location and prepare your study materials!"})]})]})]}),V&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(et,{className:`w-full max-w-md mx-4 rounded-2xl ${i}`,children:[s.jsxs(dt,{children:[s.jsx(ft,{className:"text-2xl",children:"Generate Quiz"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your quiz settings"})]}),s.jsxs(rt,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Number of Questions"}),s.jsx("div",{className:"flex gap-3",children:[20,25,30].map(T=>s.jsx(Z,{variant:be===T?"default":"outline",onClick:()=>ye(T),className:"flex-1",children:T},T))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Difficulty Level"}),s.jsx("div",{className:"flex flex-col gap-2",children:[{value:"easy",label:"Easy",desc:"Basic concepts and definitions",emoji:""},{value:"medium",label:"Medium",desc:"Balanced understanding and application",emoji:""},{value:"hard",label:"Hard",desc:"Deep analysis and critical thinking",emoji:""}].map(T=>s.jsx(Z,{variant:Ne===T.value?"default":"outline",onClick:()=>je(T.value),className:"w-full justify-start h-auto py-3",children:s.jsxs("div",{className:"flex items-start gap-3 text-left",children:[s.jsx("span",{className:"text-2xl",children:T.emoji}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:T.label}),s.jsx("div",{className:"text-xs opacity-80",children:T.desc})]})]})},T.value))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(Z,{variant:"outline",onClick:()=>ce(!1),className:"flex-1",children:"Cancel"}),s.jsx(Z,{onClick:q,disabled:ie,className:"flex-1",children:ie?s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-4 mr-2"}),"Generate Quiz"]})})]})]})]})})]})}function lm({meetingId:e,accessToken:t,userName:n="Guest",onBack:r,zoomContainerRef:o,onMeetingJoined:a}){var ie,D;const[i,l]=u.useState(null),[c,d]=u.useState(!0),[m,f]=u.useState(null),[g,w]=u.useState(!1),[y,x]=u.useState(!1),[j,h]=u.useState(""),[p,v]=u.useState(null),[b,C]=u.useState({cameras:[],mics:[]}),[E,k]=u.useState(""),[_,Q]=u.useState(""),[F,ee]=u.useState(null),U=u.useRef(null),O=u.useRef(null),G=u.useRef(null),Y=async()=>{var A;try{const K=G.current;K&&typeof K.leaveMeeting=="function"&&await K.leaveMeeting.call(K,{confirm:!1});const B=(await nu(async()=>{const{default:le}=await import("./embedded-CU9eXjEM.js").then(xe=>xe.e);return{default:le}},[])).default;(A=B.destroyClient)==null||A.call(B)}catch{}finally{G.current=null,r()}};u.useEffect(()=>()=>{if(o)G.current=null;else{const A=G.current;A&&typeof A.leaveMeeting=="function"&&A.leaveMeeting().catch(()=>{}),G.current=null}p==null||p.getTracks().forEach(A=>A.stop())},[o]),u.useEffect(()=>{if(!i)return;let A=null;return(async()=>{try{ee(null);const B={video:E?{deviceId:{exact:E}}:!0,audio:_?{deviceId:{exact:_}}:!0};A=await navigator.mediaDevices.getUserMedia(B),v(A);const le=await navigator.mediaDevices.enumerateDevices();C({cameras:le.filter(xe=>xe.kind==="videoinput"),mics:le.filter(xe=>xe.kind==="audioinput")})}catch(B){ee(B instanceof Error?B.message:"Could not access camera/microphone")}})(),()=>{A==null||A.getTracks().forEach(B=>B.stop())}},[i==null?void 0:i.meetingId,E,_]),u.useEffect(()=>{!p||!U.current||(U.current.srcObject=p)},[p]),u.useEffect(()=>{let A=!1;return(async()=>{try{const K=await fetch(`${te}/api/meetings/${e}`);if(K.ok){const B=await K.json();A||(l(B),h(B.password||""))}else A||l(null)}catch{A||l(null)}finally{A||d(!1)}})(),()=>{A=!0}},[e]);const L=async()=>{var K;const A=(o==null?void 0:o.current)??O.current;if(!(!i||!A)){f(null),p==null||p.getTracks().forEach(B=>B.stop()),v(null),w(!0);try{const B=await fetch(`${te}/api/zoom/sdk-jwt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingNumber:i.zoomMeetingNumber,role:0})}),le=await B.json();if(!B.ok)throw new Error(le.error||"Failed to get meeting token");const{signature:xe,sdkKey:Ee,meetingNumber:P}=le,W=(await nu(async()=>{const{default:ye}=await import("./embedded-CU9eXjEM.js").then(Ne=>Ne.e);return{default:ye}},[])).default;(K=W.destroyClient)==null||K.call(W);const V=W.createClient();G.current=V;const ce=await V.init({zoomAppRoot:A,language:"en-US",patchJsMedia:!0,customize:{video:{defaultViewType:"speaker"}}});if(typeof ce=="object"&&"reason"in ce)throw new Error(ce.reason||"Zoom init failed");const be=await V.join({signature:xe,meetingNumber:P,password:j.trim()||"",userName:n});if(typeof be=="object"&&be!==null){const ye=be;if("reason"in ye&&ye.reason)throw new Error(ye.reason);if("type"in ye)throw new Error(ye.type||"Join failed")}w(!1),x(!0),a==null||a(V)}catch(B){const le=B instanceof Error?B.message:typeof B=="object"&&B!==null&&"reason"in B?String(B.reason):typeof B=="object"&&B!==null&&"message"in B?String(B.message):String(B);f(le||"Failed to join meeting"),w(!1)}}};return c?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[s.jsx(Dn,{className:"size-10 animate-spin text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"Loading meeting..."})]}):i?s.jsxs("div",{className:"flex flex-col h-[calc(100vh-6rem)]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:Y,children:[s.jsx(ou,{className:"size-4 mr-2"}),"Leave"]}),s.jsx("h1",{className:"text-lg font-semibold truncate max-w-[50%]",children:i.topic||"Zoom Meeting"}),s.jsx("div",{className:"w-20"})]}),s.jsxs("div",{className:"flex-1 min-h-0 rounded-xl overflow-auto border border-gray-200 bg-[#1a1a1a] flex flex-col relative",children:[s.jsx("div",{ref:O,className:`flex-1 w-full min-h-[480px] h-full relative ${o&&y?"hidden":""}`,style:{minHeight:"60vh"}}),o&&y&&s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 p-6 text-white/70 text-sm text-center",children:[s.jsx("p",{children:"Meeting is in the floating window. You can go to other pages and keep the call."}),s.jsx(Z,{variant:"outline",size:"sm",onClick:Y,className:"border-red-500/50 text-red-400 hover:bg-red-500/10 hover:text-red-300",children:"Leave"})]}),!y&&!g&&!m&&s.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col bg-[#1a1a1a] p-4",children:[s.jsx("p",{className:"text-sm text-white/80 text-center mb-2",children:"Check your camera and microphone before joining"}),s.jsx("div",{className:"flex-1 min-h-[200px] rounded-lg overflow-hidden bg-black flex items-center justify-center",children:F?s.jsxs("div",{className:"text-center p-4 text-white/90",children:[s.jsx(ib,{className:"size-12 mx-auto mb-2 opacity-70"}),s.jsx("p",{className:"text-sm",children:F}),s.jsx("p",{className:"text-xs text-white/60 mt-1",children:"Allow camera/mic in browser settings and refresh."})]}):s.jsx("video",{ref:U,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.cameras.length>1&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(we,{className:"text-xs text-white/80 flex items-center gap-1.5",children:[s.jsx(Ks,{className:"size-3.5"}),"Camera"]}),s.jsxs(Dr,{value:E||((ie=b.cameras[0])==null?void 0:ie.deviceId),onValueChange:k,children:[s.jsx(Mr,{className:"bg-white/10 border-white/20 text-white",children:s.jsx(Ar,{placeholder:"Camera"})}),s.jsx(zr,{children:b.cameras.map(A=>s.jsx(nt,{value:A.deviceId,children:A.label||`Camera ${b.cameras.indexOf(A)+1}`},A.deviceId))})]})]}),b.mics.length>1&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(we,{className:"text-xs text-white/80 flex items-center gap-1.5",children:[s.jsx(qg,{className:"size-3.5"}),"Microphone"]}),s.jsxs(Dr,{value:_||((D=b.mics[0])==null?void 0:D.deviceId),onValueChange:Q,children:[s.jsx(Mr,{className:"bg-white/10 border-white/20 text-white",children:s.jsx(Ar,{placeholder:"Microphone"})}),s.jsx(zr,{children:b.mics.map(A=>s.jsx(nt,{value:A.deviceId,children:A.label||`Mic ${b.mics.indexOf(A)+1}`},A.deviceId))})]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[s.jsxs("p",{className:"text-sm text-white/80",children:["Meeting: ",s.jsx("strong",{className:"text-white",children:i.zoomMeetingNumber})]}),s.jsxs(Z,{onClick:L,disabled:g,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Join with Zoom"]})]}),s.jsxs("div",{className:"max-w-xs mx-auto space-y-1.5",children:[s.jsx(we,{htmlFor:"meeting-passcode",className:"text-xs text-white/60",children:"Meeting passcode (if required)"}),s.jsx(Pe,{id:"meeting-passcode",type:"password",placeholder:"Enter passcode",value:j,onChange:A=>h(A.target.value),className:"text-sm bg-white/10 border-white/20 text-white placeholder:text-white/50"})]})]})]}),g&&s.jsxs("div",{className:"p-4 border-t bg-white flex items-center justify-center gap-2",children:[s.jsx(Dn,{className:"size-5 animate-spin text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Joining meeting..."})]}),m&&s.jsxs("div",{className:"p-4 border-t bg-amber-50 space-y-3",children:[s.jsx("p",{className:"text-sm text-amber-800 text-center",children:m}),m.toLowerCase().includes("already has other meetings")&&s.jsx("p",{className:"text-xs text-gray-600 text-center max-w-md mx-auto",children:"Close other Zoom meeting tabs or windows, then click Leave on this page and try again in a few seconds."}),(m.toLowerCase().includes("cross account")||m.toLowerCase().includes("external zoom account"))&&s.jsxs("div",{className:"text-xs text-gray-600 text-center max-w-md mx-auto space-y-1",children:[s.jsxs("p",{children:["To join meetings hosted by another Zoom account, your Meeting SDK app must be ",s.jsx("strong",{children:"published on the Zoom Marketplace"}),"."]}),s.jsx("p",{children:"See developers.zoom.us and Zoom API License Terms of Use (Section 6.1). Until then, create meetings with the same Zoom account that owns this SDK app."})]}),s.jsxs("div",{className:"max-w-xs mx-auto space-y-1.5",children:[s.jsx(we,{htmlFor:"meeting-passcode-retry",className:"text-xs text-gray-600",children:"Meeting passcode (check Zoom invite if wrong)"}),s.jsx(Pe,{id:"meeting-passcode-retry",type:"password",placeholder:"Enter passcode",value:j,onChange:A=>h(A.target.value),className:"text-sm"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Z,{variant:"outline",size:"sm",onClick:L,children:"Try again"})})]})]})]}):s.jsxs(et,{className:"max-w-md mx-auto",children:[s.jsx(dt,{children:s.jsxs(ft,{className:"flex items-center gap-2",children:[s.jsx(gj,{className:"size-5 text-amber-500"}),"Meeting not found"]})}),s.jsxs(rt,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"This meeting link is invalid or the meeting has been removed."}),s.jsxs(Z,{variant:"outline",onClick:r,children:[s.jsx(ou,{className:"size-4 mr-2"}),"Back"]})]})]})}const Qk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Yk(e){const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(n===0?-6:1),o=new Date(t.setDate(r));o.setHours(0,0,0,0);const a=new Date(o);return a.setDate(a.getDate()+6),a.setHours(23,59,59,999),{start:o,end:a}}function kn(e){return e.toISOString().split("T")[0]}function cm(e,t){const n=new Date(`${e}T00:00:00`);return Number.isNaN(n.getTime())?e:(n.setDate(n.getDate()+t),kn(n))}function um(e){const t=g=>String(Math.floor(Math.abs(g))).padStart(2,"0"),n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0"),c=-e.getTimezoneOffset(),d=c>=0?"+":"-",m=t(Math.trunc(c/60)),f=t(c%60);return`${n}-${r}-${o}T${a}:${i}:${l}${d}${m}:${f}`}function Kk({accessToken:e}){const[t,n]=u.useState(new Date),[r,o]=u.useState([]),[a,i]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(!1),[f,g]=u.useState(!1),[w,y]=u.useState(null),[x,j]=u.useState(!1),[h,p]=u.useState(!1),[v,b]=u.useState(!1),[C,E]=u.useState({title:"",info:"",deadline:"",time:""}),[k,_]=u.useState(null),[Q,F]=u.useState(new Date),[ee,U]=u.useState(null),[O,G]=u.useState(null),Y=u.useRef(null),L=u.useCallback(async()=>{try{const R=await(await fetch(`${te}/calendar/tasks`,{headers:{Authorization:`Bearer ${e}`}})).json();o(R.tasks||[])}catch(N){console.error("Failed to fetch calendar tasks:",N)}},[e]);u.useEffect(()=>{L()},[L]);const ie=u.useMemo(()=>r.filter(N=>!N.completed),[r]),D=u.useMemo(()=>r.filter(N=>N.completed),[r]),A=u.useMemo(()=>[...ie,...a],[ie,a]),K=A.reduce((N,R)=>{const J=R.deadline;return N[J]||(N[J]=[]),N[J].push(R),N},{}),B=kn(new Date),xe=(()=>{const N=[];for(let R=0;R<7;R++){const J=new Date;J.setDate(J.getDate()+R),N.push(kn(J))}return N})(),Ee=A.filter(N=>xe.includes(N.deadline));Ee.sort((N,R)=>{const J=N.deadline.localeCompare(R.deadline);return J!==0?J:(N.time||"").localeCompare(R.time||"")});const{start:P,end:W}=Yk(Q),V=D.filter(N=>{const J=(N.completedAt?new Date(N.completedAt):null)||new Date(N.deadline),de=kn(J);return de>=kn(P)&&de<=kn(W)}),ce=l.filter(N=>{const J=(N.completedAt?new Date(N.completedAt):null)||new Date(N.deadline),de=kn(J);return de>=kn(P)&&de<=kn(W)}),be=[...V,...ce];be.sort((N,R)=>(N.deadline||"").localeCompare(R.deadline||""));const ye=async N=>{var de;if(!(N!=null&&N.length))return;const R=N[0],J=new FormData;J.append("file",R),b(!0);try{const X=await(await fetch(`${te}/calendar/tasks/extract-from-file`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:J})).json();if(X.error){I.error(X.error);return}(de=X.tasks)!=null&&de.length?(o(T=>[...T,...X.tasks]),I.success(`${X.tasks.length} task(s) added to calendar.`)):I.info("No tasks extracted from file.")}catch(me){console.error("Upload error:",me),I.error("Failed to process file.")}finally{b(!1),p(!1)}},Ne=N=>{N.preventDefault(),p(!1),ye(N.dataTransfer.files)},je=async N=>{if(N.source==="google"){try{const R=pt(N);if(!R)throw new Error("Missing Google event id");const J=await fetch(`${te}/google/calendar/events/${encodeURIComponent(R)}?calendarId=primary`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!J.ok&&J.status!==204){const me=await J.json().catch(()=>({})),X=String((me==null?void 0:me.error)||"Failed to delete Google event");if((me==null?void 0:me.error)==="GOOGLE_NOT_CONNECTED"){I.error("Google not connected. Reconnecting"),await $e(!0);return}if(X.includes("insufficient")||X.toLowerCase().includes("permission")||X.includes("Forbidden")){I.error("Google permission missing. Reconnect Google to allow deletes."),await $e(!0);return}throw new Error(X)}const de=new Date().toISOString();i(me=>me.filter(X=>X.id!==N.id)),c(me=>[{...N,completed:!0,completedAt:de,googleDeleted:!0},...me]),I.success("Google event completed (deleted).")}catch(R){console.error("Google complete error:",R),I.error("Failed to complete Google event.")}return}try{const J=await(await fetch(`${te}/calendar/tasks/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...N,completed:!0,completedAt:new Date().toISOString()})})).json();J.task&&(o(de=>de.map(me=>me.id===N.id?J.task:me)),y(null),_(null),I.success("Task completed."))}catch(R){console.error("Complete error:",R),I.error("Failed to complete task.")}},Ue=async N=>{if(N.source==="google"){try{const{start:R,end:J}=Fe(N),de=await fetch(`${te}/google/calendar/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({calendarId:"primary",start:R,end:J,summary:N.title,description:N.info})}),me=await de.json().catch(()=>({}));if(!de.ok){const X=String((me==null?void 0:me.error)||"Failed to create Google event");if((me==null?void 0:me.error)==="GOOGLE_NOT_CONNECTED"){I.error("Google not connected. Reconnecting"),await $e(!0);return}if(X.includes("insufficient")||X.toLowerCase().includes("permission")||X.includes("Forbidden")){I.error("Google permission missing. Reconnect Google to allow restores."),await $e(!0);return}throw new Error(X)}c(X=>X.filter(T=>T.id!==N.id)),await Ce(t),I.success("Google event restored.")}catch(R){console.error("Google undo error:",R),I.error("Failed to restore Google event.")}return}try{const J=await(await fetch(`${te}/calendar/tasks/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...N,completed:!1,completedAt:null})})).json();J.task&&(o(de=>de.map(me=>me.id===N.id?J.task:me)),I.success("Task restored."))}catch(R){console.error("Undo error:",R),I.error("Failed to undo.")}},We=N=>{N.preventDefault(),N.stopPropagation(),p(!0)},Ze=N=>{N.preventDefault(),N.stopPropagation(),p(!1)},Ge=async()=>{var R;if(!C.title.trim()){I.error("Please enter a title.");return}const N=C.deadline||B;try{const de=await(await fetch(`${te}/calendar/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:C.title.trim(),info:C.info.trim(),deadline:N,time:((R=C.time)==null?void 0:R.trim())||null})})).json();de.task&&(o(me=>[...me,de.task]),E({title:"",info:"",deadline:"",time:""}),j(!1),I.success("Task added."))}catch(J){console.error("Add task error:",J),I.error("Failed to add task.")}},ze=async N=>{if(N.source==="google"){I.info("Google Calendar events are read-only.");return}try{await fetch(`${te}/calendar/tasks/${N.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),o(R=>R.filter(J=>J.id!==N.id)),y(null),_(null),I.success("Task deleted.")}catch(R){console.error("Delete task error:",R),I.error("Failed to delete task.")}};function pt(N){var R;return N.googleEventId||((R=N.id)!=null&&R.startsWith("gcal:")?N.id.slice(5):"")}function Fe(N){const R=Intl.DateTimeFormat().resolvedOptions().timeZone;if(N.googleIsAllDay){const Se=Math.max(1,Number(N.googleAllDayDurationDays)||1);return{start:{date:N.deadline},end:{date:cm(N.deadline,Se)}}}const[J,de,me]=String(N.deadline).split("-").map(Se=>Number(Se)),[X,T]=String(N.time||"00:00").split(":").map(Se=>Number(Se)),H=new Date(J,(de||1)-1,me||1,X||0,T||0,0),fe=Math.max(1,Number(N.googleDurationMs)||60*60*1e3),ve=new Date(H.getTime()+fe);return{start:{dateTime:um(H),timeZone:R},end:{dateTime:um(ve),timeZone:R}}}const Qe=async N=>{var T;if(N.googleDeleted){I.info("This Google event was deleted. Undo to restore it.");return}const R=pt(N);if(!R)throw new Error("Missing Google event id");if(!((T=N.title)!=null&&T.trim()))throw new Error("Please enter a title.");const{start:J,end:de}=Fe(N),me=await fetch(`${te}/google/calendar/events/${encodeURIComponent(R)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({calendarId:"primary",start:J,end:de,summary:N.title,description:N.info})}),X=await me.json().catch(()=>({}));if(!me.ok){const H=String((X==null?void 0:X.error)||"Failed to update Google event");if((X==null?void 0:X.error)==="GOOGLE_NOT_CONNECTED"){I.error("Google not connected. Reconnecting"),await $e(!0);return}if(H.includes("insufficient")||H.toLowerCase().includes("permission")||H.includes("Forbidden")){I.error("Google permission missing. Reconnect Google to allow edits."),await $e(!0);return}throw new Error(H)}await Ce(t),I.success("Google event updated.")},qt=u.useCallback(async(N,R)=>{var me;if(!R||N.deadline===R)return;if(N.source==="google"){await Qe({...N,deadline:R});return}const J=await fetch(`${te}/calendar/tasks/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:N.title,info:N.info,deadline:R,time:((me=N.time)==null?void 0:me.trim())||null,completed:!!N.completed,completedAt:N.completed?N.completedAt??new Date().toISOString():null})}),de=await J.json().catch(()=>({}));if(!J.ok||!(de!=null&&de.task))throw new Error(String((de==null?void 0:de.error)||"Failed to move task"));o(X=>X.map(T=>T.id===N.id?de.task:T))},[e,Qe]),He=async()=>{var R;if(!k)return;if(k.source==="google"){try{await Qe(k),y(null),_(null)}catch(J){console.error("Google update error:",J),I.error("Failed to update Google event.")}return}if(!k.title.trim()){I.error("Please enter a title.");return}const N=!!k.completed;try{const de=await(await fetch(`${te}/calendar/tasks/${k.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:k.title.trim(),info:k.info.trim(),deadline:k.deadline,time:((R=k.time)==null?void 0:R.trim())||null,completed:N,completedAt:N?new Date().toISOString():null})})).json();de.task&&(o(me=>me.map(X=>X.id===k.id?de.task:X)),y(null),_(null),I.success(N?"Task completed.":"Task updated."))}catch(J){console.error("Update task error:",J),I.error("Failed to update task.")}},Et=(N,R,J)=>{N.dataTransfer.setData("application/json",JSON.stringify({taskId:R.id})),N.dataTransfer.effectAllowed="move",U(R.id),Y.current=J},bt=()=>{U(null),Y.current=null},Bt=N=>{N.preventDefault();try{const R=N.dataTransfer.getData("application/json");if(!R)return;const{taskId:J}=JSON.parse(R),de=A.find(me=>me.id===J);de&&je(de)}catch{}},mt=(N,R)=>{N.preventDefault(),N.dataTransfer.dropEffect="move",G(R)},Pt=async(N,R)=>{N.preventDefault(),G(null);try{const J=N.dataTransfer.getData("application/json");if(!J)return;const{taskId:de}=JSON.parse(J),me=A.find(X=>X.id===de);if(!me)return;await qt(me,R),I.success("Moved.")}catch(J){console.error("Move error:",J),I.error("Failed to move.")}},vt=N=>{N.preventDefault(),N.dataTransfer.dropEffect="move"},yt=N=>{const R=kn(N);return K[R]||[]},Xe=({task:N,source:R,compact:J=!1})=>s.jsxs("div",{draggable:!0,onDragStart:de=>{Et(de,N,R)},onDragEnd:()=>{bt()},className:Re("flex items-center gap-1 rounded transition-colors",N.source==="google"?"bg-sky-50 text-sky-800 hover:bg-sky-100 cursor-grab active:cursor-grabbing":"bg-teal-50 text-teal-800 hover:bg-teal-100 cursor-grab active:cursor-grabbing",J?"text-[10px] px-1.5 py-1":"text-xs px-2 py-1.5",ee===N.id&&"opacity-50"),onClick:()=>{y(N),_({...N})},children:[s.jsx(Dj,{className:"size-3 shrink-0 opacity-50"}),s.jsxs("span",{className:"truncate flex-1",children:[N.time?`${N.time} `:"",N.title]})]}),$=u.useCallback(N=>{const R=new Date(N.getFullYear(),N.getMonth(),1);R.setHours(0,0,0,0);const J=new Date(N.getFullYear(),N.getMonth()+1,0);return J.setHours(23,59,59,999),{timeMin:R.toISOString(),timeMax:J.toISOString()}},[]),q=u.useCallback(N=>{const R=String(N.getHours()).padStart(2,"0"),J=String(N.getMinutes()).padStart(2,"0");return`${R}:${J}`},[]),se=u.useCallback(N=>{const R=String(N.getFullYear()),J=String(N.getMonth()+1).padStart(2,"0"),de=String(N.getDate()).padStart(2,"0");return`${R}-${J}-${de}`},[]),pe=u.useCallback(N=>Array.isArray(N)?N.map(R=>{const J=R!=null&&R.id?String(R.id):null,de=J?`gcal:${J}`:null,me=String((R==null?void 0:R.summary)||"Google event"),X=(R==null?void 0:R.start)||{},T=(R==null?void 0:R.end)||{},H=X.dateTime||X.date||null,fe=T.dateTime||T.date||null;if(!de||!H)return null;const ve=!!(X.date&&!X.dateTime),Se=new Date(H),Le=fe?new Date(fe):new Date(Se.getTime()+60*60*1e3),Ye=ve?String(X.date):se(Se),Ct=ve?null:q(Se),Tt=Math.max(0,Le.getTime()-Se.getTime()),br=ve?Math.max(1,Math.round((new Date(String(T.date||cm(String(X.date),1))).getTime()-new Date(String(X.date)).getTime())/(24*60*60*1e3))):void 0,_t=[R==null?void 0:R.location,R==null?void 0:R.description].filter(Boolean).map(String);return{id:de,title:me,info:_t.join("  "),deadline:Ye,time:Ct,completed:!1,completedAt:null,source:"google",url:R!=null&&R.htmlLink?String(R.htmlLink):null,googleEventId:J||void 0,googleIsAllDay:ve,googleDurationMs:ve?void 0:Tt,googleAllDayDurationDays:br}}).filter(Boolean):[],[q,se]),De=u.useCallback(async()=>{try{const R=await(await fetch(`${te}/google/status`,{headers:{Authorization:`Bearer ${e}`}})).json(),J=!!(R!=null&&R.connected);return m(J),J}catch{return m(!1),!1}},[e]),Ce=u.useCallback(async N=>{g(!0);try{const{timeMin:R,timeMax:J}=$(N),de=await fetch(`${te}/google/calendar/events?timeMin=${encodeURIComponent(R)}&timeMax=${encodeURIComponent(J)}`,{headers:{Authorization:`Bearer ${e}`}}),me=await de.json();if(!de.ok){if((me==null?void 0:me.error)==="GOOGLE_NOT_CONNECTED"){m(!1),i([]);return}throw new Error((me==null?void 0:me.error)||"Failed to sync")}const X=pe((me==null?void 0:me.events)||[]);i(X),m(!0)}finally{g(!1)}},[e,$,pe]),$e=u.useCallback(async(N=!1)=>{const R=`${te}/google/oauth/url${N?"?force=1":""}`,J=await fetch(R,{headers:{Authorization:`Bearer ${e}`}}),de=await J.json();if(!J.ok||!(de!=null&&de.url))throw new Error((de==null?void 0:de.error)||"Failed to start Google login");window.location.href=String(de.url)},[e]),tt=u.useCallback(async()=>{g(!0);try{if(!await De()){await $e();return}await Ce(t),I.success("Google Calendar synced.")}catch(N){console.error(N),I.error("Google sync failed."),g(!1)}},[t,Ce,De,$e]);return u.useEffect(()=>{const N=new URLSearchParams(window.location.search),R=N.get("google");if(!R)return;N.delete("google");const J=N.toString();if(window.history.replaceState({},"",`${window.location.pathname}${J?`?${J}`:""}${window.location.hash}`),R==="connected"){I.success("Google connected."),m(!0),Ce(t).catch(()=>{});return}R==="error"&&I.error("Google connection failed.")},[t,Ce]),u.useEffect(()=>{De().catch(()=>{})},[De]),u.useEffect(()=>{d&&Ce(t).catch(()=>{})},[t,d,Ce]),s.jsxs("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-hidden",children:[s.jsx("div",{className:"h-full flex flex-col min-w-0",children:s.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-0",children:[s.jsxs("div",{className:"lg:col-span-2 flex flex-col min-h-0 rounded-2xl bg-white shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 shrink-0",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Calendar"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:tt,disabled:f,className:"gap-2",title:d?"Sync Google Calendar":"Connect Google Calendar",children:[s.jsx(qj,{className:Re("size-4",f&&"animate-spin")}),"Google sync"]}),s.jsx(Z,{variant:"outline",size:"icon",className:"size-8",onClick:()=>n(new Date(t.getFullYear(),t.getMonth()-1)),children:s.jsx(Np,{className:"size-4"})}),s.jsx("span",{className:"text-sm font-medium min-w-[120px] text-center",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx(Z,{variant:"outline",size:"icon",className:"size-8",onClick:()=>n(new Date(t.getFullYear(),t.getMonth()+1)),children:s.jsx(Sp,{className:"size-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:s.jsxs("div",{className:"grid grid-cols-7 gap-px",children:[Qk.map(N=>s.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:N},N)),(()=>{const N=t.getFullYear(),R=t.getMonth(),J=new Date(N,R,1),de=new Date(N,R+1,0),me=J.getDay(),X=de.getDate(),T=[];for(let H=0;H<me;H++)T.push(null);for(let H=1;H<=X;H++)T.push(new Date(N,R,H));return T.map((H,fe)=>{if(!H)return s.jsx("div",{className:"min-h-[100px] bg-gray-50/50"},`empty-${fe}`);const ve=kn(H),Se=yt(H),Le=ve===B;return s.jsxs("div",{className:Re("min-h-[100px] p-2 border border-gray-100 rounded-lg flex flex-col",Le&&"bg-teal-50/80 ring-1 ring-teal-200",O===ve&&"ring-2 ring-teal-300 bg-teal-50/40"),onDragOver:Ye=>mt(Ye,ve),onDragLeave:()=>G(null),onDrop:Ye=>Pt(Ye,ve),children:[s.jsx("span",{className:Re("text-sm font-medium mb-2",Le?"text-teal-700":"text-gray-700"),children:H.getDate()}),s.jsxs("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto",children:[Se.slice(0,4).map(Ye=>s.jsx(Xe,{task:Ye,source:"calendar",compact:!0},Ye.id)),Se.length>4&&s.jsxs("span",{className:"text-[9px] text-gray-400",children:["+",Se.length-4]})]})]},ve)})})()]})})]}),s.jsxs("div",{className:"flex flex-col gap-3 min-h-0 overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-3 min-h-0 overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex flex-col min-h-0 rounded-xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100 shrink-0",children:s.jsx("h3",{className:"text-xs font-semibold text-gray-700",children:"Upcoming 7 days"})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-2 space-y-1",children:Ee.length===0?s.jsx("p",{className:"text-[11px] text-gray-400 py-4 text-center",children:"No tasks"}):Ee.map(N=>s.jsx(Xe,{task:N,source:"upcoming"},N.id))})]}),s.jsxs("div",{onDrop:Bt,onDragOver:vt,className:Re("flex-1 flex flex-col min-h-0 rounded-xl border-2 border-dashed overflow-hidden transition-colors",ee?"border-teal-300 bg-teal-50/50":"border-gray-200 bg-white"),children:[s.jsxs("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100 flex items-center justify-between shrink-0",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-700",children:"Completed"}),s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx(Z,{variant:"ghost",size:"icon",className:"size-6",onClick:()=>{const N=new Date(Q);N.setDate(N.getDate()-7),F(N)},children:s.jsx(Np,{className:"size-3"})}),s.jsxs("span",{className:"text-[10px] text-gray-500 min-w-[90px] text-center",children:[P.toLocaleDateString("en-US",{month:"short"})," ",P.getDate()," -"," ",W.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),s.jsx(Z,{variant:"ghost",size:"icon",className:"size-6",onClick:()=>{const N=new Date(Q);N.setDate(N.getDate()+7),F(N)},children:s.jsx(Sp,{className:"size-3"})})]})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-2 space-y-1",children:be.length===0?s.jsx("p",{className:"text-[11px] text-gray-400 py-4 text-center",children:"Drop tasks here or complete via edit"}):be.map(N=>s.jsxs("div",{className:"flex items-center gap-2 group rounded-lg bg-emerald-50 border border-emerald-100 px-2 py-1.5",children:[s.jsx(Ad,{className:"size-3.5 text-emerald-600 shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{y(N),_({...N})},children:[s.jsx("p",{className:"text-[11px] font-medium text-emerald-900 truncate",children:N.title}),s.jsxs("p",{className:"text-[10px] text-emerald-600",children:[N.deadline," ",N.time?` ${N.time}`:""]})]}),s.jsx(Z,{variant:"ghost",size:"sm",className:"size-6 p-0 shrink-0 opacity-70 hover:opacity-100",onClick:()=>Ue(N),title:"Undo",children:s.jsx(nb,{className:"size-3"})})]},N.id))})]})]}),s.jsxs("div",{onDrop:Ne,onDragOver:We,onDragLeave:Ze,className:Re("rounded-xl border-2 border-dashed flex items-center justify-center gap-2 py-3 px-4 transition-colors shrink-0",h?"border-teal-400 bg-teal-50":"border-gray-200 bg-white hover:border-gray-300"),children:[s.jsx("input",{type:"file",id:"calendar-file",className:"hidden",accept:".pdf,.txt,.md,.doc,.docx,image/*",onChange:N=>ye(N.target.files)}),s.jsxs("label",{htmlFor:"calendar-file",className:Re("cursor-pointer flex items-center gap-2 flex-1 justify-center",v&&"pointer-events-none opacity-60"),children:[s.jsx(Qg,{className:"size-4 text-teal-600 shrink-0"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:v?"Processing...":"Upload file"})]})]}),s.jsxs(Z,{onClick:()=>{E({title:"",info:"",deadline:B,time:""}),j(!0)},className:"w-full gap-2 shrink-0",children:[s.jsx(ua,{className:"size-4"}),"Add task"]})]})]})}),s.jsx(An,{open:!!w,onOpenChange:N=>{N||(y(null),_(null))},children:s.jsxs(Mn,{className:"sm:max-w-md",children:[s.jsx(zn,{children:s.jsx(In,{children:k?"Edit task":w==null?void 0:w.title})}),w&&k&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"edit-title",children:"Title"}),s.jsx(Pe,{id:"edit-title",value:k.title,onChange:N=>_(R=>R&&{...R,title:N.target.value}),placeholder:"Task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"edit-deadline",children:"Deadline"}),s.jsx(Pe,{id:"edit-deadline",type:"date",value:k.deadline,onChange:N=>_(R=>R&&{...R,deadline:N.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"edit-time",children:"Time (optional)"}),s.jsx(Pe,{id:"edit-time",type:"time",value:k.time||"",disabled:!!(k.source==="google"&&k.googleIsAllDay),onChange:N=>_(R=>R&&{...R,time:N.target.value||null})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"edit-info",children:"Details"}),s.jsx(Pe,{id:"edit-info",value:k.info||"",onChange:N=>_(R=>R&&{...R,info:N.target.value}),placeholder:"Description (optional)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kg,{id:"edit-completed",checked:!!k.completed,disabled:k.source==="google",onCheckedChange:N=>_(R=>R&&{...R,completed:!!N})}),s.jsx(we,{htmlFor:"edit-completed",className:"text-sm font-medium cursor-pointer",children:"Mark as completed"})]}),s.jsxs("div",{className:"flex justify-between gap-2 pt-4",children:[s.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>ze(w),className:"gap-1",disabled:w.source==="google",children:[s.jsx(ul,{className:"size-4"}),"Delete"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>y(null),children:"Close"}),s.jsxs(Z,{onClick:He,className:"gap-1",children:[s.jsx(Md,{className:"size-4"}),"Save"]})]})]})]})]})}),s.jsx(An,{open:x,onOpenChange:j,children:s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Add task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"task-title",children:"Title"}),s.jsx(Pe,{id:"task-title",value:C.title,onChange:N=>E(R=>({...R,title:N.target.value})),placeholder:"Task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"task-deadline",children:"Deadline"}),s.jsx(Pe,{id:"task-deadline",type:"date",value:C.deadline,onChange:N=>E(R=>({...R,deadline:N.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"task-time",children:"Time (optional)"}),s.jsx(Pe,{id:"task-time",type:"time",value:C.time,onChange:N=>E(R=>({...R,time:N.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(we,{htmlFor:"task-info",children:"Details"}),s.jsx(Pe,{id:"task-info",value:C.info,onChange:N=>E(R=>({...R,info:N.target.value})),placeholder:"Description (optional)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Z,{variant:"ghost",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Z,{onClick:Ge,children:"Add"})]})]})]})})]})}const dm=({...e})=>{const{theme:t="system"}=Yw();return s.jsx(aC,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},Zk=({className:e})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[s.jsx("circle",{cx:"5",cy:"4",r:"1.5"}),s.jsx("path",{d:"M3 8c0-1.1.9-2 2-2s2 .9 2 2v1H3V8z"}),s.jsx("circle",{cx:"12",cy:"3",r:"1.5"}),s.jsx("path",{d:"M10 7c0-1.1.9-2 2-2s2 .9 2 2v1h-4V7z"}),s.jsx("circle",{cx:"19",cy:"4",r:"1.5"}),s.jsx("path",{d:"M17 8c0-1.1.9-2 2-2s2 .9 2 2v1h-4V8z"}),s.jsx("path",{d:"M4 12h7c.6 0 1 .4 1 1v8c0-.6-.4-1-1-1H4V12z"}),s.jsx("path",{d:"M20 12h-7c-.6 0-1 .4-1 1v8c0-.6.4-1 1-1h7V12z"}),s.jsx("path",{d:"M12 12v9",strokeWidth:"0.5",stroke:"currentColor"})]}),vy=["dashboard","study-groups","solo-study","friends","calendar","settings"];function fm(){const e=window.location.hash.slice(1);return e.startsWith("room-")?"room":e.startsWith("meeting-")?"meeting":vy.includes(e)?e:"dashboard"}function pm(){const e=window.location.hash.slice(1);return e.startsWith("room-")?e.slice(5):null}function Xk(){const e=window.location.hash.slice(1);return e.startsWith("meeting-")?e.slice(8):null}function Jk(){const[e,t]=u.useState("login"),[n,r]=u.useState(null),[o,a]=u.useState(null),[i,l]=u.useState(!1),[c,d]=u.useState(null),[m,f]=u.useState(!1),[g,w]=u.useState(null),[y,x]=u.useState([]),[j,h]=u.useState(!1),[p,v]=u.useState(null),[b,C]=u.useState(null),[E,k]=u.useState(null),[_,Q]=u.useState([]),[F,ee]=u.useState(null),[U,O]=u.useState(""),[G,Y]=u.useState(!1),[L,ie]=u.useState({}),[D,A]=u.useState(!1),[K,B]=u.useState(!1),[le,xe]=u.useState([]),[Ee,P]=u.useState({}),[W,V]=u.useState(0),ce=u.useRef(null),be=u.useRef([]),ye=u.useRef(null),Ne=u.useRef(!1),je=u.useRef(null),Ue=u.useRef(!0),[We,Ze]=u.useState(null),[Ge,ze]=u.useState(!1),[pt,Fe]=u.useState(!1),[Qe,qt]=u.useState(null),[He,Et]=u.useState({x:24,y:24}),[bt,Bt]=u.useState({width:360,height:280}),mt=u.useRef({isDragging:!1,startX:0,startY:0,startLeft:0,startTop:0}),Pt=u.useRef({isResizing:!1,startX:0,startY:0,startW:0,startH:0}),vt=u.useRef(null),yt=u.useRef(null),Xe=u.useRef(null),[$,q]=u.useState([]),se=u.useRef(new Set);u.useEffect(()=>{Se()},[]),u.useEffect(()=>{n&&e==="profile"&&Tt()},[n,e]),u.useEffect(()=>{if(!n)return;const z=()=>{const ae=fm(),he=ae==="room"?pm():null,_e=ae==="meeting"?Xk():null;t(ae),w(he),Ze(_e),ae==="room"&&he&&k(he)};return z(),window.addEventListener("hashchange",z),()=>window.removeEventListener("hashchange",z)},[n]);const pe=z=>{z==="room"||z==="meeting"||(vy.includes(z)&&(window.location.hash=z),t(z),w(null),Ze(null))},De=z=>{window.location.hash=`room-${z}`,t("room"),w(z),k(z)},Ce=z=>{window.location.hash=`meeting-${z}`,t("meeting"),Ze(z)},$e=z=>{z&&(qt(z),Fe(!0))},tt=(z,ae)=>{yt.current=z,Xe.current=ae??We,ze(!0);const he=z;typeof(he==null?void 0:he.on)=="function"&&he.on("connection-change",_e=>{(_e==null?void 0:_e.state)==="Closed"&&(yt.current=null,Xe.current=null,ze(!1))})},N=async()=>{var z;try{const ae=yt.current;ae!=null&&ae.leaveMeeting&&await ae.leaveMeeting({confirm:!1});const he=(await nu(async()=>{const{default:_e}=await import("./embedded-CU9eXjEM.js").then(Rt=>Rt.e);return{default:_e}},[])).default;(z=he.destroyClient)==null||z.call(he)}catch{}finally{yt.current=null,Xe.current=null,ze(!1),e==="meeting"&&pe("dashboard")}},R=24,J=280,de=200,me=720,X=560;u.useEffect(()=>{Ge&&e!=="meeting"&&Et({x:window.innerWidth-bt.width-R,y:window.innerHeight-bt.height-R})},[Ge,e]);const T=z=>{z.target.closest("button")||z.target.closest("[data-resize-handle]")||(mt.current={isDragging:!0,startX:z.clientX,startY:z.clientY,startLeft:He.x,startTop:He.y})},H=z=>{z.preventDefault(),z.stopPropagation(),Pt.current={isResizing:!0,startX:z.clientX,startY:z.clientY,startW:bt.width,startH:bt.height}};u.useEffect(()=>{if(!Ge)return;const z=he=>{if(Pt.current.isResizing){const qe=he.clientX-Pt.current.startX,Te=he.clientY-Pt.current.startY;Bt({width:Math.min(me,Math.max(J,Pt.current.startW+qe)),height:Math.min(X,Math.max(de,Pt.current.startH+Te))});return}if(!mt.current.isDragging)return;const _e=he.clientX-mt.current.startX,Rt=he.clientY-mt.current.startY;Et({x:Math.max(0,mt.current.startLeft+_e),y:Math.max(0,mt.current.startTop+Rt)})},ae=()=>{mt.current.isDragging=!1,Pt.current.isResizing=!1};return window.addEventListener("mousemove",z),window.addEventListener("mouseup",ae),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",ae)}},[Ge]);const fe=bt.width,ve=bt.height,Se=async()=>{const z=localStorage.getItem("accessToken");if(z)try{const he=await(await fetch(`${te}/auth/session`,{headers:{Authorization:`Bearer ${z}`}})).json();if(he.user){r(z),a(he.user);const _e=fm();t(_e),w(_e==="room"?pm():null)}else localStorage.removeItem("accessToken")}catch(ae){console.error("Session check failed:",ae),localStorage.removeItem("accessToken")}else t("login");f(!0)},Le=async(z,ae)=>{try{const _e=await(await fetch(`${te}/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:z,password:ae})})).json();if(_e.error){I.error(_e.error);return}_e.accessToken&&_e.user&&(r(_e.accessToken),a(_e.user),localStorage.setItem("accessToken",_e.accessToken),pe("dashboard"),I.success("Welcome back!"))}catch(he){console.error("Login error:",he),I.error("Login failed. Please try again.")}},Ye=async z=>{try{const he=await(await fetch(`${te}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)})).json();if(he.error){I.error(he.error);return}he.success&&(I.success("Account created! Please log in."),t("login"))}catch(ae){console.error("Registration error:",ae),I.error("Registration failed. Please try again.")}},Ct=()=>{localStorage.removeItem("accessToken"),r(null),a(null),t("login")},Tt=async()=>{try{const ae=await(await fetch(`${te}/settings`,{headers:{Authorization:`Bearer ${n}`}})).json();ae.settings&&a(he=>he&&{...he,...ae.settings})}catch(z){console.error("Failed to load profile:",z)}},br=(z,ae)=>z.trim().split(" ").map(_e=>_e[0]).join("").slice(0,2).toUpperCase(),_t=async()=>{try{if(!n)return;const z=await fetch(`${te}/ai/sessions`,{headers:{Authorization:`Bearer ${n}`}});if(z.ok){const ae=await z.json();x(ae.sessions||[])}}catch(z){console.error("Failed to load AI study sessions:",z)}},rr=()=>{v(null),pe("solo-study")},ya=z=>{if(!z.lastActivityAt)return{label:"Inactive",isOnline:!1};const ae=new Date(z.lastActivityAt).getTime();return Number.isNaN(ae)?{label:"Inactive",isOnline:!1}:Math.floor((Date.now()-ae)/1e3)<300?{label:"Online",isOnline:!0}:{label:"Offline",isOnline:!1}},ss=z=>L[z]||[],wa=(z,ae)=>{ie(he=>{const _e=he[z]||[];if(ae.clientId){const Rt=_e.findIndex(qe=>qe.clientId===ae.clientId);if(Rt!==-1){const qe=[..._e];return qe[Rt]={...ae,pending:!1},{...he,[z]:qe}}}return{...he,[z]:[..._e,ae]}})},ja=async z=>{Y(!0);try{const he=await(await fetch(`${te}/dm/${z.id}`,{headers:{Authorization:`Bearer ${n}`}})).json();ie(_e=>({..._e,[z.id]:Array.isArray(he.messages)?he.messages:[]}))}catch(ae){console.error("Failed to fetch chat history:",ae)}finally{Y(!1)}},ba=z=>{ee(z),B(!0),xe(ae=>[z,...ae.filter(_e=>_e.id!==z.id)].slice(0,3)),P(ae=>({...ae,[z.id]:!1})),ja(z)},bl=()=>{F&&(xe(z=>z.filter(ae=>ae.id!==F.id)),P(z=>({...z,[F.id]:!1}))),B(!1),ee(null),O("")},Na=()=>{if(!F||!U.trim()||!ce.current||!D||!(o!=null&&o.id))return;const z=crypto.randomUUID(),ae=U.trim(),he={id:z,clientId:z,senderId:o.id,recipientId:F.id,content:ae,createdAt:new Date().toISOString(),pending:!0};wa(F.id,he),ce.current.send(JSON.stringify({type:"chat:send",recipientId:F.id,content:ae,clientId:z})),O("")},Sa=z=>{v(z),h(!1),pe("solo-study")},os=async()=>{if(n)try{const ae=await(await fetch(`${te}/friends/requests`,{headers:{Authorization:`Bearer ${n}`}})).json(),he=Array.isArray(ae.requests)?ae.requests:[];V(he.length)}catch(z){console.error("Failed to fetch friend requests:",z)}},Nl=async(z,ae)=>{if(ae.stopPropagation(),!!confirm("Are you sure you want to delete this study session?")){C(z);try{const he=await fetch(`${te}/ai/sessions/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(he.ok)I.success("Session deleted successfully"),await _t(),p===z&&(v(null),e==="solo-study"&&(t("dashboard"),setTimeout(()=>pe("solo-study"),50)));else{const _e=await he.json();I.error(_e.error||"Failed to delete session")}}catch(he){console.error("Failed to delete session:",he),I.error("Failed to delete session")}finally{C(null)}}};u.useEffect(()=>{n&&_t()},[n]);const yo=async(z,ae,he,_e)=>{try{const qe=await(await fetch(`${te}/study-groups/${z}/manage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({applicantId:ae,action:he})})).json();qe.success?I.success(he==="accept"?" Applicant accepted":" Applicant rejected",{id:_e,duration:3e3,action:void 0,cancel:void 0}):I.error(qe.error||"Action failed",{id:_e,duration:3e3,action:void 0,cancel:void 0})}catch(Rt){console.error("Failed to manage applicant:",Rt),I.error("Action failed",{id:_e,duration:3e3,action:void 0,cancel:void 0})}};if(u.useEffect(()=>{if(!n||!(o!=null&&o.id))return;const z=async()=>{try{const Rt=(await(await fetch(`${te}/study-groups`)).json()).groups||[];$.length>0&&Rt.forEach(qe=>{var Mt,Nt,sr;if(qe.hostId===o.id){const Hn=$.find(Sn=>Sn.id===qe.id);if(Hn){const Sn=Hn.applicants||[];(qe.applicants||[]).filter(re=>!Sn.includes(re)).forEach(re=>{var ke;const ue=`${qe.id}-${re}`;if(!se.current.has(ue)){se.current.add(ue);const Je=(ke=qe.applicantsWithNames)==null?void 0:ke.find(Jt=>Jt.id===re),wt=(Je==null?void 0:Je.username)||`User ${re.slice(0,8)}`,ln=I.info(` ${wt} wants to join "${qe.topic}"`,{duration:1/0,action:{label:"Accept",onClick:()=>yo(qe.id,re,"accept",ln)},cancel:{label:"Reject",onClick:()=>yo(qe.id,re,"reject",ln)}})}})}}const Te=$.find(Hn=>Hn.id===qe.id);if(Te){const Hn=(Mt=Te.applicants)==null?void 0:Mt.includes(o.id),Sn=(Nt=qe.applicants)==null?void 0:Nt.includes(o.id),S=(sr=qe.participants)==null?void 0:sr.includes(o.id);if(Hn&&!Sn){const M=`applicant-result-${qe.id}`;se.current.has(M)||(se.current.add(M),S?I.success(` You've been accepted to "${qe.topic}"!`,{duration:5e3}):I.error(` Your application to "${qe.topic}" was rejected`,{duration:5e3}))}}}),q(Rt)}catch(he){console.error("Failed to check for new applicants:",he)}};z();const ae=setInterval(z,5e3);return()=>clearInterval(ae)},[n,o==null?void 0:o.id,$]),u.useEffect(()=>{if(!n)return;(async()=>{try{const he=await(await fetch(`${te}/friends`,{headers:{Authorization:`Bearer ${n}`}})).json();Q(he.friends||[])}catch(ae){console.error("Failed to fetch friends:",ae)}})()},[n]),u.useEffect(()=>{if(!n)return;os();const z=setInterval(os,1e4);return()=>clearInterval(z)},[n]),u.useEffect(()=>{be.current=_},[_]),u.useEffect(()=>{ye.current=F},[F]),u.useEffect(()=>{Ne.current=K},[K]),u.useEffect(()=>{if(!n||!(o!=null&&o.id))return;const z=new WebSocket(`${te.replace(/^http/,"ws")}/ws?token=${encodeURIComponent(n)}`);return ce.current=z,A(!1),z.onopen=()=>{A(!0)},z.onclose=()=>{A(!1)},z.onmessage=ae=>{var he,_e,Rt,qe;try{const Te=JSON.parse(ae.data);if((Te==null?void 0:Te.type)==="chat:message"&&(Te!=null&&Te.message)){const Mt=Te.message,Nt=Mt.senderId===o.id?Mt.recipientId:Mt.senderId;if(wa(Nt,Mt),Mt.senderId!==o.id){const sr=(he=ye.current)==null?void 0:he.id;if(!Ne.current||sr!==Nt){const Sn=be.current.find(S=>S.id===Nt)||ye.current||{id:Nt,username:"Friend",email:"",category:"",lastActivityAt:null,profileImageUrl:""};xe(S=>[Sn,...S.filter(re=>re.id!==Nt)].slice(0,3)),P(S=>({...S,[Nt]:!0}))}}return}if((Te==null?void 0:Te.type)==="friend:request"){const Mt=((Rt=(_e=Te==null?void 0:Te.request)==null?void 0:_e.requester)==null?void 0:Rt.username)||"Someone";I.info(`${Mt} sent you a friend request.`),V(Nt=>Nt+1);return}if((Te==null?void 0:Te.type)==="friend:request:accepted"){const Mt=((qe=Te==null?void 0:Te.friend)==null?void 0:qe.username)||"Your friend";I.success(`${Mt} accepted your request.`),fetch(`${te}/friends`,{headers:{Authorization:`Bearer ${n}`}}).then(Nt=>Nt.json()).then(Nt=>Q(Nt.friends||[])).catch(()=>{});return}if((Te==null?void 0:Te.type)==="friend:request:rejected"){I.error("Your friend request was rejected.");return}if((Te==null?void 0:Te.type)==="chat:error"){const Mt=String((Te==null?void 0:Te.recipientId)||""),Nt=Te!=null&&Te.clientId?String(Te.clientId):"";Mt&&Nt&&ie(sr=>{const Sn=(sr[Mt]||[]).filter(S=>S.clientId!==Nt);return{...sr,[Mt]:Sn}}),I.error((Te==null?void 0:Te.message)||"Unable to send message.");return}}catch(Te){console.error("Failed to parse chat message:",Te)}},()=>{z.close(),ce.current=null}},[n,o==null?void 0:o.id]),u.useEffect(()=>{if(!F||!K)return;const z=je.current;z&&Ue.current&&(z.scrollTop=z.scrollHeight)},[L,F,K]),!m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f5f7]",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(iu,{className:"size-10 text-teal-600 animate-pulse"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})});if(!n)return s.jsxs(s.Fragment,{children:[e==="login"?s.jsx(ub,{onLogin:Le,onNavigateToRegister:()=>t("register")}):s.jsx(j2,{onRegister:Ye,onNavigateToLogin:()=>t("login")}),s.jsx(dm,{})]});const Sl=Object.values(Ee).filter(Boolean).length,wo=W+Sl;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#eaf5ff] via-[#f7f9ff] to-[#fde9f1] flex",children:[s.jsxs("aside",{className:"fixed left-6 top-6 bottom-6 w-20 bg-white/90 backdrop-blur rounded-[32px] shadow-xl flex flex-col items-center py-8",children:[s.jsx("div",{className:"size-12 rounded-2xl bg-[#e9f6ff] flex items-center justify-center",children:s.jsx(iu,{className:"size-6 text-gray-800"})}),s.jsxs("nav",{className:"mt-10 flex flex-col items-center gap-5 flex-1",children:[s.jsx("button",{onClick:()=>pe("dashboard"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="dashboard"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Home",children:s.jsx(Mj,{className:"size-5"})}),s.jsx("button",{onClick:()=>pe("study-groups"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="study-groups"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Study groups",children:s.jsx(Zk,{className:"size-5"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onMouseEnter:()=>{h(!0),_t()},onClick:rr,className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="solo-study"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"AI study",children:s.jsx(Rn,{className:"size-5"})}),j&&y.length>0&&s.jsx("div",{className:"absolute left-16 top-1/2 -translate-y-1/2 w-44 space-y-0.5 overflow-hidden rounded-xl bg-white shadow-lg p-2",onMouseLeave:()=>h(!1),style:{animation:"slideDown 0.2s ease-out"},children:y.map((z,ae)=>s.jsxs("div",{className:"relative group",style:{animation:`fadeInSlide 0.3s ease-out ${ae*.05}s forwards`,opacity:0},children:[s.jsxs("button",{onClick:()=>Sa(z.id),className:"w-full text-left px-3 py-2 pr-8 rounded-md hover:bg-gray-50 transition-all duration-150 text-xs",children:[s.jsx("p",{className:"font-medium text-gray-700 truncate",children:z.name.replace("Study Session - ","")}),s.jsxs("p",{className:"text-gray-500 mt-0.5",children:[z.fileCount,"f  ",z.messageCount,"m"]})]}),s.jsx("button",{onClick:he=>Nl(z.id,he),disabled:b===z.id,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-red-100 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete session",children:b===z.id?s.jsx("div",{className:"size-3.5 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):s.jsx(ul,{className:"size-3.5 text-red-600"})})]},z.id))})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>pe("friends"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="friends"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Friends",children:s.jsx(lu,{className:"size-5"})}),wo>0?s.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full bg-rose-500 text-white text-[10px] font-semibold flex items-center justify-center",children:wo>99?"99+":wo}):null]}),s.jsx("button",{onClick:()=>pe("calendar"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="calendar"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Calendar",children:s.jsx(lj,{className:"size-5"})})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("button",{onClick:()=>t("profile"),className:"size-12 rounded-full bg-white text-gray-600 hover:bg-gray-100 flex items-center justify-center",title:"Profile",children:s.jsx(Nj,{className:"size-5"})}),s.jsx("button",{onClick:()=>pe("settings"),className:`size-10 rounded-full flex items-center justify-center transition-colors ${e==="settings"?"bg-black text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,title:"Settings",children:s.jsx(Zj,{className:"size-4"})}),s.jsx("button",{onClick:Ct,className:"size-10 rounded-full flex items-center justify-center bg-white text-gray-400 hover:bg-gray-100",title:"Log out",children:s.jsx(Oj,{className:"size-4"})})]})]}),s.jsxs("div",{className:"flex-1 pl-32 pr-8 py-8",children:[i&&s.jsx("div",{className:"bg-amber-500 text-white py-2 px-6 text-center text-xs font-medium rounded-full mb-4",children:" PROTOTYPE MODE"}),s.jsxs("main",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("h1",{className:"text-3xl font-semibold text-gray-900",children:["Hi ",(o==null?void 0:o.username)||(o==null?void 0:o.email)||"there",","]})}),e==="dashboard"&&s.jsx(yC,{accessToken:n,onOpenChat:ba,onViewFriend:z=>{d(z),t("friend-detail")}}),e==="study-groups"&&s.jsx(jC,{accessToken:n,userId:(o==null?void 0:o.id)||"",currentUserUsername:o==null?void 0:o.username,roomUserIsIn:E,onJoinRoom:De,onJoinMeeting:$e}),e==="room"&&g&&s.jsx(qk,{groupId:g,accessToken:n,currentUserId:(o==null?void 0:o.id)||"",onBack:()=>pe("study-groups"),onLeaveRoom:()=>k(null),onJoinMeeting:$e}),e==="meeting"&&We&&s.jsx(lm,{meetingId:We,accessToken:n,userName:(o==null?void 0:o.username)||(o==null?void 0:o.email)||"Guest",onBack:()=>pe("dashboard"),zoomContainerRef:vt,onMeetingJoined:tt}),e==="solo-study"&&s.jsx(UC,{initialSessionId:p,onSessionsChange:_t}),e==="friends"&&s.jsx(WC,{accessToken:n,onRequestsUpdated:os,onViewFriend:z=>{d(z),t("friend-detail")}}),e==="calendar"&&s.jsx(Kk,{accessToken:n}),e==="settings"&&s.jsx(gk,{accessToken:n,onProfileUpdate:z=>a(ae=>ae&&{...ae,...z})}),e==="profile"&&o&&s.jsx(xk,{accessToken:n,user:o}),e==="friend-detail"&&c&&s.jsx(HC,{accessToken:n,friend:c,onBack:()=>t("friends")})]}),!K&&le.length>0&&s.jsx("div",{className:"fixed bottom-6 right-6 z-40 flex items-center gap-2",children:le.map(z=>{const ae=_.find(qe=>qe.id===z.id)||z,he=ya(ae).isOnline,Rt=!!Ee[z.id]?"ring-2 ring-emerald-400 animate-pulse":he?"ring-2 ring-emerald-200":"";return s.jsx("button",{className:`size-12 rounded-full bg-white shadow-[0_20px_40px_rgba(15,23,42,0.18)] flex items-center justify-center hover:scale-[1.02] transition ${Rt}`,onClick:()=>ba(ae),title:ae.username||ae.email||"Chat",children:s.jsxs(Hi,{className:"size-10",children:[ae.profileImageUrl?s.jsx(Vi,{src:ae.profileImageUrl,alt:ae.username||"Friend"}):null,s.jsx(Gi,{className:"bg-gray-100 text-gray-600 text-xs font-semibold",children:br(ae.username||ae.email||"F")})]})},z.id)})}),s.jsx(An,{open:pt,onOpenChange:z=>{Fe(z),z||qt(null)},children:s.jsxs(Mn,{className:"sm:max-w-5xl max-w-[calc(100%-2rem)] p-0 max-h-[90vh] overflow-auto",children:[s.jsx(zn,{className:"px-6 pt-6",children:s.jsx(In,{children:"Join Zoom meeting"})}),s.jsx("div",{className:"px-6 pb-6",children:Qe?s.jsx(lm,{meetingId:Qe,accessToken:n,userName:(o==null?void 0:o.username)||(o==null?void 0:o.email)||"Guest",onBack:()=>Fe(!1),zoomContainerRef:vt,onMeetingJoined:z=>{Ze(Qe),tt(z,Qe),Fe(!1)}}):s.jsx("div",{className:"py-10 text-center text-sm text-gray-500",children:"Missing meeting id."})})]})}),F&&K&&s.jsxs("div",{className:"fixed bottom-6 right-6 z-40 w-[360px] h-[480px] rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.18)] bg-white/95 border border-white/70 backdrop-blur",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:F?F.username||F.email||"Friend":"Chat"}),s.jsxs("p",{className:"text-[10px] text-gray-400",children:[D?"Connected":"Connecting...",G?"  Loading history...":""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-[10px] text-gray-400 hover:text-gray-600",onClick:()=>B(!1),children:"Close"}),s.jsx("button",{className:"text-[10px] text-gray-400 hover:text-gray-600",onClick:bl,children:"End"})]})]}),s.jsx("div",{ref:je,className:"h-[320px] overflow-y-auto px-4 py-3 space-y-3",onScroll:z=>{const ae=z.currentTarget,he=ae.scrollHeight-ae.scrollTop-ae.clientHeight;Ue.current=he<32},children:F?ss(F.id).length?ss(F.id).map(z=>{const ae=z.senderId===(o==null?void 0:o.id);return s.jsx("div",{className:`flex ${ae?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[75%] rounded-2xl px-3 py-2 text-xs ${ae?"bg-emerald-500 text-white":"bg-gray-100 text-gray-700"} ${z.pending?"opacity-70":""}`,children:[s.jsx("p",{className:"whitespace-pre-wrap",children:z.content}),s.jsx("p",{className:"mt-1 text-[10px] opacity-70",children:new Date(z.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})},z.id)}):s.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-400",children:"No messages yet. Say hi!"}):null}),s.jsxs("div",{className:"p-3 border-t border-gray-100 flex items-center gap-2",children:[s.jsx(Pe,{placeholder:"Type a message...",value:U,onChange:z=>O(z.target.value),onKeyDown:z=>{z.key==="Enter"&&(z.preventDefault(),Na())}}),s.jsx(Z,{onClick:Na,disabled:!U.trim()||!D,children:"Send"})]})]}),s.jsxs("div",{ref:vt,className:`bg-[#1a1a1a] rounded-xl overflow-hidden border border-gray-200 z-50 ${Ge?e==="meeting"?"fixed left-32 right-8 top-6 bottom-6 shadow-xl":"fixed shadow-2xl":e==="meeting"?"fixed left-32 right-8 top-6 bottom-6 opacity-0 pointer-events-none":"fixed right-6 bottom-6 w-0 h-0 overflow-hidden opacity-0 pointer-events-none"}`,style:Ge&&e!=="meeting"?{left:He.x,top:He.y,width:fe,height:ve}:void 0,children:[Ge&&e!=="meeting"&&s.jsx("div",{"data-resize-handle":!0,className:"absolute right-0 bottom-0 w-4 h-4 cursor-nwse-resize resize-handle z-20",onMouseDown:H,role:"presentation","aria-label":"Resize",children:s.jsx("svg",{className:"absolute right-1 bottom-1 w-3 h-3 text-white/50",viewBox:"0 0 16 16",fill:"currentColor",children:s.jsx("path",{d:"M15 15H9v-2h4V9h2v6zM7 15H1V9h2v4h4v2zM15 7V1H9v2h4v4h2zM7 1v2H3v4H1V1h6z"})})}),Ge&&e==="meeting"&&s.jsx("div",{className:"absolute top-0 left-0 right-0 h-10 bg-black/60 flex items-center justify-end px-3 z-10",children:s.jsx("button",{type:"button",onClick:N,className:"text-red-400 hover:text-red-300 text-sm font-medium px-3 py-1.5 rounded bg-red-500/20 hover:bg-red-500/30",children:"Leave"})}),Ge&&e!=="meeting"&&s.jsxs("div",{className:"absolute top-0 left-0 right-0 h-10 bg-black/60 flex items-center justify-between gap-2 px-3 z-10 cursor-grab active:cursor-grabbing select-none",onMouseDown:T,role:"presentation",children:[s.jsx("span",{className:"text-white text-sm font-medium truncate",children:"Meeting in progress"}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx("button",{type:"button",onClick:()=>Xe.current&&Ce(Xe.current),className:"text-white/90 hover:text-white text-xs font-medium px-2 py-1 rounded bg-white/10 hover:bg-white/20",children:"Return to meeting"}),s.jsx("button",{type:"button",onClick:N,className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"Leave"})]})]})]})]}),s.jsx(dm,{})]})}cc.createRoot(document.getElementById("root")).render(s.jsx(oe.StrictMode,{children:s.jsx(Kw,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:s.jsx(Jk,{})})}));export{po as a,tE as c,Ru as g,u as r};
