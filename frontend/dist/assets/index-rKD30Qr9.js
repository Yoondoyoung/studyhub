function y0(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Du(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mm={exports:{}},qi={},hm={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fa=Symbol.for("react.element"),w0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),k0=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),P0=Symbol.for("react.memo"),T0=Symbol.for("react.lazy"),of=Symbol.iterator;function _0(e){return e===null||typeof e!="object"?null:(e=of&&e[of]||e["@@iterator"],typeof e=="function"?e:null)}var gm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,vm={};function co(e,t,n){this.props=e,this.context=t,this.refs=vm,this.updater=n||gm}co.prototype.isReactComponent={};co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ym(){}ym.prototype=co.prototype;function Ru(e,t,n){this.props=e,this.context=t,this.refs=vm,this.updater=n||gm}var Au=Ru.prototype=new ym;Au.constructor=Ru;xm(Au,co.prototype);Au.isPureReactComponent=!0;var af=Array.isArray,wm=Object.prototype.hasOwnProperty,Mu={current:null},jm={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,n){var r,o={},a=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)wm.call(t,r)&&!jm.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:fa,type:e,key:a,ref:i,props:o,_owner:Mu.current}}function D0(e,t){return{$$typeof:fa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zu(e){return typeof e=="object"&&e!==null&&e.$$typeof===fa}function R0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var lf=/\/+/g;function Cl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?R0(""+e.key):t.toString(36)}function Ka(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case fa:case w0:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Cl(i,0):r,af(o)?(n="",e!=null&&(n=e.replace(lf,"$&/")+"/"),Ka(o,t,n,"",function(d){return d})):o!=null&&(zu(o)&&(o=D0(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(lf,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",af(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Cl(a,l);i+=Ka(a,t,n,c,o)}else if(c=_0(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Cl(a,l++),i+=Ka(a,t,n,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ca(e,t,n){if(e==null)return e;var r=[],o=0;return Ka(e,r,"","",function(a){return t.call(n,a,o++)}),r}function A0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kt={current:null},Za={transition:null},M0={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Za,ReactCurrentOwner:Mu};function Sm(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Ca,forEach:function(e,t,n){Ca(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!zu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=co;Le.Fragment=j0;Le.Profiler=S0;Le.PureComponent=Ru;Le.StrictMode=b0;Le.Suspense=E0;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M0;Le.act=Sm;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xm({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Mu.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wm.call(t,c)&&!jm.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:fa,type:e.type,key:o,ref:a,props:r,_owner:i}};Le.createContext=function(e){return e={$$typeof:C0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:N0,_context:e},e.Consumer=e};Le.createElement=bm;Le.createFactory=function(e){var t=bm.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:k0,render:e}};Le.isValidElement=zu;Le.lazy=function(e){return{$$typeof:T0,_payload:{_status:-1,_result:e},_init:A0}};Le.memo=function(e,t){return{$$typeof:P0,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Za.transition;Za.transition={};try{e()}finally{Za.transition=t}};Le.unstable_act=Sm;Le.useCallback=function(e,t){return Kt.current.useCallback(e,t)};Le.useContext=function(e){return Kt.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return Kt.current.useDeferredValue(e)};Le.useEffect=function(e,t){return Kt.current.useEffect(e,t)};Le.useId=function(){return Kt.current.useId()};Le.useImperativeHandle=function(e,t,n){return Kt.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return Kt.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return Kt.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return Kt.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return Kt.current.useReducer(e,t,n)};Le.useRef=function(e){return Kt.current.useRef(e)};Le.useState=function(e){return Kt.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return Kt.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return Kt.current.useTransition()};Le.version="18.3.1";hm.exports=Le;var u=hm.exports;const ne=Du(u),z0=y0({__proto__:null,default:ne},[u]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=u,O0=Symbol.for("react.element"),F0=Symbol.for("react.fragment"),$0=Object.prototype.hasOwnProperty,L0=I0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B0={key:!0,ref:!0,__self:!0,__source:!0};function Nm(e,t,n){var r,o={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)$0.call(t,r)&&!B0.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:O0,type:e,key:a,ref:i,props:o,_owner:L0.current}}qi.Fragment=F0;qi.jsx=Nm;qi.jsxs=Nm;mm.exports=qi;var s=mm.exports,cc={},Cm={exports:{}},gn={},km={exports:{}},Em={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,P){var I=b.length;b.push(P);e:for(;0<I;){var O=I-1>>>1,oe=b[O];if(0<o(oe,P))b[O]=P,b[I]=oe,I=O;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var P=b[0],I=b.pop();if(I!==P){b[0]=I;e:for(var O=0,oe=b.length,pe=oe>>>1;O<pe;){var we=2*(O+1)-1,je=b[we],me=we+1,ae=b[me];if(0>o(je,I))me<oe&&0>o(ae,je)?(b[O]=ae,b[me]=I,O=me):(b[O]=je,b[we]=I,O=we);else if(me<oe&&0>o(ae,I))b[O]=ae,b[me]=I,O=me;else break e}}return P}function o(b,P){var I=b.sortIndex-P.sortIndex;return I!==0?I:b.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],d=[],m=1,f=null,g=3,w=!1,y=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var P=n(d);P!==null;){if(P.callback===null)r(d);else if(P.startTime<=b)r(d),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(d)}}function S(b){if(x=!1,v(b),!y)if(n(c)!==null)y=!0,L(k);else{var P=n(d);P!==null&&se(S,P.startTime-b)}}function k(b,P){y=!1,x&&(x=!1,h(D),D=-1),w=!0;var I=g;try{for(v(P),f=n(c);f!==null&&(!(f.expirationTime>P)||b&&!Z());){var O=f.callback;if(typeof O=="function"){f.callback=null,g=f.priorityLevel;var oe=O(f.expirationTime<=P);P=e.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(c)&&r(c),v(P)}else r(c);f=n(c)}if(f!==null)var pe=!0;else{var we=n(d);we!==null&&se(S,we.startTime-P),pe=!1}return pe}finally{f=null,g=I,w=!1}}var T=!1,E=null,D=-1,q=5,$=-1;function Z(){return!(e.unstable_now()-$<q)}function U(){if(E!==null){var b=e.unstable_now();$=b;var P=!0;try{P=E(!0,b)}finally{P?F():(T=!1,E=null)}}else T=!1}var F;if(typeof p=="function")F=function(){p(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=U,F=function(){G.postMessage(null)}}else F=function(){j(U,0)};function L(b){E=b,T||(T=!0,F())}function se(b,P){D=j(function(){b(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){y||w||(y=!0,L(k))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(b){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var I=g;g=P;try{return b()}finally{g=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,P){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var I=g;g=b;try{return P()}finally{g=I}},e.unstable_scheduleCallback=function(b,P,I){var O=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?O+I:O):I=O,b){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=I+oe,b={id:m++,callback:P,priorityLevel:b,startTime:I,expirationTime:oe,sortIndex:-1},I>O?(b.sortIndex=I,t(d,b),n(c)===null&&b===n(d)&&(x?(h(D),D=-1):x=!0,se(S,I-O))):(b.sortIndex=oe,t(c,b),y||w||(y=!0,L(k))),b},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(b){var P=g;return function(){var I=g;g=P;try{return b.apply(this,arguments)}finally{g=I}}}})(Em);km.exports=Em;var U0=km.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0=u,hn=U0;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pm=new Set,qo={};function Ns(e,t){eo(e,t),eo(e+"Capture",t)}function eo(e,t){for(qo[e]=t,e=0;e<t.length;e++)Pm.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=Object.prototype.hasOwnProperty,H0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cf={},uf={};function V0(e){return uc.call(uf,e)?!0:uc.call(cf,e)?!1:H0.test(e)?uf[e]=!0:(cf[e]=!0,!1)}function G0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function q0(e,t,n,r){if(t===null||typeof t>"u"||G0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zt(e,t,n,r,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new Zt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new Zt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new Zt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new Zt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new Zt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new Zt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new Zt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new Zt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new Zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iu=/[\-:]([a-z])/g;function Ou(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iu,Ou);$t[t]=new Zt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iu,Ou);$t[t]=new Zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iu,Ou);$t[t]=new Zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new Zt(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new Zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new Zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fu(e,t,n,r){var o=$t.hasOwnProperty(t)?$t[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(q0(t,n,o,r)&&(n=null),r||o===null?V0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wr=W0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ka=Symbol.for("react.element"),Ds=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),$u=Symbol.for("react.strict_mode"),dc=Symbol.for("react.profiler"),Tm=Symbol.for("react.provider"),_m=Symbol.for("react.context"),Lu=Symbol.for("react.forward_ref"),fc=Symbol.for("react.suspense"),pc=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Dm=Symbol.for("react.offscreen"),df=Symbol.iterator;function jo(e){return e===null||typeof e!="object"?null:(e=df&&e[df]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,kl;function Ao(e){if(kl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kl=t&&t[1]||""}return`
`+kl+e}var El=!1;function Pl(e,t){if(!e||El)return"";El=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),a=r.stack.split(`
`),i=o.length-1,l=a.length-1;1<=i&&0<=l&&o[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==a[l]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{El=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ao(e):""}function Q0(e){switch(e.tag){case 5:return Ao(e.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return e=Pl(e.type,!1),e;case 11:return e=Pl(e.type.render,!1),e;case 1:return e=Pl(e.type,!0),e;default:return""}}function mc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Rs:return"Fragment";case Ds:return"Portal";case dc:return"Profiler";case $u:return"StrictMode";case fc:return"Suspense";case pc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _m:return(e.displayName||"Context")+".Consumer";case Tm:return(e._context.displayName||"Context")+".Provider";case Lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bu:return t=e.displayName||null,t!==null?t:mc(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return mc(e(t))}catch{}}return null}function Y0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mc(t);case 8:return t===$u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function K0(e){var t=Rm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ea(e){e._valueTracker||(e._valueTracker=K0(e))}function Am(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hc(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ff(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mm(e,t){t=t.checked,t!=null&&Fu(e,"checked",t,!1)}function gc(e,t){Mm(e,t);var n=Qr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xc(e,t.type,n):t.hasOwnProperty("defaultValue")&&xc(e,t.type,Qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xc(e,t,n){(t!=="number"||mi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mo=Array.isArray;function Ws(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function vc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function mf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(Mo(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qr(n)}}function zm(e,t){var n=Qr(t.value),r=Qr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Im(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Im(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pa,Om=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pa=Pa||document.createElement("div"),Pa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z0=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(e){Z0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fo[t]=Fo[e]})});function Fm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fo.hasOwnProperty(e)&&Fo[e]?(""+t).trim():t+"px"}function $m(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Fm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var X0=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wc(e,t){if(t){if(X0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function jc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=null;function Uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sc=null,Hs=null,Vs=null;function gf(e){if(e=ha(e)){if(typeof Sc!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Xi(t),Sc(e.stateNode,e.type,t))}}function Lm(e){Hs?Vs?Vs.push(e):Vs=[e]:Hs=e}function Bm(){if(Hs){var e=Hs,t=Vs;if(Vs=Hs=null,gf(e),t)for(e=0;e<t.length;e++)gf(t[e])}}function Um(e,t){return e(t)}function Wm(){}var Tl=!1;function Hm(e,t,n){if(Tl)return e(t,n);Tl=!0;try{return Um(e,t,n)}finally{Tl=!1,(Hs!==null||Vs!==null)&&(Wm(),Bm())}}function Yo(e,t){var n=e.stateNode;if(n===null)return null;var r=Xi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Nc=!1;if(mr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Nc=!1}function J0(e,t,n,r,o,a,i,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var $o=!1,hi=null,gi=!1,Cc=null,ey={onError:function(e){$o=!0,hi=e}};function ty(e,t,n,r,o,a,i,l,c){$o=!1,hi=null,J0.apply(ey,arguments)}function ny(e,t,n,r,o,a,i,l,c){if(ty.apply(this,arguments),$o){if($o){var d=hi;$o=!1,hi=null}else throw Error(J(198));gi||(gi=!0,Cc=d)}}function Cs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xf(e){if(Cs(e)!==e)throw Error(J(188))}function ry(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return xf(o),e;if(a===r)return xf(o),t;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=o,r=a;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=a;break}if(l===r){i=!0,r=o,n=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===n){i=!0,n=a,r=o;break}if(l===r){i=!0,r=a,n=o;break}l=l.sibling}if(!i)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function Gm(e){return e=ry(e),e!==null?qm(e):null}function qm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qm(e);if(t!==null)return t;e=e.sibling}return null}var Qm=hn.unstable_scheduleCallback,vf=hn.unstable_cancelCallback,sy=hn.unstable_shouldYield,oy=hn.unstable_requestPaint,St=hn.unstable_now,ay=hn.unstable_getCurrentPriorityLevel,Wu=hn.unstable_ImmediatePriority,Ym=hn.unstable_UserBlockingPriority,xi=hn.unstable_NormalPriority,iy=hn.unstable_LowPriority,Km=hn.unstable_IdlePriority,Qi=null,Zn=null;function ly(e){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Qi,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:dy,cy=Math.log,uy=Math.LN2;function dy(e){return e>>>=0,e===0?32:31-(cy(e)/uy|0)|0}var Ta=64,_a=4194304;function zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=zo(l):(a&=i,a!==0&&(r=zo(a)))}else i=n&~o,i!==0?r=zo(i):a!==0&&(r=zo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-On(t),o=1<<n,r|=e[n],t&=~o;return r}function fy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function py(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-On(a),l=1<<i,c=o[i];c===-1?(!(l&n)||l&r)&&(o[i]=fy(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function kc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zm(){var e=Ta;return Ta<<=1,!(Ta&4194240)&&(Ta=64),e}function _l(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function my(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-On(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Hu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-On(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Ye=0;function Xm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jm,Vu,eh,th,nh,Ec=!1,Da=[],Fr=null,$r=null,Lr=null,Ko=new Map,Zo=new Map,_r=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yf(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Ko.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function So(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=ha(t),t!==null&&Vu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function gy(e,t,n,r,o){switch(t){case"focusin":return Fr=So(Fr,e,t,n,r,o),!0;case"dragenter":return $r=So($r,e,t,n,r,o),!0;case"mouseover":return Lr=So(Lr,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Ko.set(a,So(Ko.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Zo.set(a,So(Zo.get(a)||null,e,t,n,r,o)),!0}return!1}function rh(e){var t=us(e.target);if(t!==null){var n=Cs(t);if(n!==null){if(t=n.tag,t===13){if(t=Vm(n),t!==null){e.blockedOn=t,nh(e.priority,function(){eh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bc=r,n.target.dispatchEvent(r),bc=null}else return t=ha(n),t!==null&&Vu(t),e.blockedOn=n,!1;t.shift()}return!0}function wf(e,t,n){Xa(e)&&n.delete(t)}function xy(){Ec=!1,Fr!==null&&Xa(Fr)&&(Fr=null),$r!==null&&Xa($r)&&($r=null),Lr!==null&&Xa(Lr)&&(Lr=null),Ko.forEach(wf),Zo.forEach(wf)}function No(e,t){e.blockedOn===t&&(e.blockedOn=null,Ec||(Ec=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,xy)))}function Xo(e){function t(o){return No(o,e)}if(0<Da.length){No(Da[0],e);for(var n=1;n<Da.length;n++){var r=Da[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fr!==null&&No(Fr,e),$r!==null&&No($r,e),Lr!==null&&No(Lr,e),Ko.forEach(t),Zo.forEach(t),n=0;n<_r.length;n++)r=_r[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_r.length&&(n=_r[0],n.blockedOn===null);)rh(n),n.blockedOn===null&&_r.shift()}var Gs=wr.ReactCurrentBatchConfig,yi=!0;function vy(e,t,n,r){var o=Ye,a=Gs.transition;Gs.transition=null;try{Ye=1,Gu(e,t,n,r)}finally{Ye=o,Gs.transition=a}}function yy(e,t,n,r){var o=Ye,a=Gs.transition;Gs.transition=null;try{Ye=4,Gu(e,t,n,r)}finally{Ye=o,Gs.transition=a}}function Gu(e,t,n,r){if(yi){var o=Pc(e,t,n,r);if(o===null)Ll(e,t,r,wi,n),yf(e,r);else if(gy(o,e,t,n,r))r.stopPropagation();else if(yf(e,r),t&4&&-1<hy.indexOf(e)){for(;o!==null;){var a=ha(o);if(a!==null&&Jm(a),a=Pc(e,t,n,r),a===null&&Ll(e,t,r,wi,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else Ll(e,t,r,null,n)}}var wi=null;function Pc(e,t,n,r){if(wi=null,e=Uu(r),e=us(e),e!==null)if(t=Cs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wi=e,null}function sh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ay()){case Wu:return 1;case Ym:return 4;case xi:case iy:return 16;case Km:return 536870912;default:return 16}default:return 16}}var Ir=null,qu=null,Ja=null;function oh(){if(Ja)return Ja;var e,t=qu,n=t.length,r,o="value"in Ir?Ir.value:Ir.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[a-r];r++);return Ja=o.slice(e,1<r?1-r:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ra(){return!0}function jf(){return!1}function xn(e){function t(n,r,o,a,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ra:jf,this.isPropagationStopped=jf,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ra)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ra)},persist:function(){},isPersistent:Ra}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qu=xn(uo),ma=gt({},uo,{view:0,detail:0}),wy=xn(ma),Dl,Rl,Co,Yi=gt({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Co&&(Co&&e.type==="mousemove"?(Dl=e.screenX-Co.screenX,Rl=e.screenY-Co.screenY):Rl=Dl=0,Co=e),Dl)},movementY:function(e){return"movementY"in e?e.movementY:Rl}}),bf=xn(Yi),jy=gt({},Yi,{dataTransfer:0}),by=xn(jy),Sy=gt({},ma,{relatedTarget:0}),Al=xn(Sy),Ny=gt({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),Cy=xn(Ny),ky=gt({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ey=xn(ky),Py=gt({},uo,{data:0}),Sf=xn(Py),Ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dy[e])?!!t[e]:!1}function Yu(){return Ry}var Ay=gt({},ma,{key:function(e){if(e.key){var t=Ty[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_y[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yu,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),My=xn(Ay),zy=gt({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nf=xn(zy),Iy=gt({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yu}),Oy=xn(Iy),Fy=gt({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=xn(Fy),Ly=gt({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),By=xn(Ly),Uy=[9,13,27,32],Ku=mr&&"CompositionEvent"in window,Lo=null;mr&&"documentMode"in document&&(Lo=document.documentMode);var Wy=mr&&"TextEvent"in window&&!Lo,ah=mr&&(!Ku||Lo&&8<Lo&&11>=Lo),Cf=" ",kf=!1;function ih(e,t){switch(e){case"keyup":return Uy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var As=!1;function Hy(e,t){switch(e){case"compositionend":return lh(t);case"keypress":return t.which!==32?null:(kf=!0,Cf);case"textInput":return e=t.data,e===Cf&&kf?null:e;default:return null}}function Vy(e,t){if(As)return e==="compositionend"||!Ku&&ih(e,t)?(e=oh(),Ja=qu=Ir=null,As=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ah&&t.locale!=="ko"?null:t.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gy[e.type]:t==="textarea"}function ch(e,t,n,r){Lm(r),t=ji(t,"onChange"),0<t.length&&(n=new Qu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bo=null,Jo=null;function qy(e){wh(e,0)}function Ki(e){var t=Is(e);if(Am(t))return e}function Qy(e,t){if(e==="change")return t}var uh=!1;if(mr){var Ml;if(mr){var zl="oninput"in document;if(!zl){var Pf=document.createElement("div");Pf.setAttribute("oninput","return;"),zl=typeof Pf.oninput=="function"}Ml=zl}else Ml=!1;uh=Ml&&(!document.documentMode||9<document.documentMode)}function Tf(){Bo&&(Bo.detachEvent("onpropertychange",dh),Jo=Bo=null)}function dh(e){if(e.propertyName==="value"&&Ki(Jo)){var t=[];ch(t,Jo,e,Uu(e)),Hm(qy,t)}}function Yy(e,t,n){e==="focusin"?(Tf(),Bo=t,Jo=n,Bo.attachEvent("onpropertychange",dh)):e==="focusout"&&Tf()}function Ky(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(Jo)}function Zy(e,t){if(e==="click")return Ki(t)}function Xy(e,t){if(e==="input"||e==="change")return Ki(t)}function Jy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:Jy;function ea(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!uc.call(t,o)||!$n(e[o],t[o]))return!1}return!0}function _f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Df(e,t){var n=_f(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_f(n)}}function fh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ph(){for(var e=window,t=mi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mi(e.document)}return t}function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ew(e){var t=ph(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fh(n.ownerDocument.documentElement,n)){if(r!==null&&Zu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=Df(n,a);var i=Df(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tw=mr&&"documentMode"in document&&11>=document.documentMode,Ms=null,Tc=null,Uo=null,_c=!1;function Rf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_c||Ms==null||Ms!==mi(r)||(r=Ms,"selectionStart"in r&&Zu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uo&&ea(Uo,r)||(Uo=r,r=ji(Tc,"onSelect"),0<r.length&&(t=new Qu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ms)))}function Aa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zs={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},Il={},mh={};mr&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Zi(e){if(Il[e])return Il[e];if(!zs[e])return e;var t=zs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mh)return Il[e]=t[n];return e}var hh=Zi("animationend"),gh=Zi("animationiteration"),xh=Zi("animationstart"),vh=Zi("transitionend"),yh=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(e,t){yh.set(e,t),Ns(t,[e])}for(var Ol=0;Ol<Af.length;Ol++){var Fl=Af[Ol],nw=Fl.toLowerCase(),rw=Fl[0].toUpperCase()+Fl.slice(1);Jr(nw,"on"+rw)}Jr(hh,"onAnimationEnd");Jr(gh,"onAnimationIteration");Jr(xh,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(vh,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function Mf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ny(r,t,void 0,e),e.currentTarget=null}function wh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&o.isPropagationStopped())break e;Mf(o,l,d),a=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&o.isPropagationStopped())break e;Mf(o,l,d),a=c}}}if(gi)throw e=Cc,gi=!1,Cc=null,e}function it(e,t){var n=t[zc];n===void 0&&(n=t[zc]=new Set);var r=e+"__bubble";n.has(r)||(jh(t,e,2,!1),n.add(r))}function $l(e,t,n){var r=0;t&&(r|=4),jh(n,e,r,t)}var Ma="_reactListening"+Math.random().toString(36).slice(2);function ta(e){if(!e[Ma]){e[Ma]=!0,Pm.forEach(function(n){n!=="selectionchange"&&(sw.has(n)||$l(n,!1,e),$l(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ma]||(t[Ma]=!0,$l("selectionchange",!1,t))}}function jh(e,t,n,r){switch(sh(t)){case 1:var o=vy;break;case 4:o=yy;break;default:o=Gu}n=o.bind(null,t,n,e),o=void 0,!Nc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ll(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;l!==null;){if(i=us(l),i===null)return;if(c=i.tag,c===5||c===6){r=a=i;continue e}l=l.parentNode}}r=r.return}Hm(function(){var d=a,m=Uu(n),f=[];e:{var g=yh.get(e);if(g!==void 0){var w=Qu,y=e;switch(e){case"keypress":if(ei(n)===0)break e;case"keydown":case"keyup":w=My;break;case"focusin":y="focus",w=Al;break;case"focusout":y="blur",w=Al;break;case"beforeblur":case"afterblur":w=Al;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=by;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Oy;break;case hh:case gh:case xh:w=Cy;break;case vh:w=$y;break;case"scroll":w=wy;break;case"wheel":w=By;break;case"copy":case"cut":case"paste":w=Ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Nf}var x=(t&4)!==0,j=!x&&e==="scroll",h=x?g!==null?g+"Capture":null:g;x=[];for(var p=d,v;p!==null;){v=p;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,h!==null&&(S=Yo(p,h),S!=null&&x.push(na(p,S,v)))),j)break;p=p.return}0<x.length&&(g=new w(g,y,null,n,m),f.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&n!==bc&&(y=n.relatedTarget||n.fromElement)&&(us(y)||y[hr]))break e;if((w||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,w?(y=n.relatedTarget||n.toElement,w=d,y=y?us(y):null,y!==null&&(j=Cs(y),y!==j||y.tag!==5&&y.tag!==6)&&(y=null)):(w=null,y=d),w!==y)){if(x=bf,S="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Nf,S="onPointerLeave",h="onPointerEnter",p="pointer"),j=w==null?g:Is(w),v=y==null?g:Is(y),g=new x(S,p+"leave",w,n,m),g.target=j,g.relatedTarget=v,S=null,us(m)===d&&(x=new x(h,p+"enter",y,n,m),x.target=v,x.relatedTarget=j,S=x),j=S,w&&y)t:{for(x=w,h=y,p=0,v=x;v;v=ks(v))p++;for(v=0,S=h;S;S=ks(S))v++;for(;0<p-v;)x=ks(x),p--;for(;0<v-p;)h=ks(h),v--;for(;p--;){if(x===h||h!==null&&x===h.alternate)break t;x=ks(x),h=ks(h)}x=null}else x=null;w!==null&&zf(f,g,w,x,!1),y!==null&&j!==null&&zf(f,j,y,x,!0)}}e:{if(g=d?Is(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var k=Qy;else if(Ef(g))if(uh)k=Xy;else{k=Ky;var T=Yy}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(k=Zy);if(k&&(k=k(e,d))){ch(f,k,n,m);break e}T&&T(e,g,d),e==="focusout"&&(T=g._wrapperState)&&T.controlled&&g.type==="number"&&xc(g,"number",g.value)}switch(T=d?Is(d):window,e){case"focusin":(Ef(T)||T.contentEditable==="true")&&(Ms=T,Tc=d,Uo=null);break;case"focusout":Uo=Tc=Ms=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,Rf(f,n,m);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":Rf(f,n,m)}var E;if(Ku)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else As?ih(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(ah&&n.locale!=="ko"&&(As||D!=="onCompositionStart"?D==="onCompositionEnd"&&As&&(E=oh()):(Ir=m,qu="value"in Ir?Ir.value:Ir.textContent,As=!0)),T=ji(d,D),0<T.length&&(D=new Sf(D,e,null,n,m),f.push({event:D,listeners:T}),E?D.data=E:(E=lh(n),E!==null&&(D.data=E)))),(E=Wy?Hy(e,n):Vy(e,n))&&(d=ji(d,"onBeforeInput"),0<d.length&&(m=new Sf("onBeforeInput","beforeinput",null,n,m),f.push({event:m,listeners:d}),m.data=E))}wh(f,t)})}function na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ji(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Yo(e,n),a!=null&&r.unshift(na(e,a,o)),a=Yo(e,t),a!=null&&r.push(na(e,a,o))),e=e.return}return r}function ks(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zf(e,t,n,r,o){for(var a=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,o?(c=Yo(n,a),c!=null&&i.unshift(na(n,c,l))):o||(c=Yo(n,a),c!=null&&i.push(na(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ow=/\r\n?/g,aw=/\u0000|\uFFFD/g;function If(e){return(typeof e=="string"?e:""+e).replace(ow,`
`).replace(aw,"")}function za(e,t,n){if(t=If(t),If(e)!==t&&n)throw Error(J(425))}function bi(){}var Dc=null,Rc=null;function Ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mc=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(e){return Of.resolve(null).then(e).catch(cw)}:Mc;function cw(e){setTimeout(function(){throw e})}function Bl(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Xo(t)}function Br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),Yn="__reactFiber$"+fo,ra="__reactProps$"+fo,hr="__reactContainer$"+fo,zc="__reactEvents$"+fo,uw="__reactListeners$"+fo,dw="__reactHandles$"+fo;function us(e){var t=e[Yn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[Yn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ff(e);e!==null;){if(n=e[Yn])return n;e=Ff(e)}return t}e=n,n=e.parentNode}return null}function ha(e){return e=e[Yn]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Xi(e){return e[ra]||null}var Ic=[],Os=-1;function es(e){return{current:e}}function ct(e){0>Os||(e.current=Ic[Os],Ic[Os]=null,Os--)}function rt(e,t){Os++,Ic[Os]=e.current,e.current=t}var Yr={},Gt=es(Yr),rn=es(!1),hs=Yr;function to(e,t){var n=e.type.contextTypes;if(!n)return Yr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function sn(e){return e=e.childContextTypes,e!=null}function Si(){ct(rn),ct(Gt)}function $f(e,t,n){if(Gt.current!==Yr)throw Error(J(168));rt(Gt,t),rt(rn,n)}function bh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(J(108,Y0(e)||"Unknown",o));return gt({},n,r)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,hs=Gt.current,rt(Gt,e),rt(rn,rn.current),!0}function Lf(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=bh(e,t,hs),r.__reactInternalMemoizedMergedChildContext=e,ct(rn),ct(Gt),rt(Gt,e)):ct(rn),rt(rn,n)}var ur=null,Ji=!1,Ul=!1;function Sh(e){ur===null?ur=[e]:ur.push(e)}function fw(e){Ji=!0,Sh(e)}function ts(){if(!Ul&&ur!==null){Ul=!0;var e=0,t=Ye;try{var n=ur;for(Ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ur=null,Ji=!1}catch(o){throw ur!==null&&(ur=ur.slice(e+1)),Qm(Wu,ts),o}finally{Ye=t,Ul=!1}}return null}var Fs=[],$s=0,Ci=null,ki=0,vn=[],yn=0,gs=null,dr=1,fr="";function is(e,t){Fs[$s++]=ki,Fs[$s++]=Ci,Ci=e,ki=t}function Nh(e,t,n){vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=gs,gs=e;var r=dr;e=fr;var o=32-On(r)-1;r&=~(1<<o),n+=1;var a=32-On(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,dr=1<<32-On(t)+o|n<<o|r,fr=a+e}else dr=1<<a|n<<o|r,fr=e}function Xu(e){e.return!==null&&(is(e,1),Nh(e,1,0))}function Ju(e){for(;e===Ci;)Ci=Fs[--$s],Fs[$s]=null,ki=Fs[--$s],Fs[$s]=null;for(;e===gs;)gs=vn[--yn],vn[yn]=null,fr=vn[--yn],vn[yn]=null,dr=vn[--yn],vn[yn]=null}var pn=null,fn=null,ut=!1,_n=null;function Ch(e,t){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pn=e,fn=Br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pn=e,fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gs!==null?{id:dr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pn=e,fn=null,!0):!1;default:return!1}}function Oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fc(e){if(ut){var t=fn;if(t){var n=t;if(!Bf(e,t)){if(Oc(e))throw Error(J(418));t=Br(n.nextSibling);var r=pn;t&&Bf(e,t)?Ch(r,n):(e.flags=e.flags&-4097|2,ut=!1,pn=e)}}else{if(Oc(e))throw Error(J(418));e.flags=e.flags&-4097|2,ut=!1,pn=e}}}function Uf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pn=e}function Ia(e){if(e!==pn)return!1;if(!ut)return Uf(e),ut=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ac(e.type,e.memoizedProps)),t&&(t=fn)){if(Oc(e))throw kh(),Error(J(418));for(;t;)Ch(e,t),t=Br(t.nextSibling)}if(Uf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){fn=Br(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}fn=null}}else fn=pn?Br(e.stateNode.nextSibling):null;return!0}function kh(){for(var e=fn;e;)e=Br(e.nextSibling)}function no(){fn=pn=null,ut=!1}function ed(e){_n===null?_n=[e]:_n.push(e)}var pw=wr.ReactCurrentBatchConfig;function ko(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=o.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wf(e){var t=e._init;return t(e._payload)}function Eh(e){function t(h,p){if(e){var v=h.deletions;v===null?(h.deletions=[p],h.flags|=16):v.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function o(h,p){return h=Vr(h,p),h.index=0,h.sibling=null,h}function a(h,p,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<p?(h.flags|=2,p):v):(h.flags|=2,p)):(h.flags|=1048576,p)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,v,S){return p===null||p.tag!==6?(p=Yl(v,h.mode,S),p.return=h,p):(p=o(p,v),p.return=h,p)}function c(h,p,v,S){var k=v.type;return k===Rs?m(h,p,v.props.children,S,v.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pr&&Wf(k)===p.type)?(S=o(p,v.props),S.ref=ko(h,p,v),S.return=h,S):(S=ii(v.type,v.key,v.props,null,h.mode,S),S.ref=ko(h,p,v),S.return=h,S)}function d(h,p,v,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Kl(v,h.mode,S),p.return=h,p):(p=o(p,v.children||[]),p.return=h,p)}function m(h,p,v,S,k){return p===null||p.tag!==7?(p=ms(v,h.mode,S,k),p.return=h,p):(p=o(p,v),p.return=h,p)}function f(h,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yl(""+p,h.mode,v),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ka:return v=ii(p.type,p.key,p.props,null,h.mode,v),v.ref=ko(h,null,p),v.return=h,v;case Ds:return p=Kl(p,h.mode,v),p.return=h,p;case Pr:var S=p._init;return f(h,S(p._payload),v)}if(Mo(p)||jo(p))return p=ms(p,h.mode,v,null),p.return=h,p;Oa(h,p)}return null}function g(h,p,v,S){var k=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(h,p,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ka:return v.key===k?c(h,p,v,S):null;case Ds:return v.key===k?d(h,p,v,S):null;case Pr:return k=v._init,g(h,p,k(v._payload),S)}if(Mo(v)||jo(v))return k!==null?null:m(h,p,v,S,null);Oa(h,v)}return null}function w(h,p,v,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return h=h.get(v)||null,l(p,h,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ka:return h=h.get(S.key===null?v:S.key)||null,c(p,h,S,k);case Ds:return h=h.get(S.key===null?v:S.key)||null,d(p,h,S,k);case Pr:var T=S._init;return w(h,p,v,T(S._payload),k)}if(Mo(S)||jo(S))return h=h.get(v)||null,m(p,h,S,k,null);Oa(p,S)}return null}function y(h,p,v,S){for(var k=null,T=null,E=p,D=p=0,q=null;E!==null&&D<v.length;D++){E.index>D?(q=E,E=null):q=E.sibling;var $=g(h,E,v[D],S);if($===null){E===null&&(E=q);break}e&&E&&$.alternate===null&&t(h,E),p=a($,p,D),T===null?k=$:T.sibling=$,T=$,E=q}if(D===v.length)return n(h,E),ut&&is(h,D),k;if(E===null){for(;D<v.length;D++)E=f(h,v[D],S),E!==null&&(p=a(E,p,D),T===null?k=E:T.sibling=E,T=E);return ut&&is(h,D),k}for(E=r(h,E);D<v.length;D++)q=w(E,h,D,v[D],S),q!==null&&(e&&q.alternate!==null&&E.delete(q.key===null?D:q.key),p=a(q,p,D),T===null?k=q:T.sibling=q,T=q);return e&&E.forEach(function(Z){return t(h,Z)}),ut&&is(h,D),k}function x(h,p,v,S){var k=jo(v);if(typeof k!="function")throw Error(J(150));if(v=k.call(v),v==null)throw Error(J(151));for(var T=k=null,E=p,D=p=0,q=null,$=v.next();E!==null&&!$.done;D++,$=v.next()){E.index>D?(q=E,E=null):q=E.sibling;var Z=g(h,E,$.value,S);if(Z===null){E===null&&(E=q);break}e&&E&&Z.alternate===null&&t(h,E),p=a(Z,p,D),T===null?k=Z:T.sibling=Z,T=Z,E=q}if($.done)return n(h,E),ut&&is(h,D),k;if(E===null){for(;!$.done;D++,$=v.next())$=f(h,$.value,S),$!==null&&(p=a($,p,D),T===null?k=$:T.sibling=$,T=$);return ut&&is(h,D),k}for(E=r(h,E);!$.done;D++,$=v.next())$=w(E,h,D,$.value,S),$!==null&&(e&&$.alternate!==null&&E.delete($.key===null?D:$.key),p=a($,p,D),T===null?k=$:T.sibling=$,T=$);return e&&E.forEach(function(U){return t(h,U)}),ut&&is(h,D),k}function j(h,p,v,S){if(typeof v=="object"&&v!==null&&v.type===Rs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ka:e:{for(var k=v.key,T=p;T!==null;){if(T.key===k){if(k=v.type,k===Rs){if(T.tag===7){n(h,T.sibling),p=o(T,v.props.children),p.return=h,h=p;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pr&&Wf(k)===T.type){n(h,T.sibling),p=o(T,v.props),p.ref=ko(h,T,v),p.return=h,h=p;break e}n(h,T);break}else t(h,T);T=T.sibling}v.type===Rs?(p=ms(v.props.children,h.mode,S,v.key),p.return=h,h=p):(S=ii(v.type,v.key,v.props,null,h.mode,S),S.ref=ko(h,p,v),S.return=h,h=S)}return i(h);case Ds:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(h,p.sibling),p=o(p,v.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=Kl(v,h.mode,S),p.return=h,h=p}return i(h);case Pr:return T=v._init,j(h,p,T(v._payload),S)}if(Mo(v))return y(h,p,v,S);if(jo(v))return x(h,p,v,S);Oa(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(h,p.sibling),p=o(p,v),p.return=h,h=p):(n(h,p),p=Yl(v,h.mode,S),p.return=h,h=p),i(h)):n(h,p)}return j}var ro=Eh(!0),Ph=Eh(!1),Ei=es(null),Pi=null,Ls=null,td=null;function nd(){td=Ls=Pi=null}function rd(e){var t=Ei.current;ct(Ei),e._currentValue=t}function $c(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qs(e,t){Pi=e,td=Ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function bn(e){var t=e._currentValue;if(td!==e)if(e={context:e,memoizedValue:t,next:null},Ls===null){if(Pi===null)throw Error(J(308));Ls=e,Pi.dependencies={lanes:0,firstContext:e}}else Ls=Ls.next=e;return t}var ds=null;function sd(e){ds===null?ds=[e]:ds.push(e)}function Th(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,sd(t)):(n.next=o.next,o.next=n),t.interleaved=n,gr(e,r)}function gr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tr=!1;function od(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,gr(e,n)}return o=r.interleaved,o===null?(t.next=t,sd(r)):(t.next=o.next,o.next=t),r.interleaved=t,gr(e,n)}function ti(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}function Hf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=i:a=a.next=i,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ti(e,t,n,r){var o=e.updateQueue;Tr=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,d=c.next;c.next=null,i===null?a=d:i.next=d,i=c;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==i&&(l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=c))}if(a!==null){var f=o.baseState;i=0,m=d=c=null,l=a;do{var g=l.lane,w=l.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,x=l;switch(g=t,w=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(w,f,g);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,g=typeof y=="function"?y.call(w,f,g):y,g==null)break e;f=gt({},f,g);break e;case 2:Tr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[l]:g.push(l))}else w={eventTime:w,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(d=m=w,c=f):m=m.next=w,i|=g;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;g=l,l=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(m===null&&(c=f),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);vs|=i,e.lanes=i,e.memoizedState=f}}function Vf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(J(191,o));o.call(r)}}}var ga={},Xn=es(ga),sa=es(ga),oa=es(ga);function fs(e){if(e===ga)throw Error(J(174));return e}function ad(e,t){switch(rt(oa,t),rt(sa,e),rt(Xn,ga),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yc(t,e)}ct(Xn),rt(Xn,t)}function so(){ct(Xn),ct(sa),ct(oa)}function Dh(e){fs(oa.current);var t=fs(Xn.current),n=yc(t,e.type);t!==n&&(rt(sa,e),rt(Xn,n))}function id(e){sa.current===e&&(ct(Xn),ct(sa))}var mt=es(0);function _i(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wl=[];function ld(){for(var e=0;e<Wl.length;e++)Wl[e]._workInProgressVersionPrimary=null;Wl.length=0}var ni=wr.ReactCurrentDispatcher,Hl=wr.ReactCurrentBatchConfig,xs=0,ht=null,Dt=null,Mt=null,Di=!1,Wo=!1,aa=0,mw=0;function Wt(){throw Error(J(321))}function cd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function ud(e,t,n,r,o,a){if(xs=a,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=e===null||e.memoizedState===null?vw:yw,e=n(r,o),Wo){a=0;do{if(Wo=!1,aa=0,25<=a)throw Error(J(301));a+=1,Mt=Dt=null,t.updateQueue=null,ni.current=ww,e=n(r,o)}while(Wo)}if(ni.current=Ri,t=Dt!==null&&Dt.next!==null,xs=0,Mt=Dt=ht=null,Di=!1,t)throw Error(J(300));return e}function dd(){var e=aa!==0;return aa=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ht.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Sn(){if(Dt===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=Mt===null?ht.memoizedState:Mt.next;if(t!==null)Mt=t,Dt=e;else{if(e===null)throw Error(J(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Mt===null?ht.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function ia(e,t){return typeof t=="function"?t(e):t}function Vl(e){var t=Sn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=Dt,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var l=i=null,c=null,d=a;do{var m=d.lane;if((xs&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,ht.lanes|=m,vs|=m}d=d.next}while(d!==null&&d!==a);c===null?i=r:c.next=l,$n(r,t.memoizedState)||(nn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,ht.lanes|=a,vs|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Gl(e){var t=Sn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);$n(a,t.memoizedState)||(nn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Rh(){}function Ah(e,t){var n=ht,r=Sn(),o=t(),a=!$n(r.memoizedState,o);if(a&&(r.memoizedState=o,nn=!0),r=r.queue,fd(Ih.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,la(9,zh.bind(null,n,r,o,t),void 0,null),zt===null)throw Error(J(349));xs&30||Mh(n,t,o)}return o}function Mh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zh(e,t,n,r){t.value=n,t.getSnapshot=r,Oh(t)&&Fh(e)}function Ih(e,t,n){return n(function(){Oh(t)&&Fh(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch{return!0}}function Fh(e){var t=gr(e,1);t!==null&&Fn(t,e,1,-1)}function Gf(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t.queue=e,e=e.dispatch=xw.bind(null,ht,e),[t.memoizedState,e]}function la(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $h(){return Sn().memoizedState}function ri(e,t,n,r){var o=Qn();ht.flags|=e,o.memoizedState=la(1|t,n,void 0,r===void 0?null:r)}function el(e,t,n,r){var o=Sn();r=r===void 0?null:r;var a=void 0;if(Dt!==null){var i=Dt.memoizedState;if(a=i.destroy,r!==null&&cd(r,i.deps)){o.memoizedState=la(t,n,a,r);return}}ht.flags|=e,o.memoizedState=la(1|t,n,a,r)}function qf(e,t){return ri(8390656,8,e,t)}function fd(e,t){return el(2048,8,e,t)}function Lh(e,t){return el(4,2,e,t)}function Bh(e,t){return el(4,4,e,t)}function Uh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Wh(e,t,n){return n=n!=null?n.concat([e]):null,el(4,4,Uh.bind(null,t,e),n)}function pd(){}function Hh(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vh(e,t){var n=Sn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gh(e,t,n){return xs&21?($n(n,t)||(n=Zm(),ht.lanes|=n,vs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=n)}function hw(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var r=Hl.transition;Hl.transition={};try{e(!1),t()}finally{Ye=n,Hl.transition=r}}function qh(){return Sn().memoizedState}function gw(e,t,n){var r=Hr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qh(e))Yh(t,n);else if(n=Th(e,t,n,r),n!==null){var o=Yt();Fn(n,e,r,o),Kh(n,t,r)}}function xw(e,t,n){var r=Hr(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qh(e))Yh(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,n);if(o.hasEagerState=!0,o.eagerState=l,$n(l,i)){var c=t.interleaved;c===null?(o.next=o,sd(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Th(e,t,o,r),n!==null&&(o=Yt(),Fn(n,e,r,o),Kh(n,t,r))}}function Qh(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function Yh(e,t){Wo=Di=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Hu(e,n)}}var Ri={readContext:bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},vw={readContext:bn,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:qf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ri(4194308,4,Uh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var n=Qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gw.bind(null,ht,e),[r.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:Gf,useDebugValue:pd,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=Gf(!1),t=e[0];return e=hw.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ht,o=Qn();if(ut){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),zt===null)throw Error(J(349));xs&30||Mh(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,qf(Ih.bind(null,r,a,e),[e]),r.flags|=2048,la(9,zh.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Qn(),t=zt.identifierPrefix;if(ut){var n=fr,r=dr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=aa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yw={readContext:bn,useCallback:Hh,useContext:bn,useEffect:fd,useImperativeHandle:Wh,useInsertionEffect:Lh,useLayoutEffect:Bh,useMemo:Vh,useReducer:Vl,useRef:$h,useState:function(){return Vl(ia)},useDebugValue:pd,useDeferredValue:function(e){var t=Sn();return Gh(t,Dt.memoizedState,e)},useTransition:function(){var e=Vl(ia)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:Rh,useSyncExternalStore:Ah,useId:qh,unstable_isNewReconciler:!1},ww={readContext:bn,useCallback:Hh,useContext:bn,useEffect:fd,useImperativeHandle:Wh,useInsertionEffect:Lh,useLayoutEffect:Bh,useMemo:Vh,useReducer:Gl,useRef:$h,useState:function(){return Gl(ia)},useDebugValue:pd,useDeferredValue:function(e){var t=Sn();return Dt===null?t.memoizedState=e:Gh(t,Dt.memoizedState,e)},useTransition:function(){var e=Gl(ia)[0],t=Sn().memoizedState;return[e,t]},useMutableSource:Rh,useSyncExternalStore:Ah,useId:qh,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tl={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yt(),o=Hr(e),a=pr(r,o);a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,o),t!==null&&(Fn(t,e,o,r),ti(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yt(),o=Hr(e),a=pr(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ur(e,a,o),t!==null&&(Fn(t,e,o,r),ti(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),r=Hr(e),o=pr(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ur(e,o,r),t!==null&&(Fn(t,e,r,n),ti(t,e,r))}};function Qf(e,t,n,r,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,i):t.prototype&&t.prototype.isPureReactComponent?!ea(n,r)||!ea(o,a):!0}function Zh(e,t,n){var r=!1,o=Yr,a=t.contextType;return typeof a=="object"&&a!==null?a=bn(a):(o=sn(t)?hs:Gt.current,r=t.contextTypes,a=(r=r!=null)?to(e,o):Yr),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yf(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tl.enqueueReplaceState(t,t.state,null)}function Bc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},od(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=bn(a):(a=sn(t)?hs:Gt.current,o.context=to(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Lc(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&tl.enqueueReplaceState(o,o.state,null),Ti(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function oo(e,t){try{var n="",r=t;do n+=Q0(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function ql(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var jw=typeof WeakMap=="function"?WeakMap:Map;function Xh(e,t,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Mi||(Mi=!0,Xc=r),Uc(e,t)},n}function Jh(e,t,n){n=pr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Uc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Uc(e,t),typeof r!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Kf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jw;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zw.bind(null,e,t,n),t.then(e,e))}function Zf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xf(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pr(-1,1),t.tag=2,Ur(n,t,1))),n.lanes|=1),e)}var bw=wr.ReactCurrentOwner,nn=!1;function Qt(e,t,n,r){t.child=e===null?Ph(t,null,n,r):ro(t,e.child,n,r)}function Jf(e,t,n,r,o){n=n.render;var a=t.ref;return qs(t,o),r=ud(e,t,n,r,a,o),n=dd(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xr(e,t,o)):(ut&&n&&Xu(t),t.flags|=1,Qt(e,t,r,o),t.child)}function ep(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!jd(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,eg(e,t,a,r,o)):(e=ii(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(n=n.compare,n=n!==null?n:ea,n(i,r)&&e.ref===t.ref)return xr(e,t,o)}return t.flags|=1,e=Vr(a,r),e.ref=t.ref,e.return=t,t.child=e}function eg(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(ea(a,r)&&e.ref===t.ref)if(nn=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,xr(e,t,o)}return Wc(e,t,n,r,o)}function tg(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Us,un),un|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(Us,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rt(Us,un),un|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,rt(Us,un),un|=r;return Qt(e,t,o,n),t.child}function ng(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wc(e,t,n,r,o){var a=sn(n)?hs:Gt.current;return a=to(t,a),qs(t,o),n=ud(e,t,n,r,a,o),r=dd(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,xr(e,t,o)):(ut&&r&&Xu(t),t.flags|=1,Qt(e,t,n,o),t.child)}function tp(e,t,n,r,o){if(sn(n)){var a=!0;Ni(t)}else a=!1;if(qs(t,o),t.stateNode===null)si(e,t),Zh(t,n,r),Bc(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=bn(d):(d=sn(n)?hs:Gt.current,d=to(t,d));var m=n.getDerivedStateFromProps,f=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Yf(t,i,r,d),Tr=!1;var g=t.memoizedState;i.state=g,Ti(t,r,i,o),c=t.memoizedState,l!==r||g!==c||rn.current||Tr?(typeof m=="function"&&(Lc(t,n,m,r),c=t.memoizedState),(l=Tr||Qf(t,n,l,r,g,c,d))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=d,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,_h(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Pn(t.type,l),i.props=d,f=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=bn(c):(c=sn(n)?hs:Gt.current,c=to(t,c));var w=n.getDerivedStateFromProps;(m=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||g!==c)&&Yf(t,i,r,c),Tr=!1,g=t.memoizedState,i.state=g,Ti(t,r,i,o);var y=t.memoizedState;l!==f||g!==y||rn.current||Tr?(typeof w=="function"&&(Lc(t,n,w,r),y=t.memoizedState),(d=Tr||Qf(t,n,d,r,g,y,c)||!1)?(m||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),i.props=r,i.state=y,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Hc(e,t,n,r,a,o)}function Hc(e,t,n,r,o,a){ng(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Lf(t,n,!1),xr(e,t,a);r=t.stateNode,bw.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ro(t,e.child,null,a),t.child=ro(t,null,l,a)):Qt(e,t,l,a),t.memoizedState=r.state,o&&Lf(t,n,!0),t.child}function rg(e){var t=e.stateNode;t.pendingContext?$f(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$f(e,t.context,!1),ad(e,t.containerInfo)}function np(e,t,n,r,o){return no(),ed(o),t.flags|=256,Qt(e,t,n,r),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Gc(e){return{baseLanes:e,cachePool:null,transitions:null}}function sg(e,t,n){var r=t.pendingProps,o=mt.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),rt(mt,o&1),e===null)return Fc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,a?(r=t.mode,a=t.child,i={mode:"hidden",children:i},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=sl(i,r,0,null),e=ms(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Gc(n),t.memoizedState=Vc,e):md(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return Sw(e,t,i,r,l,o,n);if(a){a=r.fallback,i=t.mode,o=e.child,l=o.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vr(o,c),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?a=Vr(l,a):(a=ms(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,i=e.child.memoizedState,i=i===null?Gc(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~n,t.memoizedState=Vc,r}return a=e.child,e=a.sibling,r=Vr(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function md(e,t){return t=sl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fa(e,t,n,r){return r!==null&&ed(r),ro(t,e.child,null,n),e=md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sw(e,t,n,r,o,a,i){if(n)return t.flags&256?(t.flags&=-257,r=ql(Error(J(422))),Fa(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=sl({mode:"visible",children:r.children},o,0,null),a=ms(a,o,i,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ro(t,e.child,null,i),t.child.memoizedState=Gc(i),t.memoizedState=Vc,a);if(!(t.mode&1))return Fa(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(J(419)),r=ql(a,r,void 0),Fa(e,t,i,r)}if(l=(i&e.childLanes)!==0,nn||l){if(r=zt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,gr(e,o),Fn(r,e,o,-1))}return wd(),r=ql(Error(J(421))),Fa(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Iw.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,fn=Br(o.nextSibling),pn=t,ut=!0,_n=null,e!==null&&(vn[yn++]=dr,vn[yn++]=fr,vn[yn++]=gs,dr=e.id,fr=e.overflow,gs=t),t=md(t,r.children),t.flags|=4096,t)}function rp(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$c(e.return,t,n)}function Ql(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function og(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Qt(e,t,r.children,n),r=mt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rp(e,n,t);else if(e.tag===19)rp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rt(mt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&_i(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ql(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&_i(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ql(t,!0,n,null,a);break;case"together":Ql(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Vr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nw(e,t,n){switch(t.tag){case 3:rg(t),no();break;case 5:Dh(t);break;case 1:sn(t.type)&&Ni(t);break;case 4:ad(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;rt(Ei,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rt(mt,mt.current&1),t.flags|=128,null):n&t.child.childLanes?sg(e,t,n):(rt(mt,mt.current&1),e=xr(e,t,n),e!==null?e.sibling:null);rt(mt,mt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return og(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),rt(mt,mt.current),r)break;return null;case 22:case 23:return t.lanes=0,tg(e,t,n)}return xr(e,t,n)}var ag,qc,ig,lg;ag=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qc=function(){};ig=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,fs(Xn.current);var a=null;switch(n){case"input":o=hc(e,o),r=hc(e,r),a=[];break;case"select":o=gt({},o,{value:void 0}),r=gt({},r,{value:void 0}),a=[];break;case"textarea":o=vc(e,o),r=vc(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=bi)}wc(n,r);var i;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qo.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(l=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qo.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&it("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};lg=function(e,t,n,r){n!==r&&(t.flags|=4)};function Eo(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cw(e,t,n){var r=t.pendingProps;switch(Ju(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return sn(t.type)&&Si(),Ht(t),null;case 3:return r=t.stateNode,so(),ct(rn),ct(Gt),ld(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_n!==null&&(tu(_n),_n=null))),qc(e,t),Ht(t),null;case 5:id(t);var o=fs(oa.current);if(n=t.type,e!==null&&t.stateNode!=null)ig(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return Ht(t),null}if(e=fs(Xn.current),Ia(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Yn]=t,r[ra]=a,e=(t.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(o=0;o<Io.length;o++)it(Io[o],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":ff(r,a),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},it("invalid",r);break;case"textarea":mf(r,a),it("invalid",r)}wc(n,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&za(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&za(r.textContent,l,e),o=["children",""+l]):qo.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&it("scroll",r)}switch(n){case"input":Ea(r),pf(r,a,!0);break;case"textarea":Ea(r),hf(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=bi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Im(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Yn]=t,e[ra]=r,ag(e,t,!1,!1),t.stateNode=e;e:{switch(i=jc(n,r),n){case"dialog":it("cancel",e),it("close",e),o=r;break;case"iframe":case"object":case"embed":it("load",e),o=r;break;case"video":case"audio":for(o=0;o<Io.length;o++)it(Io[o],e);o=r;break;case"source":it("error",e),o=r;break;case"img":case"image":case"link":it("error",e),it("load",e),o=r;break;case"details":it("toggle",e),o=r;break;case"input":ff(e,r),o=hc(e,r),it("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=gt({},r,{value:void 0}),it("invalid",e);break;case"textarea":mf(e,r),o=vc(e,r),it("invalid",e);break;default:o=r}wc(n,o),l=o;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?$m(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Om(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Qo(e,c):typeof c=="number"&&Qo(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(qo.hasOwnProperty(a)?c!=null&&a==="onScroll"&&it("scroll",e):c!=null&&Fu(e,a,c,i))}switch(n){case"input":Ea(e),pf(e,r,!1);break;case"textarea":Ea(e),hf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qr(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Ws(e,!!r.multiple,a,!1):r.defaultValue!=null&&Ws(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=bi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)lg(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=fs(oa.current),fs(Xn.current),Ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yn]=t,(a=r.nodeValue!==n)&&(e=pn,e!==null))switch(e.tag){case 3:za(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&za(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yn]=t,t.stateNode=r}return Ht(t),null;case 13:if(ct(mt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ut&&fn!==null&&t.mode&1&&!(t.flags&128))kh(),no(),t.flags|=98560,a=!1;else if(a=Ia(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(J(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Yn]=t}else no(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),a=!1}else _n!==null&&(tu(_n),_n=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?Rt===0&&(Rt=3):wd())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return so(),qc(e,t),e===null&&ta(t.stateNode.containerInfo),Ht(t),null;case 10:return rd(t.type._context),Ht(t),null;case 17:return sn(t.type)&&Si(),Ht(t),null;case 19:if(ct(mt),a=t.memoizedState,a===null)return Ht(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)Eo(a,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=_i(e),i!==null){for(t.flags|=128,Eo(a,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(mt,mt.current&1|2),t.child}e=e.sibling}a.tail!==null&&St()>ao&&(t.flags|=128,r=!0,Eo(a,!1),t.lanes=4194304)}else{if(!r)if(e=_i(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Eo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ut)return Ht(t),null}else 2*St()-a.renderingStartTime>ao&&n!==1073741824&&(t.flags|=128,r=!0,Eo(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(n=a.last,n!==null?n.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=St(),t.sibling=null,n=mt.current,rt(mt,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return yd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function kw(e,t){switch(Ju(t),t.tag){case 1:return sn(t.type)&&Si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return so(),ct(rn),ct(Gt),ld(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return id(t),null;case 13:if(ct(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));no()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(mt),null;case 4:return so(),null;case 10:return rd(t.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var $a=!1,Vt=!1,Ew=typeof WeakSet=="function"?WeakSet:Set,he=null;function Bs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(e,t,r)}else n.current=null}function Qc(e,t,n){try{n()}catch(r){wt(e,t,r)}}var sp=!1;function Pw(e,t){if(Dc=yi,e=ph(),Zu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,d=0,m=0,f=e,g=null;t:for(;;){for(var w;f!==n||o!==0&&f.nodeType!==3||(l=i+o),f!==a||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(w=f.firstChild)!==null;)g=f,f=w;for(;;){if(f===e)break t;if(g===n&&++d===o&&(l=i),g===a&&++m===r&&(c=i),(w=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=w}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rc={focusedElem:e,selectionRange:n},yi=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,j=y.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?x:Pn(t.type,x),j);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){wt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return y=sp,sp=!1,y}function Ho(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Qc(t,n,a)}o=o.next}while(o!==r)}}function nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cg(e){var t=e.alternate;t!==null&&(e.alternate=null,cg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[ra],delete t[zc],delete t[uw],delete t[dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ug(e){return e.tag===5||e.tag===3||e.tag===4}function op(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ug(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bi));else if(r!==4&&(e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function Zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zc(e,t,n),e=e.sibling;e!==null;)Zc(e,t,n),e=e.sibling}var Ot=null,Tn=!1;function Nr(e,t,n){for(n=n.child;n!==null;)dg(e,t,n),n=n.sibling}function dg(e,t,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Qi,n)}catch{}switch(n.tag){case 5:Vt||Bs(n,t);case 6:var r=Ot,o=Tn;Ot=null,Nr(e,t,n),Ot=r,Tn=o,Ot!==null&&(Tn?(e=Ot,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ot.removeChild(n.stateNode));break;case 18:Ot!==null&&(Tn?(e=Ot,n=n.stateNode,e.nodeType===8?Bl(e.parentNode,n):e.nodeType===1&&Bl(e,n),Xo(e)):Bl(Ot,n.stateNode));break;case 4:r=Ot,o=Tn,Ot=n.stateNode.containerInfo,Tn=!0,Nr(e,t,n),Ot=r,Tn=o;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Qc(n,t,i),o=o.next}while(o!==r)}Nr(e,t,n);break;case 1:if(!Vt&&(Bs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){wt(n,t,l)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Nr(e,t,n),Vt=r):Nr(e,t,n);break;default:Nr(e,t,n)}}function ap(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ew),t.forEach(function(r){var o=Ow.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ot=l.stateNode,Tn=!1;break e;case 3:Ot=l.stateNode.containerInfo,Tn=!0;break e;case 4:Ot=l.stateNode.containerInfo,Tn=!0;break e}l=l.return}if(Ot===null)throw Error(J(160));dg(a,i,o),Ot=null,Tn=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){wt(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fg(t,e),t=t.sibling}function fg(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cn(t,e),Gn(e),r&4){try{Ho(3,e,e.return),nl(3,e)}catch(x){wt(e,e.return,x)}try{Ho(5,e,e.return)}catch(x){wt(e,e.return,x)}}break;case 1:Cn(t,e),Gn(e),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Cn(t,e),Gn(e),r&512&&n!==null&&Bs(n,n.return),e.flags&32){var o=e.stateNode;try{Qo(o,"")}catch(x){wt(e,e.return,x)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Mm(o,a),jc(l,i);var d=jc(l,a);for(i=0;i<c.length;i+=2){var m=c[i],f=c[i+1];m==="style"?$m(o,f):m==="dangerouslySetInnerHTML"?Om(o,f):m==="children"?Qo(o,f):Fu(o,m,f,d)}switch(l){case"input":gc(o,a);break;case"textarea":zm(o,a);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?Ws(o,!!a.multiple,w,!1):g!==!!a.multiple&&(a.defaultValue!=null?Ws(o,!!a.multiple,a.defaultValue,!0):Ws(o,!!a.multiple,a.multiple?[]:"",!1))}o[ra]=a}catch(x){wt(e,e.return,x)}}break;case 6:if(Cn(t,e),Gn(e),r&4){if(e.stateNode===null)throw Error(J(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(x){wt(e,e.return,x)}}break;case 3:if(Cn(t,e),Gn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(t.containerInfo)}catch(x){wt(e,e.return,x)}break;case 4:Cn(t,e),Gn(e);break;case 13:Cn(t,e),Gn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(xd=St())),r&4&&ap(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Vt=(d=Vt)||m,Cn(t,e),Vt=d):Cn(t,e),Gn(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(he=e,m=e.child;m!==null;){for(f=he=m;he!==null;){switch(g=he,w=g.child,g.tag){case 0:case 11:case 14:case 15:Ho(4,g,g.return);break;case 1:Bs(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){wt(r,n,x)}}break;case 5:Bs(g,g.return);break;case 22:if(g.memoizedState!==null){lp(f);continue}}w!==null?(w.return=g,he=w):lp(f)}m=m.sibling}e:for(m=null,f=e;;){if(f.tag===5){if(m===null){m=f;try{o=f.stateNode,d?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Fm("display",i))}catch(x){wt(e,e.return,x)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){wt(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cn(t,e),Gn(e),r&4&&ap(e);break;case 21:break;default:Cn(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ug(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Qo(o,""),r.flags&=-33);var a=op(e);Zc(e,a,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=op(e);Kc(e,l,i);break;default:throw Error(J(161))}}catch(c){wt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tw(e,t,n){he=e,pg(e)}function pg(e,t,n){for(var r=(e.mode&1)!==0;he!==null;){var o=he,a=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||$a;if(!i){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Vt;l=$a;var d=Vt;if($a=i,(Vt=c)&&!d)for(he=o;he!==null;)i=he,c=i.child,i.tag===22&&i.memoizedState!==null?cp(o):c!==null?(c.return=i,he=c):cp(o);for(;a!==null;)he=a,pg(a),a=a.sibling;he=o,$a=l,Vt=d}ip(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,he=a):ip(e)}}function ip(e){for(;he!==null;){var t=he;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vt||nl(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Pn(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Vf(t,a,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Vf(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&Xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Vt||t.flags&512&&Yc(t)}catch(g){wt(t,t.return,g)}}if(t===e){he=null;break}if(n=t.sibling,n!==null){n.return=t.return,he=n;break}he=t.return}}function lp(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var n=t.sibling;if(n!==null){n.return=t.return,he=n;break}he=t.return}}function cp(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(c){wt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){wt(t,o,c)}}var a=t.return;try{Yc(t)}catch(c){wt(t,a,c)}break;case 5:var i=t.return;try{Yc(t)}catch(c){wt(t,i,c)}}}catch(c){wt(t,t.return,c)}if(t===e){he=null;break}var l=t.sibling;if(l!==null){l.return=t.return,he=l;break}he=t.return}}var _w=Math.ceil,Ai=wr.ReactCurrentDispatcher,hd=wr.ReactCurrentOwner,jn=wr.ReactCurrentBatchConfig,Ve=0,zt=null,Ct=null,Ft=0,un=0,Us=es(0),Rt=0,ca=null,vs=0,rl=0,gd=0,Vo=null,tn=null,xd=0,ao=1/0,cr=null,Mi=!1,Xc=null,Wr=null,La=!1,Or=null,zi=0,Go=0,Jc=null,oi=-1,ai=0;function Yt(){return Ve&6?St():oi!==-1?oi:oi=St()}function Hr(e){return e.mode&1?Ve&2&&Ft!==0?Ft&-Ft:pw.transition!==null?(ai===0&&(ai=Zm()),ai):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:sh(e.type)),e):1}function Fn(e,t,n,r){if(50<Go)throw Go=0,Jc=null,Error(J(185));pa(e,n,r),(!(Ve&2)||e!==zt)&&(e===zt&&(!(Ve&2)&&(rl|=n),Rt===4&&Dr(e,Ft)),on(e,r),n===1&&Ve===0&&!(t.mode&1)&&(ao=St()+500,Ji&&ts()))}function on(e,t){var n=e.callbackNode;py(e,t);var r=vi(e,e===zt?Ft:0);if(r===0)n!==null&&vf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&vf(n),t===1)e.tag===0?fw(up.bind(null,e)):Sh(up.bind(null,e)),lw(function(){!(Ve&6)&&ts()}),n=null;else{switch(Xm(r)){case 1:n=Wu;break;case 4:n=Ym;break;case 16:n=xi;break;case 536870912:n=Km;break;default:n=xi}n=jg(n,mg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mg(e,t){if(oi=-1,ai=0,Ve&6)throw Error(J(327));var n=e.callbackNode;if(Qs()&&e.callbackNode!==n)return null;var r=vi(e,e===zt?Ft:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ii(e,r);else{t=r;var o=Ve;Ve|=2;var a=gg();(zt!==e||Ft!==t)&&(cr=null,ao=St()+500,ps(e,t));do try{Aw();break}catch(l){hg(e,l)}while(!0);nd(),Ai.current=a,Ve=o,Ct!==null?t=0:(zt=null,Ft=0,t=Rt)}if(t!==0){if(t===2&&(o=kc(e),o!==0&&(r=o,t=eu(e,o))),t===1)throw n=ca,ps(e,0),Dr(e,r),on(e,St()),n;if(t===6)Dr(e,r);else{if(o=e.current.alternate,!(r&30)&&!Dw(o)&&(t=Ii(e,r),t===2&&(a=kc(e),a!==0&&(r=a,t=eu(e,a))),t===1))throw n=ca,ps(e,0),Dr(e,r),on(e,St()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:ls(e,tn,cr);break;case 3:if(Dr(e,r),(r&130023424)===r&&(t=xd+500-St(),10<t)){if(vi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Yt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Mc(ls.bind(null,e,tn,cr),t);break}ls(e,tn,cr);break;case 4:if(Dr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-On(r);a=1<<i,i=t[i],i>o&&(o=i),r&=~a}if(r=o,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_w(r/1960))-r,10<r){e.timeoutHandle=Mc(ls.bind(null,e,tn,cr),r);break}ls(e,tn,cr);break;case 5:ls(e,tn,cr);break;default:throw Error(J(329))}}}return on(e,St()),e.callbackNode===n?mg.bind(null,e):null}function eu(e,t){var n=Vo;return e.current.memoizedState.isDehydrated&&(ps(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=tn,tn=n,t!==null&&tu(t)),e}function tu(e){tn===null?tn=e:tn.push.apply(tn,e)}function Dw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!$n(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t){for(t&=~gd,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),r=1<<n;e[n]=-1,t&=~r}}function up(e){if(Ve&6)throw Error(J(327));Qs();var t=vi(e,0);if(!(t&1))return on(e,St()),null;var n=Ii(e,t);if(e.tag!==0&&n===2){var r=kc(e);r!==0&&(t=r,n=eu(e,r))}if(n===1)throw n=ca,ps(e,0),Dr(e,t),on(e,St()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ls(e,tn,cr),on(e,St()),null}function vd(e,t){var n=Ve;Ve|=1;try{return e(t)}finally{Ve=n,Ve===0&&(ao=St()+500,Ji&&ts())}}function ys(e){Or!==null&&Or.tag===0&&!(Ve&6)&&Qs();var t=Ve;Ve|=1;var n=jn.transition,r=Ye;try{if(jn.transition=null,Ye=1,e)return e()}finally{Ye=r,jn.transition=n,Ve=t,!(Ve&6)&&ts()}}function yd(){un=Us.current,ct(Us)}function ps(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iw(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(Ju(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Si();break;case 3:so(),ct(rn),ct(Gt),ld();break;case 5:id(r);break;case 4:so();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:rd(r.type._context);break;case 22:case 23:yd()}n=n.return}if(zt=e,Ct=e=Vr(e.current,null),Ft=un=t,Rt=0,ca=null,gd=rl=vs=0,tn=Vo=null,ds!==null){for(t=0;t<ds.length;t++)if(n=ds[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var i=a.next;a.next=o,r.next=i}n.pending=r}ds=null}return e}function hg(e,t){do{var n=Ct;try{if(nd(),ni.current=Ri,Di){for(var r=ht.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Di=!1}if(xs=0,Mt=Dt=ht=null,Wo=!1,aa=0,hd.current=null,n===null||n.return===null){Rt=1,ca=t,Ct=null;break}e:{var a=e,i=n.return,l=n,c=t;if(t=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=l,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=Zf(i);if(w!==null){w.flags&=-257,Xf(w,i,l,a,t),w.mode&1&&Kf(a,d,t),t=w,c=d;var y=t.updateQueue;if(y===null){var x=new Set;x.add(c),t.updateQueue=x}else y.add(c);break e}else{if(!(t&1)){Kf(a,d,t),wd();break e}c=Error(J(426))}}else if(ut&&l.mode&1){var j=Zf(i);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Xf(j,i,l,a,t),ed(oo(c,l));break e}}a=c=oo(c,l),Rt!==4&&(Rt=2),Vo===null?Vo=[a]:Vo.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var h=Xh(a,c,t);Hf(a,h);break e;case 1:l=c;var p=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Wr===null||!Wr.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=Jh(a,l,t);Hf(a,S);break e}}a=a.return}while(a!==null)}vg(n)}catch(k){t=k,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function gg(){var e=Ai.current;return Ai.current=Ri,e===null?Ri:e}function wd(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),zt===null||!(vs&268435455)&&!(rl&268435455)||Dr(zt,Ft)}function Ii(e,t){var n=Ve;Ve|=2;var r=gg();(zt!==e||Ft!==t)&&(cr=null,ps(e,t));do try{Rw();break}catch(o){hg(e,o)}while(!0);if(nd(),Ve=n,Ai.current=r,Ct!==null)throw Error(J(261));return zt=null,Ft=0,Rt}function Rw(){for(;Ct!==null;)xg(Ct)}function Aw(){for(;Ct!==null&&!sy();)xg(Ct)}function xg(e){var t=wg(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?vg(e):Ct=t,hd.current=null}function vg(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kw(n,t),n!==null){n.flags&=32767,Ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Ct=null;return}}else if(n=Cw(n,t,un),n!==null){Ct=n;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);Rt===0&&(Rt=5)}function ls(e,t,n){var r=Ye,o=jn.transition;try{jn.transition=null,Ye=1,Mw(e,t,n,r)}finally{jn.transition=o,Ye=r}return null}function Mw(e,t,n,r){do Qs();while(Or!==null);if(Ve&6)throw Error(J(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(my(e,a),e===zt&&(Ct=zt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,jg(xi,function(){return Qs(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=jn.transition,jn.transition=null;var i=Ye;Ye=1;var l=Ve;Ve|=4,hd.current=null,Pw(e,n),fg(n,e),ew(Rc),yi=!!Dc,Rc=Dc=null,e.current=n,Tw(n),oy(),Ve=l,Ye=i,jn.transition=a}else e.current=n;if(La&&(La=!1,Or=e,zi=o),a=e.pendingLanes,a===0&&(Wr=null),ly(n.stateNode),on(e,St()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Mi)throw Mi=!1,e=Xc,Xc=null,e;return zi&1&&e.tag!==0&&Qs(),a=e.pendingLanes,a&1?e===Jc?Go++:(Go=0,Jc=e):Go=0,ts(),null}function Qs(){if(Or!==null){var e=Xm(zi),t=jn.transition,n=Ye;try{if(jn.transition=null,Ye=16>e?16:e,Or===null)var r=!1;else{if(e=Or,Or=null,zi=0,Ve&6)throw Error(J(331));var o=Ve;for(Ve|=4,he=e.current;he!==null;){var a=he,i=a.child;if(he.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(he=d;he!==null;){var m=he;switch(m.tag){case 0:case 11:case 15:Ho(8,m,a)}var f=m.child;if(f!==null)f.return=m,he=f;else for(;he!==null;){m=he;var g=m.sibling,w=m.return;if(cg(m),m===d){he=null;break}if(g!==null){g.return=w,he=g;break}he=w}}}var y=a.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}he=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,he=i;else e:for(;he!==null;){if(a=he,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ho(9,a,a.return)}var h=a.sibling;if(h!==null){h.return=a.return,he=h;break e}he=a.return}}var p=e.current;for(he=p;he!==null;){i=he;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,he=v;else e:for(i=p;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){wt(l,l.return,k)}if(l===i){he=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,he=S;break e}he=l.return}}if(Ve=o,ts(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Qi,e)}catch{}r=!0}return r}finally{Ye=n,jn.transition=t}}return!1}function dp(e,t,n){t=oo(n,t),t=Xh(e,t,1),e=Ur(e,t,1),t=Yt(),e!==null&&(pa(e,1,t),on(e,t))}function wt(e,t,n){if(e.tag===3)dp(e,e,n);else for(;t!==null;){if(t.tag===3){dp(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wr===null||!Wr.has(r))){e=oo(n,e),e=Jh(t,e,1),t=Ur(t,e,1),e=Yt(),t!==null&&(pa(t,1,e),on(t,e));break}}t=t.return}}function zw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Ft&n)===n&&(Rt===4||Rt===3&&(Ft&130023424)===Ft&&500>St()-xd?ps(e,0):gd|=n),on(e,t)}function yg(e,t){t===0&&(e.mode&1?(t=_a,_a<<=1,!(_a&130023424)&&(_a=4194304)):t=1);var n=Yt();e=gr(e,t),e!==null&&(pa(e,t,n),on(e,n))}function Iw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yg(e,n)}function Ow(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),yg(e,n)}var wg;wg=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nn=!1,Nw(e,t,n);nn=!!(e.flags&131072)}else nn=!1,ut&&t.flags&1048576&&Nh(t,ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;si(e,t),e=t.pendingProps;var o=to(t,Gt.current);qs(t,n),o=ud(null,t,r,e,o,n);var a=dd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sn(r)?(a=!0,Ni(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,od(t),o.updater=tl,t.stateNode=o,o._reactInternals=t,Bc(t,r,e,n),t=Hc(null,t,r,!0,a,n)):(t.tag=0,ut&&a&&Xu(t),Qt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(si(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=$w(r),e=Pn(r,e),o){case 0:t=Wc(null,t,r,e,n);break e;case 1:t=tp(null,t,r,e,n);break e;case 11:t=Jf(null,t,r,e,n);break e;case 14:t=ep(null,t,r,Pn(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),Wc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),tp(e,t,r,o,n);case 3:e:{if(rg(t),e===null)throw Error(J(387));r=t.pendingProps,a=t.memoizedState,o=a.element,_h(e,t),Ti(t,r,null,n);var i=t.memoizedState;if(r=i.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=oo(Error(J(423)),t),t=np(e,t,r,n,o);break e}else if(r!==o){o=oo(Error(J(424)),t),t=np(e,t,r,n,o);break e}else for(fn=Br(t.stateNode.containerInfo.firstChild),pn=t,ut=!0,_n=null,n=Ph(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(no(),r===o){t=xr(e,t,n);break e}Qt(e,t,r,n)}t=t.child}return t;case 5:return Dh(t),e===null&&Fc(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,Ac(r,o)?i=null:a!==null&&Ac(r,a)&&(t.flags|=32),ng(e,t),Qt(e,t,i,n),t.child;case 6:return e===null&&Fc(t),null;case 13:return sg(e,t,n);case 4:return ad(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ro(t,null,r,n):Qt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),Jf(e,t,r,o,n);case 7:return Qt(e,t,t.pendingProps,n),t.child;case 8:return Qt(e,t,t.pendingProps.children,n),t.child;case 12:return Qt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,rt(Ei,r._currentValue),r._currentValue=i,a!==null)if($n(a.value,i)){if(a.children===o.children&&!rn.current){t=xr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=pr(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),$c(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(J(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),$c(i,n,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Qt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,qs(t,n),o=bn(o),r=r(o),t.flags|=1,Qt(e,t,r,n),t.child;case 14:return r=t.type,o=Pn(r,t.pendingProps),o=Pn(r.type,o),ep(e,t,r,o,n);case 15:return eg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Pn(r,o),si(e,t),t.tag=1,sn(r)?(e=!0,Ni(t)):e=!1,qs(t,n),Zh(t,r,o),Bc(t,r,o,n),Hc(null,t,r,!0,e,n);case 19:return og(e,t,n);case 22:return tg(e,t,n)}throw Error(J(156,t.tag))};function jg(e,t){return Qm(e,t)}function Fw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,t,n,r){return new Fw(e,t,n,r)}function jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $w(e){if(typeof e=="function")return jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lu)return 11;if(e===Bu)return 14}return 2}function Vr(e,t){var n=e.alternate;return n===null?(n=wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ii(e,t,n,r,o,a){var i=2;if(r=e,typeof e=="function")jd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Rs:return ms(n.children,o,a,t);case $u:i=8,o|=8;break;case dc:return e=wn(12,n,t,o|2),e.elementType=dc,e.lanes=a,e;case fc:return e=wn(13,n,t,o),e.elementType=fc,e.lanes=a,e;case pc:return e=wn(19,n,t,o),e.elementType=pc,e.lanes=a,e;case Dm:return sl(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tm:i=10;break e;case _m:i=9;break e;case Lu:i=11;break e;case Bu:i=14;break e;case Pr:i=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=wn(i,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function ms(e,t,n,r){return e=wn(7,e,r,t),e.lanes=n,e}function sl(e,t,n,r){return e=wn(22,e,r,t),e.elementType=Dm,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=wn(6,e,null,t),e.lanes=n,e}function Kl(e,t,n){return t=wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lw(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_l(0),this.expirationTimes=_l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_l(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function bd(e,t,n,r,o,a,i,l,c){return e=new Lw(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=wn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(a),e}function Bw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ds,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bg(e){if(!e)return Yr;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(sn(n))return bh(e,n,t)}return t}function Sg(e,t,n,r,o,a,i,l,c){return e=bd(n,r,!0,e,o,a,i,l,c),e.context=bg(null),n=e.current,r=Yt(),o=Hr(n),a=pr(r,o),a.callback=t??null,Ur(n,a,o),e.current.lanes=o,pa(e,o,r),on(e,r),e}function ol(e,t,n,r){var o=t.current,a=Yt(),i=Hr(o);return n=bg(n),t.context===null?t.context=n:t.pendingContext=n,t=pr(a,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ur(o,t,i),e!==null&&(Fn(e,o,i,a),ti(e,o,i)),i}function Oi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sd(e,t){fp(e,t),(e=e.alternate)&&fp(e,t)}function Uw(){return null}var Ng=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nd(e){this._internalRoot=e}al.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));ol(e,t,null,null)};al.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ys(function(){ol(null,e,null,null)}),t[hr]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=th();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_r.length&&t!==0&&t<_r[n].priority;n++);_r.splice(n,0,e),n===0&&rh(e)}};function Cd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pp(){}function Ww(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var d=Oi(i);a.call(d)}}var i=Sg(t,r,e,0,null,!1,!1,"",pp);return e._reactRootContainer=i,e[hr]=i.current,ta(e.nodeType===8?e.parentNode:e),ys(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var d=Oi(c);l.call(d)}}var c=bd(e,0,!1,null,null,!1,!1,"",pp);return e._reactRootContainer=c,e[hr]=c.current,ta(e.nodeType===8?e.parentNode:e),ys(function(){ol(t,c,n,r)}),c}function ll(e,t,n,r,o){var a=n._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var l=o;o=function(){var c=Oi(i);l.call(c)}}ol(t,i,e,o)}else i=Ww(n,t,e,o,r);return Oi(i)}Jm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zo(t.pendingLanes);n!==0&&(Hu(t,n|1),on(t,St()),!(Ve&6)&&(ao=St()+500,ts()))}break;case 13:ys(function(){var r=gr(e,1);if(r!==null){var o=Yt();Fn(r,e,1,o)}}),Sd(e,1)}};Vu=function(e){if(e.tag===13){var t=gr(e,134217728);if(t!==null){var n=Yt();Fn(t,e,134217728,n)}Sd(e,134217728)}};eh=function(e){if(e.tag===13){var t=Hr(e),n=gr(e,t);if(n!==null){var r=Yt();Fn(n,e,t,r)}Sd(e,t)}};th=function(){return Ye};nh=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};Sc=function(e,t,n){switch(t){case"input":if(gc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Xi(r);if(!o)throw Error(J(90));Am(r),gc(r,o)}}}break;case"textarea":zm(e,n);break;case"select":t=n.value,t!=null&&Ws(e,!!n.multiple,t,!1)}};Um=vd;Wm=ys;var Hw={usingClientEntryPoint:!1,Events:[ha,Is,Xi,Lm,Bm,vd]},Po={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vw={bundleType:Po.bundleType,version:Po.version,rendererPackageName:Po.rendererPackageName,rendererConfig:Po.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gm(e),e===null?null:e.stateNode},findFiberByHostInstance:Po.findFiberByHostInstance||Uw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{Qi=Ba.inject(Vw),Zn=Ba}catch{}}gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;gn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(t))throw Error(J(200));return Bw(e,t,null,n)};gn.createRoot=function(e,t){if(!Cd(e))throw Error(J(299));var n=!1,r="",o=Ng;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=bd(e,1,!1,null,null,n,!1,r,o),e[hr]=t.current,ta(e.nodeType===8?e.parentNode:e),new Nd(t)};gn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=Gm(t),e=e===null?null:e.stateNode,e};gn.flushSync=function(e){return ys(e)};gn.hydrate=function(e,t,n){if(!il(t))throw Error(J(200));return ll(null,e,t,!0,n)};gn.hydrateRoot=function(e,t,n){if(!Cd(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",i=Ng;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Sg(t,null,e,1,n??null,o,!1,a,i),e[hr]=t.current,ta(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new al(t)};gn.render=function(e,t,n){if(!il(t))throw Error(J(200));return ll(null,e,t,!1,n)};gn.unmountComponentAtNode=function(e){if(!il(e))throw Error(J(40));return e._reactRootContainer?(ys(function(){ll(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};gn.unstable_batchedUpdates=vd;gn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!il(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return ll(e,t,n,!1,r)};gn.version="18.3.1-next-f1338f8080-20240426";function Cg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cg)}catch(e){console.error(e)}}Cg(),Cm.exports=gn;var po=Cm.exports;const kg=Du(po);var mp=po;cc.createRoot=mp.createRoot,cc.hydrateRoot=mp.hydrateRoot;var Gw=(e,t,n,r,o,a,i,l)=>{let c=document.documentElement,d=["light","dark"];function m(w){(Array.isArray(e)?e:[e]).forEach(y=>{let x=y==="class",j=x&&a?o.map(h=>a[h]||h):o;x?(c.classList.remove(...j),c.classList.add(a&&a[w]?a[w]:w)):c.setAttribute(y,w)}),f(w)}function f(w){l&&d.includes(w)&&(c.style.colorScheme=w)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)m(r);else try{let w=localStorage.getItem(t)||n,y=i&&w==="system"?g():w;m(y)}catch{}},hp=["light","dark"],Eg="(prefers-color-scheme: dark)",qw=typeof window>"u",kd=u.createContext(void 0),Qw={setTheme:e=>{},themes:[]},Yw=()=>{var e;return(e=u.useContext(kd))!=null?e:Qw},Kw=e=>u.useContext(kd)?u.createElement(u.Fragment,null,e.children):u.createElement(Xw,{...e}),Zw=["light","dark"],Xw=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:o="theme",themes:a=Zw,defaultTheme:i=n?"system":"light",attribute:l="data-theme",value:c,children:d,nonce:m,scriptProps:f})=>{let[g,w]=u.useState(()=>e1(o,i)),[y,x]=u.useState(()=>g==="system"?Zl():g),j=c?Object.values(c):a,h=u.useCallback(k=>{let T=k;if(!T)return;k==="system"&&n&&(T=Zl());let E=c?c[T]:T,D=t?t1(m):null,q=document.documentElement,$=Z=>{Z==="class"?(q.classList.remove(...j),E&&q.classList.add(E)):Z.startsWith("data-")&&(E?q.setAttribute(Z,E):q.removeAttribute(Z))};if(Array.isArray(l)?l.forEach($):$(l),r){let Z=hp.includes(i)?i:null,U=hp.includes(T)?T:Z;q.style.colorScheme=U}D==null||D()},[m]),p=u.useCallback(k=>{let T=typeof k=="function"?k(g):k;w(T);try{localStorage.setItem(o,T)}catch{}},[g]),v=u.useCallback(k=>{let T=Zl(k);x(T),g==="system"&&n&&!e&&h("system")},[g,e]);u.useEffect(()=>{let k=window.matchMedia(Eg);return k.addListener(v),v(k),()=>k.removeListener(v)},[v]),u.useEffect(()=>{let k=T=>{T.key===o&&(T.newValue?w(T.newValue):p(i))};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[p]),u.useEffect(()=>{h(e??g)},[e,g]);let S=u.useMemo(()=>({theme:g,setTheme:p,forcedTheme:e,resolvedTheme:g==="system"?y:g,themes:n?[...a,"system"]:a,systemTheme:n?y:void 0}),[g,p,e,y,n,a]);return u.createElement(kd.Provider,{value:S},u.createElement(Jw,{forcedTheme:e,storageKey:o,attribute:l,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:c,themes:a,nonce:m,scriptProps:f}),d)},Jw=u.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:i,themes:l,nonce:c,scriptProps:d})=>{let m=JSON.stringify([n,t,a,e,l,i,r,o]).slice(1,-1);return u.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${Gw.toString()})(${m})`}})}),e1=(e,t)=>{if(qw)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},t1=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Zl=e=>(e||(e=window.matchMedia(Eg)),e.matches?"dark":"light");const n1="modulepreload",r1=function(e){return"/"+e},gp={},nu=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=r1(c),c in gp)return;gp[c]=!0;const d=c.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":n1,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((g,w)=>{f.addEventListener("load",g),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},X="http://localhost:8080";function xp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pg(...e){return t=>{let n=!1;const r=e.map(o=>{const a=xp(o,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():xp(e[o],null)}}}}function st(...e){return u.useCallback(Pg(...e),e)}var Kr=u.forwardRef((e,t)=>{const{children:n,...r}=e,o=u.Children.toArray(n),a=o.find(s1);if(a){const i=a.props.children,l=o.map(c=>c===a?u.Children.count(i)>1?u.Children.only(null):u.isValidElement(i)?i.props.children:null:c);return s.jsx(ru,{...r,ref:t,children:u.isValidElement(i)?u.cloneElement(i,void 0,l):null})}return s.jsx(ru,{...r,ref:t,children:n})});Kr.displayName="Slot";var ru=u.forwardRef((e,t)=>{const{children:n,...r}=e;if(u.isValidElement(n)){const o=a1(n),a=o1(r,n.props);return n.type!==u.Fragment&&(a.ref=t?Pg(t,o):o),u.cloneElement(n,a)}return u.Children.count(n)>1?u.Children.only(null):null});ru.displayName="SlotClone";var Tg=({children:e})=>s.jsx(s.Fragment,{children:e});function s1(e){return u.isValidElement(e)&&e.type===Tg}function o1(e,t){const n={...t};for(const r in t){const o=e[r],a=t[r];/^on[A-Z]/.test(r)?o&&a?n[r]=(...l)=>{a(...l),o(...l)}:o&&(n[r]=o):r==="style"?n[r]={...o,...a}:r==="className"&&(n[r]=[o,a].filter(Boolean).join(" "))}return{...e,...n}}function a1(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _g(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=_g(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Dg(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=_g(e))&&(r&&(r+=" "),r+=t);return r}const vp=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,yp=Dg,Rg=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return yp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(d=>{const m=n==null?void 0:n[d],f=a==null?void 0:a[d];if(m===null)return null;const g=vp(m)||vp(f);return o[d][g]}),l=n&&Object.entries(n).reduce((d,m)=>{let[f,g]=m;return g===void 0||(d[f]=g),d},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,m)=>{let{class:f,className:g,...w}=m;return Object.entries(w).every(y=>{let[x,j]=y;return Array.isArray(j)?j.includes({...a,...l}[x]):{...a,...l}[x]===j})?[...d,f,g]:d},[]);return yp(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},Ed="-",i1=e=>{const t=c1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Ed);return l[0]===""&&l.length!==1&&l.shift(),Ag(l,t)||l1(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},Ag=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?Ag(e.slice(1),r):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(Ed);return(i=t.validators.find(({validator:l})=>l(a)))==null?void 0:i.classGroupId},wp=/^\[(.+)\]$/,l1=e=>{if(wp.test(e)){const t=wp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},c1=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return d1(Object.entries(e.classGroups),n).forEach(([a,i])=>{su(i,r,a,t)}),r},su=(e,t,n,r)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:jp(t,o);a.classGroupId=n;return}if(typeof o=="function"){if(u1(o)){su(o(r),t,n,r);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([a,i])=>{su(i,jp(t,a),n,r)})})},jp=(e,t)=>{let n=e;return t.split(Ed).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},u1=e=>e.isThemeGetter,d1=(e,t)=>t?e.map(([n,r])=>{const o=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([i,l])=>[t+i,l])):a);return[n,o]}):e,f1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(a,i)=>{n.set(a,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let i=n.get(a);if(i!==void 0)return i;if((i=r.get(a))!==void 0)return o(a,i),i},set(a,i){n.has(a)?n.set(a,i):o(a,i)}}},Mg="!",p1=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,o=t[0],a=t.length,i=l=>{const c=[];let d=0,m=0,f;for(let j=0;j<l.length;j++){let h=l[j];if(d===0){if(h===o&&(r||l.slice(j,j+a)===t)){c.push(l.slice(m,j)),m=j+a;continue}if(h==="/"){f=j;continue}}h==="["?d++:h==="]"&&d--}const g=c.length===0?l:l.substring(m),w=g.startsWith(Mg),y=w?g.substring(1):g,x=f&&f>m?f-m:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:i}):i},m1=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},h1=e=>({cache:f1(e.cacheSize),parseClassName:p1(e),...i1(e)}),g1=/\s+/,x1=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,a=[],i=e.trim().split(g1);let l="";for(let c=i.length-1;c>=0;c-=1){const d=i[c],{modifiers:m,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:w}=n(d);let y=!!w,x=r(y?g.substring(0,w):g);if(!x){if(!y){l=d+(l.length>0?" "+l:l);continue}if(x=r(g),!x){l=d+(l.length>0?" "+l:l);continue}y=!1}const j=m1(m).join(":"),h=f?j+Mg:j,p=h+x;if(a.includes(p))continue;a.push(p);const v=o(x,y);for(let S=0;S<v.length;++S){const k=v[S];a.push(h+k)}l=d+(l.length>0?" "+l:l)}return l};function v1(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=zg(t))&&(r&&(r+=" "),r+=n);return r}const zg=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=zg(e[r]))&&(n&&(n+=" "),n+=t);return n};function y1(e,...t){let n,r,o,a=i;function i(c){const d=t.reduce((m,f)=>f(m),e());return n=h1(d),r=n.cache.get,o=n.cache.set,a=l,l(c)}function l(c){const d=r(c);if(d)return d;const m=x1(c,n);return o(c,m),m}return function(){return a(v1.apply(null,arguments))}}const at=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ig=/^\[(?:([a-z-]+):)?(.+)\]$/i,w1=/^\d+\/\d+$/,j1=new Set(["px","full","screen"]),b1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,C1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,k1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=e=>Ys(e)||j1.has(e)||w1.test(e),Cr=e=>mo(e,"length",M1),Ys=e=>!!e&&!Number.isNaN(Number(e)),Xl=e=>mo(e,"number",Ys),To=e=>!!e&&Number.isInteger(Number(e)),E1=e=>e.endsWith("%")&&Ys(e.slice(0,-1)),Me=e=>Ig.test(e),kr=e=>b1.test(e),P1=new Set(["length","size","percentage"]),T1=e=>mo(e,P1,Og),_1=e=>mo(e,"position",Og),D1=new Set(["image","url"]),R1=e=>mo(e,D1,I1),A1=e=>mo(e,"",z1),_o=()=>!0,mo=(e,t,n)=>{const r=Ig.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},M1=e=>S1.test(e)&&!N1.test(e),Og=()=>!1,z1=e=>C1.test(e),I1=e=>k1.test(e),O1=()=>{const e=at("colors"),t=at("spacing"),n=at("blur"),r=at("brightness"),o=at("borderColor"),a=at("borderRadius"),i=at("borderSpacing"),l=at("borderWidth"),c=at("contrast"),d=at("grayscale"),m=at("hueRotate"),f=at("invert"),g=at("gap"),w=at("gradientColorStops"),y=at("gradientColorStopPositions"),x=at("inset"),j=at("margin"),h=at("opacity"),p=at("padding"),v=at("saturate"),S=at("scale"),k=at("sepia"),T=at("skew"),E=at("space"),D=at("translate"),q=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",Me,t],U=()=>[Me,t],F=()=>["",lr,Cr],H=()=>["auto",Ys,Me],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],b=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",Me],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Ys,Me];return{cacheSize:500,separator:":",theme:{colors:[_o],spacing:[lr,Cr],blur:["none","",kr,Me],brightness:O(),borderColor:[e],borderRadius:["none","","full",kr,Me],borderSpacing:U(),borderWidth:F(),contrast:O(),grayscale:P(),hueRotate:O(),invert:P(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[E1,Cr],inset:Z(),margin:Z(),opacity:O(),padding:U(),saturate:O(),scale:O(),sepia:P(),skew:O(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[kr]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Me]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",To,Me]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",To,Me]}],"grid-cols":[{"grid-cols":[_o]}],"col-start-end":[{col:["auto",{span:["full",To,Me]},Me]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[_o]}],"row-start-end":[{row:["auto",{span:[To,Me]},Me]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...b()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...b(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...b(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[kr]},kr]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kr,Cr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xl]}],"font-family":[{font:[_o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",Ys,Xl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lr,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[h]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[h]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lr,Cr]}],"underline-offset":[{"underline-offset":["auto",lr,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[h]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),_1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",T1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},R1]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[h]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[h]}],"divide-style":[{divide:L()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[lr,Me]}],"outline-w":[{outline:[lr,Cr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[h]}],"ring-offset-w":[{"ring-offset":[lr,Cr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kr,A1]}],"shadow-color":[{shadow:[_o]}],opacity:[{opacity:[h]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",kr,Me]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[h]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[To,Me]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lr,Cr,Xl]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F1=y1(O1);function De(...e){return F1(Dg(e))}const Pd=Rg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Q({className:e,variant:t,size:n,asChild:r=!1,...o}){const a=r?Kr:"button";return s.jsx(a,{"data-slot":"button",className:De(Pd({variant:t,size:n,className:e})),...o})}function Ee({className:e,type:t,...n}){return s.jsx("input",{type:t,"data-slot":"input",className:De("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var $1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ze=$1.reduce((e,t)=>{const n=u.forwardRef((r,o)=>{const{asChild:a,...i}=r,l=a?Kr:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function L1(e,t){e&&po.flushSync(()=>e.dispatchEvent(t))}var B1="Label",Fg=u.forwardRef((e,t)=>s.jsx(ze.label,{...e,ref:t,onMouseDown:n=>{var o;n.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Fg.displayName=B1;var U1=Fg;function ve({className:e,...t}){return s.jsx(U1,{"data-slot":"label",className:De("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function Xe({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:De("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function dt({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:De("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ft({className:e,...t}){return s.jsx("h4",{"data-slot":"card-title",className:De("leading-none",e),...t})}function $g({className:e,...t}){return s.jsx("p",{"data-slot":"card-description",className:De("text-muted-foreground",e),...t})}function nt({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:De("px-6 [&:last-child]:pb-6",e),...t})}function W1(e,t){const n=u.createContext(t),r=a=>{const{children:i,...l}=a,c=u.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function o(a){const i=u.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,o]}function tr(e,t=[]){let n=[];function r(a,i){const l=u.createContext(i),c=n.length;n=[...n,i];const d=f=>{var h;const{scope:g,children:w,...y}=f,x=((h=g==null?void 0:g[e])==null?void 0:h[c])||l,j=u.useMemo(()=>y,Object.values(y));return s.jsx(x.Provider,{value:j,children:w})};d.displayName=a+"Provider";function m(f,g){var x;const w=((x=g==null?void 0:g[e])==null?void 0:x[c])||l,y=u.useContext(w);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,m]}const o=()=>{const a=n.map(i=>u.createContext(i));return function(l){const c=(l==null?void 0:l[e])||a;return u.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return o.scopeName=e,[r,H1(o,...t)]}function H1(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...l,...f}},{});return u.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Ln(e){const t=u.useRef(e);return u.useEffect(()=>{t.current=e}),u.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ws({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,o]=V1({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=Ln(n),c=u.useCallback(d=>{if(a){const f=typeof d=="function"?d(e):d;f!==e&&l(f)}else o(d)},[a,e,o,l]);return[i,c]}function V1({defaultProp:e,onChange:t}){const n=u.useState(e),[r]=n,o=u.useRef(r),a=Ln(t);return u.useEffect(()=>{o.current!==r&&(a(r),o.current=r)},[r,o,a]),n}function Td(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Lt=globalThis!=null&&globalThis.document?u.useLayoutEffect:()=>{};function _d(e){const[t,n]=u.useState(void 0);return Lt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;i=d.inlineSize,l=d.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function G1(e,t){return u.useReducer((n,r)=>t[n][r]??n,e)}var ho=e=>{const{present:t,children:n}=e,r=q1(t),o=typeof n=="function"?n({present:r.isPresent}):u.Children.only(n),a=st(r.ref,Q1(o));return typeof n=="function"||r.isPresent?u.cloneElement(o,{ref:a}):null};ho.displayName="Presence";function q1(e){const[t,n]=u.useState(),r=u.useRef({}),o=u.useRef(e),a=u.useRef("none"),i=e?"mounted":"unmounted",[l,c]=G1(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return u.useEffect(()=>{const d=Ua(r.current);a.current=l==="mounted"?d:"none"},[l]),Lt(()=>{const d=r.current,m=o.current;if(m!==e){const g=a.current,w=Ua(d);e?c("MOUNT"):w==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(m&&g!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),Lt(()=>{if(t){let d;const m=t.ownerDocument.defaultView??window,f=w=>{const x=Ua(r.current).includes(w.animationName);if(w.target===t&&x&&(c("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=w=>{w.target===t&&(a.current=Ua(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{m.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:u.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Ua(e){return(e==null?void 0:e.animationName)||"none"}function Q1(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dd="Checkbox",[Y1]=tr(Dd),[K1,Z1]=Y1(Dd),Lg=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:o,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:m,...f}=e,[g,w]=u.useState(null),y=st(t,S=>w(S)),x=u.useRef(!1),j=g?m||!!g.closest("form"):!0,[h=!1,p]=ws({prop:o,defaultProp:a,onChange:d}),v=u.useRef(h);return u.useEffect(()=>{const S=g==null?void 0:g.form;if(S){const k=()=>p(v.current);return S.addEventListener("reset",k),()=>S.removeEventListener("reset",k)}},[g,p]),s.jsxs(K1,{scope:n,state:h,disabled:l,children:[s.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":Gr(h)?"mixed":h,"aria-required":i,"data-state":Wg(h),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:Ie(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ie(e.onClick,S=>{p(k=>Gr(k)?!0:!k),j&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),j&&s.jsx(X1,{control:g,bubbles:!x.current,name:r,value:c,checked:h,required:i,disabled:l,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Gr(a)?!1:a})]})});Lg.displayName=Dd;var Bg="CheckboxIndicator",Ug=u.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...o}=e,a=Z1(Bg,n);return s.jsx(ho,{present:r||Gr(a.state)||a.state===!0,children:s.jsx(ze.span,{"data-state":Wg(a.state),"data-disabled":a.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Ug.displayName=Bg;var X1=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:o,...a}=e,i=u.useRef(null),l=Td(n),c=_d(t);u.useEffect(()=>{const m=i.current,f=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&w){const y=new Event("click",{bubbles:r});m.indeterminate=Gr(n),w.call(m,Gr(n)?!1:n),m.dispatchEvent(y)}},[l,n,r]);const d=u.useRef(Gr(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??d.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Gr(e){return e==="indeterminate"}function Wg(e){return Gr(e)?"indeterminate":e?"checked":"unchecked"}var J1=Lg,ej=Ug;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nj=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),bp=e=>{const t=nj(e);return t.charAt(0).toUpperCase()+t.slice(1)},Hg=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=u.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:i,...l},c)=>u.createElement("svg",{ref:c,...rj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Hg("lucide",o),...l},[...i.map(([d,m])=>u.createElement(d,m)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const n=u.forwardRef(({className:r,...o},a)=>u.createElement(sj,{ref:a,iconNode:t,className:Hg(`lucide-${tj(bp(e))}`,`lucide-${e}`,r),...o}));return n.displayName=bp(e),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ou=Ae("arrow-left",oj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Dn=Ae("book-open",aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lj=Ae("calendar",ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cl=Ae("check",cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rd=Ae("chevron-down",uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Sp=Ae("chevron-left",dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Np=Ae("chevron-right",fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],mj=Ae("chevron-up",pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gj=Ae("circle-alert",hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vj=Ae("circle-check-big",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ad=Ae("circle-check",yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jj=Ae("circle-help",wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Sj=Ae("circle-user",bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vg=Ae("circle-x",Nj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],kj=Ae("clock-3",Cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Gg=Ae("clock",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M13 4h3a2 2 0 0 1 2 2v14",key:"hrm0s9"}],["path",{d:"M2 20h3",key:"1gaodv"}],["path",{d:"M13 20h9",key:"s90cdi"}],["path",{d:"M10 12v.01",key:"vx6srw"}],["path",{d:"M13 4.562v16.157a1 1 0 0 1-1.242.97L5 20V5.562a2 2 0 0 1 1.515-1.94l4-1A2 2 0 0 1 13 4.561Z",key:"199qr4"}]],Cp=Ae("door-open",Pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],au=Ae("file-text",Tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],iu=Ae("graduation-cap",_j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Rj=Ae("grip-vertical",Dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Mj=Ae("heart",Aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ij=Ae("layout-dashboard",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rn=Ae("loader-circle",Oj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$j=Ae("log-out",Fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kp=Ae("map-pin",Lj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Uj=Ae("mic-off",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],qg=Ae("mic",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Vj=Ae("monitor",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Md=Ae("pencil",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ua=Ae("plus",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Yj=Ae("refresh-ccw",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Zj=Ae("search",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jj=Ae("settings",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ul=Ae("trash-2",eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],nb=Ae("trending-up",tb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],sb=Ae("undo-2",rb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Qg=Ae("upload",ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Yg=Ae("user-plus",ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],lu=Ae("users",ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cb=Ae("video-off",lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ks=Ae("video",ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dl=Ae("x",db);function Kg({className:e,...t}){return s.jsx(J1,{"data-slot":"checkbox",className:De("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(ej,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(cl,{className:"size-3.5"})})})}function fb({onLogin:e,onNavigateToRegister:t}){const[n,r]=u.useState(""),[o,a]=u.useState(""),[i,l]=u.useState(!1),[c,d]=u.useState(!1),m=async f=>{f.preventDefault(),d(!0);try{await e(n,o)}catch(g){console.error("Login failed:",g)}finally{d(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 p-4",children:s.jsxs(Xe,{className:"w-full max-w-md",children:[s.jsxs(dt,{className:"space-y-1",children:[s.jsx(ft,{className:"text-2xl font-bold text-center",children:"Welcome Back"}),s.jsx($g,{className:"text-center",children:"Sign in to your student account"})]}),s.jsx(nt,{children:s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email",children:"Email"}),s.jsx(Ee,{id:"email",type:"email",placeholder:"student@university.edu",value:n,onChange:f=>r(f.target.value),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"password",children:"Password"}),s.jsx(Ee,{id:"password",type:"password",placeholder:"",value:o,onChange:f=>a(f.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Kg,{id:"remember",checked:i,onCheckedChange:f=>l(f)}),s.jsx(ve,{htmlFor:"remember",className:"text-sm font-normal cursor-pointer",children:"Remember me"})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:c,children:c?"Signing in...":"Log In"}),s.jsx(Q,{type:"button",variant:"outline",className:"w-full",onClick:t,children:"Go to Register"})]})})]})})}function Ep(e,[t,n]){return Math.min(n,Math.max(t,e))}function Zg(e){const t=e+"CollectionProvider",[n,r]=tr(t),[o,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=w=>{const{scope:y,children:x}=w,j=ne.useRef(null),h=ne.useRef(new Map).current;return s.jsx(o,{scope:y,itemMap:h,collectionRef:j,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=ne.forwardRef((w,y)=>{const{scope:x,children:j}=w,h=a(l,x),p=st(y,h.collectionRef);return s.jsx(Kr,{ref:p,children:j})});c.displayName=l;const d=e+"CollectionItemSlot",m="data-radix-collection-item",f=ne.forwardRef((w,y)=>{const{scope:x,children:j,...h}=w,p=ne.useRef(null),v=st(y,p),S=a(d,x);return ne.useEffect(()=>(S.itemMap.set(p,{ref:p,...h}),()=>void S.itemMap.delete(p))),s.jsx(Kr,{[m]:"",ref:v,children:j})});f.displayName=d;function g(w){const y=a(e+"CollectionConsumer",w);return ne.useCallback(()=>{const j=y.collectionRef.current;if(!j)return[];const h=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(y.itemMap.values()).sort((S,k)=>h.indexOf(S.ref.current)-h.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},g,r]}var pb=u.createContext(void 0);function zd(e){const t=u.useContext(pb);return e||t||"ltr"}function mb(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e);u.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var hb="DismissableLayer",cu="dismissableLayer.update",gb="dismissableLayer.pointerDownOutside",xb="dismissableLayer.focusOutside",Pp,Xg=u.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Id=u.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,d=u.useContext(Xg),[m,f]=u.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=u.useState({}),y=st(t,E=>f(E)),x=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=x.indexOf(j),p=m?x.indexOf(m):-1,v=d.layersWithOutsidePointerEventsDisabled.size>0,S=p>=h,k=wb(E=>{const D=E.target,q=[...d.branches].some($=>$.contains(D));!S||q||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())},g),T=jb(E=>{const D=E.target;[...d.branches].some($=>$.contains(D))||(a==null||a(E),i==null||i(E),E.defaultPrevented||l==null||l())},g);return mb(E=>{p===d.layers.size-1&&(r==null||r(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},g),u.useEffect(()=>{if(m)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Pp=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(m)),d.layers.add(m),Tp(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Pp)}},[m,g,n,d]),u.useEffect(()=>()=>{m&&(d.layers.delete(m),d.layersWithOutsidePointerEventsDisabled.delete(m),Tp())},[m,d]),u.useEffect(()=>{const E=()=>w({});return document.addEventListener(cu,E),()=>document.removeEventListener(cu,E)},[]),s.jsx(ze.div,{...c,ref:y,style:{pointerEvents:v?S?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,k.onPointerDownCapture)})});Id.displayName=hb;var vb="DismissableLayerBranch",yb=u.forwardRef((e,t)=>{const n=u.useContext(Xg),r=u.useRef(null),o=st(t,r);return u.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(ze.div,{...e,ref:o})});yb.displayName=vb;function wb(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=u.useRef(!1),o=u.useRef(()=>{});return u.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Jg(gb,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function jb(e,t=globalThis==null?void 0:globalThis.document){const n=Ln(e),r=u.useRef(!1);return u.useEffect(()=>{const o=a=>{a.target&&!r.current&&Jg(xb,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Tp(){const e=new CustomEvent(cu);document.dispatchEvent(e)}function Jg(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?L1(o,a):o.dispatchEvent(a)}var Jl=0;function ex(){u.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_p()),document.body.insertAdjacentElement("beforeend",e[1]??_p()),Jl++,()=>{Jl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Jl--}},[])}function _p(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ec="focusScope.autoFocusOnMount",tc="focusScope.autoFocusOnUnmount",Dp={bubbles:!1,cancelable:!0},bb="FocusScope",Od=u.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...i}=e,[l,c]=u.useState(null),d=Ln(o),m=Ln(a),f=u.useRef(null),g=st(t,x=>c(x)),w=u.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;u.useEffect(()=>{if(r){let x=function(v){if(w.paused||!l)return;const S=v.target;l.contains(S)?f.current=S:Er(f.current,{select:!0})},j=function(v){if(w.paused||!l)return;const S=v.relatedTarget;S!==null&&(l.contains(S)||Er(f.current,{select:!0}))},h=function(v){if(document.activeElement===document.body)for(const k of v)k.removedNodes.length>0&&Er(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",j);const p=new MutationObserver(h);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",j),p.disconnect()}}},[r,l,w.paused]),u.useEffect(()=>{if(l){Ap.add(w);const x=document.activeElement;if(!l.contains(x)){const h=new CustomEvent(ec,Dp);l.addEventListener(ec,d),l.dispatchEvent(h),h.defaultPrevented||(Sb(Pb(tx(l)),{select:!0}),document.activeElement===x&&Er(l))}return()=>{l.removeEventListener(ec,d),setTimeout(()=>{const h=new CustomEvent(tc,Dp);l.addEventListener(tc,m),l.dispatchEvent(h),h.defaultPrevented||Er(x??document.body,{select:!0}),l.removeEventListener(tc,m),Ap.remove(w)},0)}}},[l,d,m,w]);const y=u.useCallback(x=>{if(!n&&!r||w.paused)return;const j=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,h=document.activeElement;if(j&&h){const p=x.currentTarget,[v,S]=Nb(p);v&&S?!x.shiftKey&&h===S?(x.preventDefault(),n&&Er(v,{select:!0})):x.shiftKey&&h===v&&(x.preventDefault(),n&&Er(S,{select:!0})):h===p&&x.preventDefault()}},[n,r,w.paused]);return s.jsx(ze.div,{tabIndex:-1,...i,ref:g,onKeyDown:y})});Od.displayName=bb;function Sb(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Er(r,{select:t}),document.activeElement!==n)return}function Nb(e){const t=tx(e),n=Rp(t,e),r=Rp(t.reverse(),e);return[n,r]}function tx(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Rp(e,t){for(const n of e)if(!Cb(n,{upTo:t}))return n}function Cb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kb(e){return e instanceof HTMLInputElement&&"select"in e}function Er(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&kb(e)&&t&&e.select()}}var Ap=Eb();function Eb(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Mp(e,t),e.unshift(t)},remove(t){var n;e=Mp(e,t),(n=e[0])==null||n.resume()}}}function Mp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Pb(e){return e.filter(t=>t.tagName!=="A")}var Tb=z0.useId||(()=>{}),_b=0;function qr(e){const[t,n]=u.useState(Tb());return Lt(()=>{n(r=>r??String(_b++))},[e]),e||(t?`radix-${t}`:"")}const Db=["top","right","bottom","left"],Zr=Math.min,dn=Math.max,Fi=Math.round,Wa=Math.floor,Jn=e=>({x:e,y:e}),Rb={left:"right",right:"left",bottom:"top",top:"bottom"},Ab={start:"end",end:"start"};function uu(e,t,n){return dn(e,Zr(t,n))}function vr(e,t){return typeof e=="function"?e(t):e}function yr(e){return e.split("-")[0]}function go(e){return e.split("-")[1]}function Fd(e){return e==="x"?"y":"x"}function $d(e){return e==="y"?"height":"width"}const Mb=new Set(["top","bottom"]);function Kn(e){return Mb.has(yr(e))?"y":"x"}function Ld(e){return Fd(Kn(e))}function zb(e,t,n){n===void 0&&(n=!1);const r=go(e),o=Ld(e),a=$d(o);let i=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=$i(i)),[i,$i(i)]}function Ib(e){const t=$i(e);return[du(e),t,du(t)]}function du(e){return e.replace(/start|end/g,t=>Ab[t])}const zp=["left","right"],Ip=["right","left"],Ob=["top","bottom"],Fb=["bottom","top"];function $b(e,t,n){switch(e){case"top":case"bottom":return n?t?Ip:zp:t?zp:Ip;case"left":case"right":return t?Ob:Fb;default:return[]}}function Lb(e,t,n,r){const o=go(e);let a=$b(yr(e),n==="start",r);return o&&(a=a.map(i=>i+"-"+o),t&&(a=a.concat(a.map(du)))),a}function $i(e){return e.replace(/left|right|bottom|top/g,t=>Rb[t])}function Bb(e){return{top:0,right:0,bottom:0,left:0,...e}}function nx(e){return typeof e!="number"?Bb(e):{top:e,right:e,bottom:e,left:e}}function Li(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Op(e,t,n){let{reference:r,floating:o}=e;const a=Kn(t),i=Ld(t),l=$d(i),c=yr(t),d=a==="y",m=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,g=r[l]/2-o[l]/2;let w;switch(c){case"top":w={x:m,y:r.y-o.height};break;case"bottom":w={x:m,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:f};break;case"left":w={x:r.x-o.width,y:f};break;default:w={x:r.x,y:r.y}}switch(go(t)){case"start":w[i]-=g*(n&&d?-1:1);break;case"end":w[i]+=g*(n&&d?-1:1);break}return w}async function Ub(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:w=0}=vr(t,e),y=nx(w),j=l[g?f==="floating"?"reference":"floating":f],h=Li(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:m,strategy:c})),p=f==="floating"?{x:r,y:o,width:i.floating.width,height:i.floating.height}:i.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},k=Li(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:c}):p);return{top:(h.top-k.top+y.top)/S.y,bottom:(k.bottom-h.bottom+y.bottom)/S.y,left:(h.left-k.left+y.left)/S.x,right:(k.right-h.right+y.right)/S.x}}const Wb=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let d=await i.getElementRects({reference:e,floating:t,strategy:o}),{x:m,y:f}=Op(d,r,c),g=r,w={},y=0;for(let j=0;j<l.length;j++){var x;const{name:h,fn:p}=l[j],{x:v,y:S,data:k,reset:T}=await p({x:m,y:f,initialPlacement:r,placement:g,strategy:o,middlewareData:w,rects:d,platform:{...i,detectOverflow:(x=i.detectOverflow)!=null?x:Ub},elements:{reference:e,floating:t}});m=v??m,f=S??f,w={...w,[h]:{...w[h],...k}},T&&y<=50&&(y++,typeof T=="object"&&(T.placement&&(g=T.placement),T.rects&&(d=T.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:o}):T.rects),{x:m,y:f}=Op(d,g,c)),j=-1)}return{x:m,y:f,placement:g,strategy:o,middlewareData:w}},Hb=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:d,padding:m=0}=vr(e,t)||{};if(d==null)return{};const f=nx(m),g={x:n,y:r},w=Ld(o),y=$d(w),x=await i.getDimensions(d),j=w==="y",h=j?"top":"left",p=j?"bottom":"right",v=j?"clientHeight":"clientWidth",S=a.reference[y]+a.reference[w]-g[w]-a.floating[y],k=g[w]-a.reference[w],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d));let E=T?T[v]:0;(!E||!await(i.isElement==null?void 0:i.isElement(T)))&&(E=l.floating[v]||a.floating[y]);const D=S/2-k/2,q=E/2-x[y]/2-1,$=Zr(f[h],q),Z=Zr(f[p],q),U=$,F=E-x[y]-Z,H=E/2-x[y]/2+D,G=uu(U,H,F),L=!c.arrow&&go(o)!=null&&H!==G&&a.reference[y]/2-(H<U?$:Z)-x[y]/2<0,se=L?H<U?H-U:H-F:0;return{[w]:g[w]+se,data:{[w]:G,centerOffset:H-G-se,...L&&{alignmentOffset:se}},reset:L}}}),Vb=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...j}=vr(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const h=yr(o),p=Kn(l),v=yr(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=g||(v||!x?[$i(l)]:Ib(l)),T=y!=="none";!g&&T&&k.push(...Lb(l,x,y,S));const E=[l,...k],D=await c.detectOverflow(t,j),q=[];let $=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&q.push(D[h]),f){const H=zb(o,i,S);q.push(D[H[0]],D[H[1]])}if($=[...$,{placement:o,overflows:q}],!q.every(H=>H<=0)){var Z,U;const H=(((Z=a.flip)==null?void 0:Z.index)||0)+1,G=E[H];if(G&&(!(f==="alignment"?p!==Kn(G):!1)||$.every(b=>Kn(b.placement)===p?b.overflows[0]>0:!0)))return{data:{index:H,overflows:$},reset:{placement:G}};let L=(U=$.filter(se=>se.overflows[0]<=0).sort((se,b)=>se.overflows[1]-b.overflows[1])[0])==null?void 0:U.placement;if(!L)switch(w){case"bestFit":{var F;const se=(F=$.filter(b=>{if(T){const P=Kn(b.placement);return P===p||P==="y"}return!0}).map(b=>[b.placement,b.overflows.filter(P=>P>0).reduce((P,I)=>P+I,0)]).sort((b,P)=>b[1]-P[1])[0])==null?void 0:F[0];se&&(L=se);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function Fp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $p(e){return Db.some(t=>e[t]>=0)}const Gb=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...a}=vr(e,t);switch(o){case"referenceHidden":{const i=await r.detectOverflow(t,{...a,elementContext:"reference"}),l=Fp(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:$p(l)}}}case"escaped":{const i=await r.detectOverflow(t,{...a,altBoundary:!0}),l=Fp(i,n.floating);return{data:{escapedOffsets:l,escaped:$p(l)}}}default:return{}}}}},rx=new Set(["left","top"]);async function qb(e,t){const{placement:n,platform:r,elements:o}=e,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),i=yr(n),l=go(n),c=Kn(n)==="y",d=rx.has(i)?-1:1,m=a&&c?-1:1,f=vr(t,e);let{mainAxis:g,crossAxis:w,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(w=l==="end"?y*-1:y),c?{x:w*m,y:g*d}:{x:g*d,y:w*m}}const Qb=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:a,placement:i,middlewareData:l}=t,c=await qb(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:i}}}}},Yb=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:a}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:h=>{let{x:p,y:v}=h;return{x:p,y:v}}},...d}=vr(e,t),m={x:n,y:r},f=await a.detectOverflow(t,d),g=Kn(yr(o)),w=Fd(g);let y=m[w],x=m[g];if(i){const h=w==="y"?"top":"left",p=w==="y"?"bottom":"right",v=y+f[h],S=y-f[p];y=uu(v,y,S)}if(l){const h=g==="y"?"top":"left",p=g==="y"?"bottom":"right",v=x+f[h],S=x-f[p];x=uu(v,x,S)}const j=c.fn({...t,[w]:y,[g]:x});return{...j,data:{x:j.x-n,y:j.y-r,enabled:{[w]:i,[g]:l}}}}}},Kb=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=vr(e,t),m={x:n,y:r},f=Kn(o),g=Fd(f);let w=m[g],y=m[f];const x=vr(l,t),j=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=g==="y"?"height":"width",S=a.reference[g]-a.floating[v]+j.mainAxis,k=a.reference[g]+a.reference[v]-j.mainAxis;w<S?w=S:w>k&&(w=k)}if(d){var h,p;const v=g==="y"?"width":"height",S=rx.has(yr(o)),k=a.reference[f]-a.floating[v]+(S&&((h=i.offset)==null?void 0:h[f])||0)+(S?0:j.crossAxis),T=a.reference[f]+a.reference[v]+(S?0:((p=i.offset)==null?void 0:p[f])||0)-(S?j.crossAxis:0);y<k?y=k:y>T&&(y=T)}return{[g]:w,[f]:y}}}},Zb=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...d}=vr(e,t),m=await i.detectOverflow(t,d),f=yr(o),g=go(o),w=Kn(o)==="y",{width:y,height:x}=a.floating;let j,h;f==="top"||f==="bottom"?(j=f,h=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(h=f,j=g==="end"?"top":"bottom");const p=x-m.top-m.bottom,v=y-m.left-m.right,S=Zr(x-m[j],p),k=Zr(y-m[h],v),T=!t.middlewareData.shift;let E=S,D=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(E=p),T&&!g){const $=dn(m.left,0),Z=dn(m.right,0),U=dn(m.top,0),F=dn(m.bottom,0);w?D=y-2*($!==0||Z!==0?$+Z:dn(m.left,m.right)):E=x-2*(U!==0||F!==0?U+F:dn(m.top,m.bottom))}await c({...t,availableWidth:D,availableHeight:E});const q=await i.getDimensions(l.floating);return y!==q.width||x!==q.height?{reset:{rects:!0}}:{}}}};function fl(){return typeof window<"u"}function xo(e){return sx(e)?(e.nodeName||"").toLowerCase():"#document"}function mn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function nr(e){var t;return(t=(sx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function sx(e){return fl()?e instanceof Node||e instanceof mn(e).Node:!1}function Bn(e){return fl()?e instanceof Element||e instanceof mn(e).Element:!1}function er(e){return fl()?e instanceof HTMLElement||e instanceof mn(e).HTMLElement:!1}function Lp(e){return!fl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mn(e).ShadowRoot}const Xb=new Set(["inline","contents"]);function xa(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Xb.has(o)}const Jb=new Set(["table","td","th"]);function eS(e){return Jb.has(xo(e))}const tS=[":popover-open",":modal"];function pl(e){return tS.some(t=>{try{return e.matches(t)}catch{return!1}})}const nS=["transform","translate","scale","rotate","perspective"],rS=["transform","translate","scale","rotate","perspective","filter"],sS=["paint","layout","strict","content"];function Bd(e){const t=Ud(),n=Bn(e)?Un(e):e;return nS.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||rS.some(r=>(n.willChange||"").includes(r))||sS.some(r=>(n.contain||"").includes(r))}function oS(e){let t=Xr(e);for(;er(t)&&!io(t);){if(Bd(t))return t;if(pl(t))return null;t=Xr(t)}return null}function Ud(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const aS=new Set(["html","body","#document"]);function io(e){return aS.has(xo(e))}function Un(e){return mn(e).getComputedStyle(e)}function ml(e){return Bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xr(e){if(xo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lp(e)&&e.host||nr(e);return Lp(t)?t.host:t}function ox(e){const t=Xr(e);return io(t)?e.ownerDocument?e.ownerDocument.body:e.body:er(t)&&xa(t)?t:ox(t)}function da(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=ox(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),i=mn(o);if(a){const l=fu(i);return t.concat(i,i.visualViewport||[],xa(o)?o:[],l&&n?da(l):[])}return t.concat(o,da(o,[],n))}function fu(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ax(e){const t=Un(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=er(e),a=o?e.offsetWidth:n,i=o?e.offsetHeight:r,l=Fi(n)!==a||Fi(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function Wd(e){return Bn(e)?e:e.contextElement}function Zs(e){const t=Wd(e);if(!er(t))return Jn(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=ax(t);let i=(a?Fi(n.width):n.width)/r,l=(a?Fi(n.height):n.height)/o;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const iS=Jn(0);function ix(e){const t=mn(e);return!Ud()||!t.visualViewport?iS:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lS(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==mn(e)?!1:t}function js(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),a=Wd(e);let i=Jn(1);t&&(r?Bn(r)&&(i=Zs(r)):i=Zs(e));const l=lS(a,n,r)?ix(a):Jn(0);let c=(o.left+l.x)/i.x,d=(o.top+l.y)/i.y,m=o.width/i.x,f=o.height/i.y;if(a){const g=mn(a),w=r&&Bn(r)?mn(r):r;let y=g,x=fu(y);for(;x&&r&&w!==y;){const j=Zs(x),h=x.getBoundingClientRect(),p=Un(x),v=h.left+(x.clientLeft+parseFloat(p.paddingLeft))*j.x,S=h.top+(x.clientTop+parseFloat(p.paddingTop))*j.y;c*=j.x,d*=j.y,m*=j.x,f*=j.y,c+=v,d+=S,y=mn(x),x=fu(y)}}return Li({width:m,height:f,x:c,y:d})}function hl(e,t){const n=ml(e).scrollLeft;return t?t.left+n:js(nr(e)).left+n}function lx(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-hl(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function cS(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const a=o==="fixed",i=nr(r),l=t?pl(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},d=Jn(1);const m=Jn(0),f=er(r);if((f||!f&&!a)&&((xo(r)!=="body"||xa(i))&&(c=ml(r)),er(r))){const w=js(r);d=Zs(r),m.x=w.x+r.clientLeft,m.y=w.y+r.clientTop}const g=i&&!f&&!a?lx(i,c):Jn(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+m.x+g.x,y:n.y*d.y-c.scrollTop*d.y+m.y+g.y}}function uS(e){return Array.from(e.getClientRects())}function dS(e){const t=nr(e),n=ml(e),r=e.ownerDocument.body,o=dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+hl(e);const l=-n.scrollTop;return Un(r).direction==="rtl"&&(i+=dn(t.clientWidth,r.clientWidth)-o),{width:o,height:a,x:i,y:l}}const Bp=25;function fS(e,t){const n=mn(e),r=nr(e),o=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(o){a=o.width,i=o.height;const m=Ud();(!m||m&&t==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}const d=hl(r);if(d<=0){const m=r.ownerDocument,f=m.body,g=getComputedStyle(f),w=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-w);y<=Bp&&(a-=y)}else d<=Bp&&(a+=d);return{width:a,height:i,x:l,y:c}}const pS=new Set(["absolute","fixed"]);function mS(e,t){const n=js(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,a=er(e)?Zs(e):Jn(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=o*a.x,d=r*a.y;return{width:i,height:l,x:c,y:d}}function Up(e,t,n){let r;if(t==="viewport")r=fS(e,n);else if(t==="document")r=dS(nr(e));else if(Bn(t))r=mS(t,n);else{const o=ix(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Li(r)}function cx(e,t){const n=Xr(e);return n===t||!Bn(n)||io(n)?!1:Un(n).position==="fixed"||cx(n,t)}function hS(e,t){const n=t.get(e);if(n)return n;let r=da(e,[],!1).filter(l=>Bn(l)&&xo(l)!=="body"),o=null;const a=Un(e).position==="fixed";let i=a?Xr(e):e;for(;Bn(i)&&!io(i);){const l=Un(i),c=Bd(i);!c&&l.position==="fixed"&&(o=null),(a?!c&&!o:!c&&l.position==="static"&&!!o&&pS.has(o.position)||xa(i)&&!c&&cx(e,i))?r=r.filter(m=>m!==i):o=l,i=Xr(i)}return t.set(e,r),r}function gS(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?pl(t)?[]:hS(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((d,m)=>{const f=Up(t,m,o);return d.top=dn(f.top,d.top),d.right=Zr(f.right,d.right),d.bottom=Zr(f.bottom,d.bottom),d.left=dn(f.left,d.left),d},Up(t,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xS(e){const{width:t,height:n}=ax(e);return{width:t,height:n}}function vS(e,t,n){const r=er(t),o=nr(t),a=n==="fixed",i=js(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Jn(0);function d(){c.x=hl(o)}if(r||!r&&!a)if((xo(t)!=="body"||xa(o))&&(l=ml(t)),r){const w=js(t,!0,a,t);c.x=w.x+t.clientLeft,c.y=w.y+t.clientTop}else o&&d();a&&!r&&o&&d();const m=o&&!r&&!a?lx(o,l):Jn(0),f=i.left+l.scrollLeft-c.x-m.x,g=i.top+l.scrollTop-c.y-m.y;return{x:f,y:g,width:i.width,height:i.height}}function nc(e){return Un(e).position==="static"}function Wp(e,t){if(!er(e)||Un(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return nr(e)===n&&(n=n.ownerDocument.body),n}function ux(e,t){const n=mn(e);if(pl(e))return n;if(!er(e)){let o=Xr(e);for(;o&&!io(o);){if(Bn(o)&&!nc(o))return o;o=Xr(o)}return n}let r=Wp(e,t);for(;r&&eS(r)&&nc(r);)r=Wp(r,t);return r&&io(r)&&nc(r)&&!Bd(r)?n:r||oS(e)||n}const yS=async function(e){const t=this.getOffsetParent||ux,n=this.getDimensions,r=await n(e.floating);return{reference:vS(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wS(e){return Un(e).direction==="rtl"}const jS={convertOffsetParentRelativeRectToViewportRelativeRect:cS,getDocumentElement:nr,getClippingRect:gS,getOffsetParent:ux,getElementRects:yS,getClientRects:uS,getDimensions:xS,getScale:Zs,isElement:Bn,isRTL:wS};function dx(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bS(e,t){let n=null,r;const o=nr(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:m,top:f,width:g,height:w}=d;if(l||t(),!g||!w)return;const y=Wa(f),x=Wa(o.clientWidth-(m+g)),j=Wa(o.clientHeight-(f+w)),h=Wa(m),v={rootMargin:-y+"px "+-x+"px "+-j+"px "+-h+"px",threshold:dn(0,Zr(1,c))||1};let S=!0;function k(T){const E=T[0].intersectionRatio;if(E!==c){if(!S)return i();E?i(!1,E):r=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!dx(d,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(k,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,v)}n.observe(e)}return i(!0),a}function SS(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Wd(e),m=o||a?[...d?da(d):[],...da(t)]:[];m.forEach(h=>{o&&h.addEventListener("scroll",n,{passive:!0}),a&&h.addEventListener("resize",n)});const f=d&&l?bS(d,n):null;let g=-1,w=null;i&&(w=new ResizeObserver(h=>{let[p]=h;p&&p.target===d&&w&&(w.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=w)==null||v.observe(t)})),n()}),d&&!c&&w.observe(d),w.observe(t));let y,x=c?js(e):null;c&&j();function j(){const h=js(e);x&&!dx(x,h)&&n(),x=h,y=requestAnimationFrame(j)}return n(),()=>{var h;m.forEach(p=>{o&&p.removeEventListener("scroll",n),a&&p.removeEventListener("resize",n)}),f==null||f(),(h=w)==null||h.disconnect(),w=null,c&&cancelAnimationFrame(y)}}const NS=Qb,CS=Yb,kS=Vb,ES=Zb,PS=Gb,Hp=Hb,TS=Kb,_S=(e,t,n)=>{const r=new Map,o={platform:jS,...n},a={...o.platform,_c:r};return Wb(e,t,{...o,platform:a})};var DS=typeof document<"u",RS=function(){},li=DS?u.useLayoutEffect:RS;function Bi(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Bi(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const a=o[r];if(!(a==="_owner"&&e.$$typeof)&&!Bi(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function fx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vp(e,t){const n=fx(e);return Math.round(t*n)/n}function rc(e){const t=u.useRef(e);return li(()=>{t.current=e}),t}function AS(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[m,f]=u.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,w]=u.useState(r);Bi(g,r)||w(r);const[y,x]=u.useState(null),[j,h]=u.useState(null),p=u.useCallback(b=>{b!==T.current&&(T.current=b,x(b))},[]),v=u.useCallback(b=>{b!==E.current&&(E.current=b,h(b))},[]),S=a||y,k=i||j,T=u.useRef(null),E=u.useRef(null),D=u.useRef(m),q=c!=null,$=rc(c),Z=rc(o),U=rc(d),F=u.useCallback(()=>{if(!T.current||!E.current)return;const b={placement:t,strategy:n,middleware:g};Z.current&&(b.platform=Z.current),_S(T.current,E.current,b).then(P=>{const I={...P,isPositioned:U.current!==!1};H.current&&!Bi(D.current,I)&&(D.current=I,po.flushSync(()=>{f(I)}))})},[g,t,n,Z,U]);li(()=>{d===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(b=>({...b,isPositioned:!1})))},[d]);const H=u.useRef(!1);li(()=>(H.current=!0,()=>{H.current=!1}),[]),li(()=>{if(S&&(T.current=S),k&&(E.current=k),S&&k){if($.current)return $.current(S,k,F);F()}},[S,k,F,$,q]);const G=u.useMemo(()=>({reference:T,floating:E,setReference:p,setFloating:v}),[p,v]),L=u.useMemo(()=>({reference:S,floating:k}),[S,k]),se=u.useMemo(()=>{const b={position:n,left:0,top:0};if(!L.floating)return b;const P=Vp(L.floating,m.x),I=Vp(L.floating,m.y);return l?{...b,transform:"translate("+P+"px, "+I+"px)",...fx(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:I}},[n,l,L.floating,m.x,m.y]);return u.useMemo(()=>({...m,update:F,refs:G,elements:L,floatingStyles:se}),[m,F,G,L,se])}const MS=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Hp({element:r.current,padding:o}).fn(n):{}:r?Hp({element:r,padding:o}).fn(n):{}}}},zS=(e,t)=>({...NS(e),options:[e,t]}),IS=(e,t)=>({...CS(e),options:[e,t]}),OS=(e,t)=>({...TS(e),options:[e,t]}),FS=(e,t)=>({...kS(e),options:[e,t]}),$S=(e,t)=>({...ES(e),options:[e,t]}),LS=(e,t)=>({...PS(e),options:[e,t]}),BS=(e,t)=>({...MS(e),options:[e,t]});var US="Arrow",px=u.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...a}=e;return s.jsx(ze.svg,{...a,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});px.displayName=US;var WS=px,Hd="Popper",[mx,hx]=tr(Hd),[HS,gx]=mx(Hd),xx=e=>{const{__scopePopper:t,children:n}=e,[r,o]=u.useState(null);return s.jsx(HS,{scope:t,anchor:r,onAnchorChange:o,children:n})};xx.displayName=Hd;var vx="PopperAnchor",yx=u.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,a=gx(vx,n),i=u.useRef(null),l=st(t,i);return u.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:s.jsx(ze.div,{...o,ref:l})});yx.displayName=vx;var Vd="PopperContent",[VS,GS]=mx(Vd),wx=u.forwardRef((e,t)=>{var ae,ye,Pe,xe,be,ke;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:y,...x}=e,j=gx(Vd,n),[h,p]=u.useState(null),v=st(t,Be=>p(Be)),[S,k]=u.useState(null),T=_d(S),E=(T==null?void 0:T.width)??0,D=(T==null?void 0:T.height)??0,q=r+(a!=="center"?"-"+a:""),$=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Z=Array.isArray(d)?d:[d],U=Z.length>0,F={padding:$,boundary:Z.filter(QS),altBoundary:U},{refs:H,floatingStyles:G,placement:L,isPositioned:se,middlewareData:b}=AS({strategy:"fixed",placement:q,whileElementsMounted:(...Be)=>SS(...Be,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[zS({mainAxis:o+D,alignmentAxis:i}),c&&IS({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?OS():void 0,...F}),c&&FS({...F}),$S({...F,apply:({elements:Be,rects:Ue,availableWidth:ot,availableHeight:qe})=>{const{width:Oe,height:It}=Ue.reference,We=Be.floating.style;We.setProperty("--radix-popper-available-width",`${ot}px`),We.setProperty("--radix-popper-available-height",`${qe}px`),We.setProperty("--radix-popper-anchor-width",`${Oe}px`),We.setProperty("--radix-popper-anchor-height",`${It}px`)}}),S&&BS({element:S,padding:l}),YS({arrowWidth:E,arrowHeight:D}),g&&LS({strategy:"referenceHidden",...F})]}),[P,I]=Sx(L),O=Ln(y);Lt(()=>{se&&(O==null||O())},[se,O]);const oe=(ae=b.arrow)==null?void 0:ae.x,pe=(ye=b.arrow)==null?void 0:ye.y,we=((Pe=b.arrow)==null?void 0:Pe.centerOffset)!==0,[je,me]=u.useState();return Lt(()=>{h&&me(window.getComputedStyle(h).zIndex)},[h]),s.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:se?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(xe=b.transformOrigin)==null?void 0:xe.x,(be=b.transformOrigin)==null?void 0:be.y].join(" "),...((ke=b.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(VS,{scope:n,placedSide:P,onArrowChange:k,arrowX:oe,arrowY:pe,shouldHideArrow:we,children:s.jsx(ze.div,{"data-side":P,"data-align":I,...x,ref:v,style:{...x.style,animation:se?void 0:"none"}})})})});wx.displayName=Vd;var jx="PopperArrow",qS={top:"bottom",right:"left",bottom:"top",left:"right"},bx=u.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,a=GS(jx,r),i=qS[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(WS,{...o,ref:n,style:{...o.style,display:"block"}})})});bx.displayName=jx;function QS(e){return e!==null}var YS=e=>({name:"transformOrigin",options:e,fn(t){var j,h,p;const{placement:n,rects:r,middlewareData:o}=t,i=((j=o.arrow)==null?void 0:j.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[d,m]=Sx(n),f={start:"0%",center:"50%",end:"100%"}[m],g=(((h=o.arrow)==null?void 0:h.x)??0)+l/2,w=(((p=o.arrow)==null?void 0:p.y)??0)+c/2;let y="",x="";return d==="bottom"?(y=i?f:`${g}px`,x=`${-c}px`):d==="top"?(y=i?f:`${g}px`,x=`${r.floating.height+c}px`):d==="right"?(y=`${-c}px`,x=i?f:`${w}px`):d==="left"&&(y=`${r.floating.width+c}px`,x=i?f:`${w}px`),{data:{x:y,y:x}}}});function Sx(e){const[t,n="center"]=e.split("-");return[t,n]}var KS=xx,ZS=yx,XS=wx,JS=bx,eN="Portal",Gd=u.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,a]=u.useState(!1);Lt(()=>a(!0),[]);const i=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?kg.createPortal(s.jsx(ze.div,{...r,ref:t}),i):null});Gd.displayName=eN;var tN="VisuallyHidden",Nx=u.forwardRef((e,t)=>s.jsx(ze.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Nx.displayName=tN;var nN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Es=new WeakMap,Ha=new WeakMap,Va={},sc=0,Cx=function(e){return e&&(e.host||Cx(e.parentNode))},rN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Cx(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sN=function(e,t,n,r){var o=rN(t,Array.isArray(e)?e:[e]);Va[n]||(Va[n]=new WeakMap);var a=Va[n],i=[],l=new Set,c=new Set(o),d=function(f){!f||l.has(f)||(l.add(f),d(f.parentNode))};o.forEach(d);var m=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))m(g);else try{var w=g.getAttribute(r),y=w!==null&&w!=="false",x=(Es.get(g)||0)+1,j=(a.get(g)||0)+1;Es.set(g,x),a.set(g,j),i.push(g),x===1&&y&&Ha.set(g,!0),j===1&&g.setAttribute(n,"true"),y||g.setAttribute(r,"true")}catch(h){console.error("aria-hidden: cannot operate on ",g,h)}})};return m(t),l.clear(),sc++,function(){i.forEach(function(f){var g=Es.get(f)-1,w=a.get(f)-1;Es.set(f,g),a.set(f,w),g||(Ha.has(f)||f.removeAttribute(r),Ha.delete(f)),w||f.removeAttribute(n)}),sc--,sc||(Es=new WeakMap,Es=new WeakMap,Ha=new WeakMap,Va={})}},kx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=nN(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),sN(r,o,n,"aria-hidden")):function(){return null}},pu=function(e,t){return pu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},pu(e,t)};function oN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");pu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var lt=function(){return lt=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},lt.apply(this,arguments)};function Ex(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function aN(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ci="right-scroll-bar-position",ui="width-before-scroll-bar",iN="with-scroll-bars-hidden",lN="--removed-body-scroll-bar-size";function oc(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cN(e,t){var n=u.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var uN=typeof window<"u"?u.useLayoutEffect:u.useEffect,Gp=new WeakMap;function dN(e,t){var n=cN(null,function(r){return e.forEach(function(o){return oc(o,r)})});return uN(function(){var r=Gp.get(n);if(r){var o=new Set(r),a=new Set(e),i=n.current;o.forEach(function(l){a.has(l)||oc(l,null)}),a.forEach(function(l){o.has(l)||oc(l,i)})}Gp.set(n,e)},[e]),n}function fN(e){return e}function pN(e,t){t===void 0&&(t=fN);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var m=i;i=[],m.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(m){i.push(m),d()},filter:function(m){return i=i.filter(m),n}}}};return o}function mN(e){e===void 0&&(e={});var t=pN(null);return t.options=lt({async:!0,ssr:!1},e),t}var Px=function(e){var t=e.sideCar,n=Ex(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return u.createElement(r,lt({},n))};Px.isSideCarExport=!0;function hN(e,t){return e.useMedium(t),Px}var Tx=mN(),ac=function(){},gl=u.forwardRef(function(e,t){var n=u.useRef(null),r=u.useState({onScrollCapture:ac,onWheelCapture:ac,onTouchMoveCapture:ac}),o=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,d=e.removeScrollBar,m=e.enabled,f=e.shards,g=e.sideCar,w=e.noRelative,y=e.noIsolation,x=e.inert,j=e.allowPinchZoom,h=e.as,p=h===void 0?"div":h,v=e.gapMode,S=Ex(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=g,T=dN([n,t]),E=lt(lt({},S),o);return u.createElement(u.Fragment,null,m&&u.createElement(k,{sideCar:Tx,removeScrollBar:d,shards:f,noRelative:w,noIsolation:y,inert:x,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:v}),i?u.cloneElement(u.Children.only(l),lt(lt({},E),{ref:T})):u.createElement(p,lt({},E,{className:c,ref:T}),l))});gl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gl.classNames={fullWidth:ui,zeroRight:ci};var gN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gN();return t&&e.setAttribute("nonce",t),e}function vN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xN())&&(vN(t,n),yN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jN=function(){var e=wN();return function(t,n){u.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_x=function(){var e=jN(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},bN={left:0,top:0,right:0,gap:0},ic=function(e){return parseInt(e||"",10)||0},SN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ic(n),ic(r),ic(o)]},NN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bN;var t=SN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},CN=_x(),Xs="data-scroll-locked",kN=function(e,t,n,r){var o=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(iN,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Xs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ci,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ui,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ci," .").concat(ci,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ui," .").concat(ui,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xs,`] {
    `).concat(lN,": ").concat(l,`px;
  }
`)},qp=function(){var e=parseInt(document.body.getAttribute(Xs)||"0",10);return isFinite(e)?e:0},EN=function(){u.useEffect(function(){return document.body.setAttribute(Xs,(qp()+1).toString()),function(){var e=qp()-1;e<=0?document.body.removeAttribute(Xs):document.body.setAttribute(Xs,e.toString())}},[])},PN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;EN();var a=u.useMemo(function(){return NN(o)},[o]);return u.createElement(CN,{styles:kN(a,!t,o,n?"":"!important")})},mu=!1;if(typeof window<"u")try{var Ga=Object.defineProperty({},"passive",{get:function(){return mu=!0,!0}});window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{mu=!1}var Ps=mu?{passive:!1}:!1,TN=function(e){return e.tagName==="TEXTAREA"},Dx=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!TN(e)&&n[t]==="visible")},_N=function(e){return Dx(e,"overflowY")},DN=function(e){return Dx(e,"overflowX")},Qp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Rx(e,r);if(o){var a=Ax(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},AN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Rx=function(e,t){return e==="v"?_N(t):DN(t)},Ax=function(e,t){return e==="v"?RN(t):AN(t)},MN=function(e,t){return e==="h"&&t==="rtl"?-1:1},zN=function(e,t,n,r,o){var a=MN(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),d=!1,m=i>0,f=0,g=0;do{if(!l)break;var w=Ax(e,l),y=w[0],x=w[1],j=w[2],h=x-j-a*y;(y||h)&&Rx(e,l)&&(f+=h,g+=y);var p=l.parentNode;l=p&&p.nodeType===Node.DOCUMENT_FRAGMENT_NODE?p.host:p}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(d=!0),d},qa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Yp=function(e){return[e.deltaX,e.deltaY]},Kp=function(e){return e&&"current"in e?e.current:e},IN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ON=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},FN=0,Ts=[];function $N(e){var t=u.useRef([]),n=u.useRef([0,0]),r=u.useRef(),o=u.useState(FN++)[0],a=u.useState(_x)[0],i=u.useRef(e);u.useEffect(function(){i.current=e},[e]),u.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var x=aN([e.lockRef.current],(e.shards||[]).map(Kp),!0).filter(Boolean);return x.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),x.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=u.useCallback(function(x,j){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var h=qa(x),p=n.current,v="deltaX"in x?x.deltaX:p[0]-h[0],S="deltaY"in x?x.deltaY:p[1]-h[1],k,T=x.target,E=Math.abs(v)>Math.abs(S)?"h":"v";if("touches"in x&&E==="h"&&T.type==="range")return!1;var D=window.getSelection(),q=D&&D.anchorNode,$=q?q===T||q.contains(T):!1;if($)return!1;var Z=Qp(E,T);if(!Z)return!0;if(Z?k=E:(k=E==="v"?"h":"v",Z=Qp(E,T)),!Z)return!1;if(!r.current&&"changedTouches"in x&&(v||S)&&(r.current=k),!k)return!0;var U=r.current||k;return zN(U,j,x,U==="h"?v:S)},[]),c=u.useCallback(function(x){var j=x;if(!(!Ts.length||Ts[Ts.length-1]!==a)){var h="deltaY"in j?Yp(j):qa(j),p=t.current.filter(function(k){return k.name===j.type&&(k.target===j.target||j.target===k.shadowParent)&&IN(k.delta,h)})[0];if(p&&p.should){j.cancelable&&j.preventDefault();return}if(!p){var v=(i.current.shards||[]).map(Kp).filter(Boolean).filter(function(k){return k.contains(j.target)}),S=v.length>0?l(j,v[0]):!i.current.noIsolation;S&&j.cancelable&&j.preventDefault()}}},[]),d=u.useCallback(function(x,j,h,p){var v={name:x,delta:j,target:h,should:p,shadowParent:LN(h)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(S){return S!==v})},1)},[]),m=u.useCallback(function(x){n.current=qa(x),r.current=void 0},[]),f=u.useCallback(function(x){d(x.type,Yp(x),x.target,l(x,e.lockRef.current))},[]),g=u.useCallback(function(x){d(x.type,qa(x),x.target,l(x,e.lockRef.current))},[]);u.useEffect(function(){return Ts.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ps),document.addEventListener("touchmove",c,Ps),document.addEventListener("touchstart",m,Ps),function(){Ts=Ts.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,Ps),document.removeEventListener("touchmove",c,Ps),document.removeEventListener("touchstart",m,Ps)}},[]);var w=e.removeScrollBar,y=e.inert;return u.createElement(u.Fragment,null,y?u.createElement(a,{styles:ON(o)}):null,w?u.createElement(PN,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function LN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BN=hN(Tx,$N);var qd=u.forwardRef(function(e,t){return u.createElement(gl,lt({},e,{ref:t,sideCar:BN}))});qd.classNames=gl.classNames;var UN=[" ","Enter","ArrowUp","ArrowDown"],WN=[" ","Enter"],va="Select",[xl,vl,HN]=Zg(va),[vo]=tr(va,[HN,hx]),yl=hx(),[VN,ns]=vo(va),[GN,qN]=vo(va),Mx=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:a,value:i,defaultValue:l,onValueChange:c,dir:d,name:m,autoComplete:f,disabled:g,required:w,form:y}=e,x=yl(t),[j,h]=u.useState(null),[p,v]=u.useState(null),[S,k]=u.useState(!1),T=zd(d),[E=!1,D]=ws({prop:r,defaultProp:o,onChange:a}),[q,$]=ws({prop:i,defaultProp:l,onChange:c}),Z=u.useRef(null),U=j?y||!!j.closest("form"):!0,[F,H]=u.useState(new Set),G=Array.from(F).map(L=>L.props.value).join(";");return s.jsx(KS,{...x,children:s.jsxs(VN,{required:w,scope:t,trigger:j,onTriggerChange:h,valueNode:p,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:k,contentId:qr(),value:q,onValueChange:$,open:E,onOpenChange:D,dir:T,triggerPointerDownPosRef:Z,disabled:g,children:[s.jsx(xl.Provider,{scope:t,children:s.jsx(GN,{scope:e.__scopeSelect,onNativeOptionAdd:u.useCallback(L=>{H(se=>new Set(se).add(L))},[]),onNativeOptionRemove:u.useCallback(L=>{H(se=>{const b=new Set(se);return b.delete(L),b})},[]),children:n})}),U?s.jsxs(rv,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:f,value:q,onChange:L=>$(L.target.value),disabled:g,form:y,children:[q===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},G):null]})})};Mx.displayName=va;var zx="SelectTrigger",Ix=u.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,a=yl(n),i=ns(zx,n),l=i.disabled||r,c=st(t,i.onTriggerChange),d=vl(n),m=u.useRef("touch"),[f,g,w]=sv(x=>{const j=d().filter(v=>!v.disabled),h=j.find(v=>v.value===i.value),p=ov(j,x,h);p!==void 0&&i.onValueChange(p.value)}),y=x=>{l||(i.onOpenChange(!0),w()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(ZS,{asChild:!0,...a,children:s.jsx(ze.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":nv(i.value)?"":void 0,...o,ref:c,onClick:Ie(o.onClick,x=>{x.currentTarget.focus(),m.current!=="mouse"&&y(x)}),onPointerDown:Ie(o.onPointerDown,x=>{m.current=x.pointerType;const j=x.target;j.hasPointerCapture(x.pointerId)&&j.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ie(o.onKeyDown,x=>{const j=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(j&&x.key===" ")&&UN.includes(x.key)&&(y(),x.preventDefault())})})})});Ix.displayName=zx;var Ox="SelectValue",Fx=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:a,placeholder:i="",...l}=e,c=ns(Ox,n),{onValueNodeHasChildrenChange:d}=c,m=a!==void 0,f=st(t,c.onValueNodeChange);return Lt(()=>{d(m)},[d,m]),s.jsx(ze.span,{...l,ref:f,style:{pointerEvents:"none"},children:nv(c.value)?s.jsx(s.Fragment,{children:i}):a})});Fx.displayName=Ox;var QN="SelectIcon",$x=u.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return s.jsx(ze.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});$x.displayName=QN;var YN="SelectPortal",Lx=e=>s.jsx(Gd,{asChild:!0,...e});Lx.displayName=YN;var bs="SelectContent",Bx=u.forwardRef((e,t)=>{const n=ns(bs,e.__scopeSelect),[r,o]=u.useState();if(Lt(()=>{o(new DocumentFragment)},[]),!n.open){const a=r;return a?po.createPortal(s.jsx(Ux,{scope:e.__scopeSelect,children:s.jsx(xl.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Wx,{...e,ref:t})});Bx.displayName=bs;var En=10,[Ux,rs]=vo(bs),KN="SelectContentImpl",Wx=u.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:i,side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:x,avoidCollisions:j,...h}=e,p=ns(bs,n),[v,S]=u.useState(null),[k,T]=u.useState(null),E=st(t,ae=>S(ae)),[D,q]=u.useState(null),[$,Z]=u.useState(null),U=vl(n),[F,H]=u.useState(!1),G=u.useRef(!1);u.useEffect(()=>{if(v)return kx(v)},[v]),ex();const L=u.useCallback(ae=>{const[ye,...Pe]=U().map(ke=>ke.ref.current),[xe]=Pe.slice(-1),be=document.activeElement;for(const ke of ae)if(ke===be||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===ye&&k&&(k.scrollTop=0),ke===xe&&k&&(k.scrollTop=k.scrollHeight),ke==null||ke.focus(),document.activeElement!==be))return},[U,k]),se=u.useCallback(()=>L([D,v]),[L,D,v]);u.useEffect(()=>{F&&se()},[F,se]);const{onOpenChange:b,triggerPointerDownPosRef:P}=p;u.useEffect(()=>{if(v){let ae={x:0,y:0};const ye=xe=>{var be,ke;ae={x:Math.abs(Math.round(xe.pageX)-(((be=P.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((ke=P.current)==null?void 0:ke.y)??0))}},Pe=xe=>{ae.x<=10&&ae.y<=10?xe.preventDefault():v.contains(xe.target)||b(!1),document.removeEventListener("pointermove",ye),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ye),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ye),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[v,b,P]),u.useEffect(()=>{const ae=()=>b(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[b]);const[I,O]=sv(ae=>{const ye=U().filter(be=>!be.disabled),Pe=ye.find(be=>be.ref.current===document.activeElement),xe=ov(ye,ae,Pe);xe&&setTimeout(()=>xe.ref.current.focus())}),oe=u.useCallback((ae,ye,Pe)=>{const xe=!G.current&&!Pe;(p.value!==void 0&&p.value===ye||xe)&&(q(ae),xe&&(G.current=!0))},[p.value]),pe=u.useCallback(()=>v==null?void 0:v.focus(),[v]),we=u.useCallback((ae,ye,Pe)=>{const xe=!G.current&&!Pe;(p.value!==void 0&&p.value===ye||xe)&&Z(ae)},[p.value]),je=r==="popper"?hu:Hx,me=je===hu?{side:l,sideOffset:c,align:d,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:w,sticky:y,hideWhenDetached:x,avoidCollisions:j}:{};return s.jsx(Ux,{scope:n,content:v,viewport:k,onViewportChange:T,itemRefCallback:oe,selectedItem:D,onItemLeave:pe,itemTextRefCallback:we,focusSelectedItem:se,selectedItemText:$,position:r,isPositioned:F,searchRef:I,children:s.jsx(qd,{as:Kr,allowPinchZoom:!0,children:s.jsx(Od,{asChild:!0,trapped:p.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ie(o,ae=>{var ye;(ye=p.trigger)==null||ye.focus({preventScroll:!0}),ae.preventDefault()}),children:s.jsx(Id,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:s.jsx(je,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:ae=>ae.preventDefault(),...h,...me,onPlaced:()=>H(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...h.style},onKeyDown:Ie(h.onKeyDown,ae=>{const ye=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ye&&ae.key.length===1&&O(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let xe=U().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const be=ae.target,ke=xe.indexOf(be);xe=xe.slice(ke+1)}setTimeout(()=>L(xe)),ae.preventDefault()}})})})})})})});Wx.displayName=KN;var ZN="SelectItemAlignedPosition",Hx=u.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,a=ns(bs,n),i=rs(bs,n),[l,c]=u.useState(null),[d,m]=u.useState(null),f=st(t,E=>m(E)),g=vl(n),w=u.useRef(!1),y=u.useRef(!0),{viewport:x,selectedItem:j,selectedItemText:h,focusSelectedItem:p}=i,v=u.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&x&&j&&h){const E=a.trigger.getBoundingClientRect(),D=d.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),$=h.getBoundingClientRect();if(a.dir!=="rtl"){const be=$.left-D.left,ke=q.left-be,Be=E.left-ke,Ue=E.width+Be,ot=Math.max(Ue,D.width),qe=window.innerWidth-En,Oe=Ep(ke,[En,Math.max(En,qe-ot)]);l.style.minWidth=Ue+"px",l.style.left=Oe+"px"}else{const be=D.right-$.right,ke=window.innerWidth-q.right-be,Be=window.innerWidth-E.right-ke,Ue=E.width+Be,ot=Math.max(Ue,D.width),qe=window.innerWidth-En,Oe=Ep(ke,[En,Math.max(En,qe-ot)]);l.style.minWidth=Ue+"px",l.style.right=Oe+"px"}const Z=g(),U=window.innerHeight-En*2,F=x.scrollHeight,H=window.getComputedStyle(d),G=parseInt(H.borderTopWidth,10),L=parseInt(H.paddingTop,10),se=parseInt(H.borderBottomWidth,10),b=parseInt(H.paddingBottom,10),P=G+L+F+b+se,I=Math.min(j.offsetHeight*5,P),O=window.getComputedStyle(x),oe=parseInt(O.paddingTop,10),pe=parseInt(O.paddingBottom,10),we=E.top+E.height/2-En,je=U-we,me=j.offsetHeight/2,ae=j.offsetTop+me,ye=G+L+ae,Pe=P-ye;if(ye<=we){const be=Z.length>0&&j===Z[Z.length-1].ref.current;l.style.bottom="0px";const ke=d.clientHeight-x.offsetTop-x.offsetHeight,Be=Math.max(je,me+(be?pe:0)+ke+se),Ue=ye+Be;l.style.height=Ue+"px"}else{const be=Z.length>0&&j===Z[0].ref.current;l.style.top="0px";const Be=Math.max(we,G+x.offsetTop+(be?oe:0)+me)+Pe;l.style.height=Be+"px",x.scrollTop=ye-we+x.offsetTop}l.style.margin=`${En}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[g,a.trigger,a.valueNode,l,d,x,j,h,a.dir,r]);Lt(()=>v(),[v]);const[S,k]=u.useState();Lt(()=>{d&&k(window.getComputedStyle(d).zIndex)},[d]);const T=u.useCallback(E=>{E&&y.current===!0&&(v(),p==null||p(),y.current=!1)},[v,p]);return s.jsx(JN,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:w,onScrollButtonChange:T,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(ze.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Hx.displayName=ZN;var XN="SelectPopperPosition",hu=u.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=En,...a}=e,i=yl(n);return s.jsx(XS,{...i,...a,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});hu.displayName=XN;var[JN,Qd]=vo(bs,{}),gu="SelectViewport",Vx=u.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,a=rs(gu,n),i=Qd(gu,n),l=st(t,a.onViewportChange),c=u.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(xl.Slot,{scope:n,children:s.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ie(o.onScroll,d=>{const m=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&f){const w=Math.abs(c.current-m.scrollTop);if(w>0){const y=window.innerHeight-En*2,x=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),h=Math.max(x,j);if(h<y){const p=h+w,v=Math.min(y,p),S=p-v;f.style.height=v+"px",f.style.bottom==="0px"&&(m.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});Vx.displayName=gu;var Gx="SelectGroup",[e2,t2]=vo(Gx),n2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=qr();return s.jsx(e2,{scope:n,id:o,children:s.jsx(ze.div,{role:"group","aria-labelledby":o,...r,ref:t})})});n2.displayName=Gx;var qx="SelectLabel",r2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=t2(qx,n);return s.jsx(ze.div,{id:o.id,...r,ref:t})});r2.displayName=qx;var Ui="SelectItem",[s2,Qx]=vo(Ui),Yx=u.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:a,...i}=e,l=ns(Ui,n),c=rs(Ui,n),d=l.value===r,[m,f]=u.useState(a??""),[g,w]=u.useState(!1),y=st(t,p=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,p,r,o)}),x=qr(),j=u.useRef("touch"),h=()=>{o||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(s2,{scope:n,value:r,disabled:o,textId:x,isSelected:d,onItemTextChange:u.useCallback(p=>{f(v=>v||((p==null?void 0:p.textContent)??"").trim())},[]),children:s.jsx(xl.ItemSlot,{scope:n,value:r,disabled:o,textValue:m,children:s.jsx(ze.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...i,ref:y,onFocus:Ie(i.onFocus,()=>w(!0)),onBlur:Ie(i.onBlur,()=>w(!1)),onClick:Ie(i.onClick,()=>{j.current!=="mouse"&&h()}),onPointerUp:Ie(i.onPointerUp,()=>{j.current==="mouse"&&h()}),onPointerDown:Ie(i.onPointerDown,p=>{j.current=p.pointerType}),onPointerMove:Ie(i.onPointerMove,p=>{var v;j.current=p.pointerType,o?(v=c.onItemLeave)==null||v.call(c):j.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(i.onPointerLeave,p=>{var v;p.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Ie(i.onKeyDown,p=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&p.key===" "||(WN.includes(p.key)&&h(),p.key===" "&&p.preventDefault())})})})})});Yx.displayName=Ui;var Oo="SelectItemText",Kx=u.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...a}=e,i=ns(Oo,n),l=rs(Oo,n),c=Qx(Oo,n),d=qN(Oo,n),[m,f]=u.useState(null),g=st(t,h=>f(h),c.onItemTextChange,h=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,h,c.value,c.disabled)}),w=m==null?void 0:m.textContent,y=u.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:j}=d;return Lt(()=>(x(y),()=>j(y)),[x,j,y]),s.jsxs(s.Fragment,{children:[s.jsx(ze.span,{id:c.textId,...a,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?po.createPortal(a.children,i.valueNode):null]})});Kx.displayName=Oo;var Zx="SelectItemIndicator",Xx=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Qx(Zx,n).isSelected?s.jsx(ze.span,{"aria-hidden":!0,...r,ref:t}):null});Xx.displayName=Zx;var xu="SelectScrollUpButton",Jx=u.forwardRef((e,t)=>{const n=rs(xu,e.__scopeSelect),r=Qd(xu,e.__scopeSelect),[o,a]=u.useState(!1),i=st(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(tv,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Jx.displayName=xu;var vu="SelectScrollDownButton",ev=u.forwardRef((e,t)=>{const n=rs(vu,e.__scopeSelect),r=Qd(vu,e.__scopeSelect),[o,a]=u.useState(!1),i=st(t,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<d;a(m)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),o?s.jsx(tv,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ev.displayName=vu;var tv=u.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,a=rs("SelectScrollButton",n),i=u.useRef(null),l=vl(n),c=u.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Lt(()=>{var m;const d=l().find(f=>f.ref.current===document.activeElement);(m=d==null?void 0:d.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),s.jsx(ze.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:Ie(o.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:Ie(o.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:Ie(o.onPointerLeave,()=>{c()})})}),o2="SelectSeparator",a2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(ze.div,{"aria-hidden":!0,...r,ref:t})});a2.displayName=o2;var yu="SelectArrow",i2=u.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=yl(n),a=ns(yu,n),i=rs(yu,n);return a.open&&i.position==="popper"?s.jsx(JS,{...o,...r,ref:t}):null});i2.displayName=yu;function nv(e){return e===""||e===void 0}var rv=u.forwardRef((e,t)=>{const{value:n,...r}=e,o=u.useRef(null),a=st(t,o),i=Td(n);return u.useEffect(()=>{const l=o.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==n&&m){const f=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(f)}},[i,n]),s.jsx(Nx,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});rv.displayName="BubbleSelect";function sv(e){const t=Ln(e),n=u.useRef(""),r=u.useRef(0),o=u.useCallback(i=>{const l=n.current+i;t(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=u.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,a]}function ov(e,t,n){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let i=l2(e,Math.max(a,0));o.length===1&&(i=i.filter(d=>d!==n));const c=i.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function l2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var c2=Mx,u2=Ix,d2=Fx,f2=$x,p2=Lx,m2=Bx,h2=Vx,g2=Yx,x2=Kx,v2=Xx,y2=Jx,w2=ev;function Rr({...e}){return s.jsx(c2,{"data-slot":"select",...e})}function Ar({...e}){return s.jsx(d2,{"data-slot":"select-value",...e})}function Mr({className:e,size:t="default",children:n,...r}){return s.jsxs(u2,{"data-slot":"select-trigger","data-size":t,className:De("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,s.jsx(f2,{asChild:!0,children:s.jsx(Rd,{className:"size-4 opacity-50"})})]})}function zr({className:e,children:t,position:n="popper",...r}){return s.jsx(p2,{children:s.jsxs(m2,{"data-slot":"select-content",className:De("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(j2,{}),s.jsx(h2,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),s.jsx(b2,{})]})})}function tt({className:e,children:t,...n}){return s.jsxs(g2,{"data-slot":"select-item",className:De("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(v2,{children:s.jsx(cl,{className:"size-4"})})}),s.jsx(x2,{children:t})]})}function j2({className:e,...t}){return s.jsx(y2,{"data-slot":"select-scroll-up-button",className:De("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(mj,{className:"size-4"})})}function b2({className:e,...t}){return s.jsx(w2,{"data-slot":"select-scroll-down-button",className:De("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Rd,{className:"size-4"})})}function S2({onRegister:e,onNavigateToLogin:t}){const[n,r]=u.useState({email:"",password:"",username:"",userId:"",category:""}),[o,a]=u.useState(!1),i=async l=>{l.preventDefault(),a(!0);try{await e(n)}catch(c){console.error("Registration failed:",c)}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50 p-4",children:s.jsxs(Xe,{className:"w-full max-w-md",children:[s.jsxs(dt,{className:"space-y-1",children:[s.jsx(ft,{className:"text-2xl font-bold text-center",children:"Create Account"}),s.jsx($g,{className:"text-center",children:"Join the student community"})]}),s.jsx(nt,{children:s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"userId",children:"Student ID"}),s.jsx(Ee,{id:"userId",type:"text",placeholder:"S12345678",value:n.userId,onChange:l=>r({...n,userId:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"username",children:"Username"}),s.jsx(Ee,{id:"username",type:"text",placeholder:"johndoe",value:n.username,onChange:l=>r({...n,username:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"email",children:"Email"}),s.jsx(Ee,{id:"email",type:"email",placeholder:"student@university.edu",value:n.email,onChange:l=>r({...n,email:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"password",children:"Password"}),s.jsx(Ee,{id:"password",type:"password",placeholder:"",value:n.password,onChange:l=>r({...n,password:l.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"category",children:"Category / Major"}),s.jsxs(Rr,{value:n.category,onValueChange:l=>r({...n,category:l}),children:[s.jsx(Mr,{id:"category",children:s.jsx(Ar,{placeholder:"Select your major"})}),s.jsxs(zr,{children:[s.jsx(tt,{value:"computer-science",children:"Computer Science"}),s.jsx(tt,{value:"engineering",children:"Engineering"}),s.jsx(tt,{value:"business",children:"Business"}),s.jsx(tt,{value:"arts",children:"Arts & Humanities"}),s.jsx(tt,{value:"sciences",children:"Natural Sciences"}),s.jsx(tt,{value:"mathematics",children:"Mathematics"}),s.jsx(tt,{value:"other",children:"Other"})]})]})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:o,children:o?"Creating account...":"Register"}),s.jsx(Q,{type:"button",variant:"outline",className:"w-full",onClick:t,children:"Back to Login"})]})})]})})}var Yd="Dialog",[av,iv]=tr(Yd),[N2,Wn]=av(Yd),lv=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:i=!0}=e,l=u.useRef(null),c=u.useRef(null),[d=!1,m]=ws({prop:r,defaultProp:o,onChange:a});return s.jsx(N2,{scope:t,triggerRef:l,contentRef:c,contentId:qr(),titleId:qr(),descriptionId:qr(),open:d,onOpenChange:m,onOpenToggle:u.useCallback(()=>m(f=>!f),[m]),modal:i,children:n})};lv.displayName=Yd;var cv="DialogTrigger",uv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(cv,n),a=st(t,o.triggerRef);return s.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Xd(o.open),...r,ref:a,onClick:Ie(e.onClick,o.onOpenToggle)})});uv.displayName=cv;var Kd="DialogPortal",[C2,dv]=av(Kd,{forceMount:void 0}),fv=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,a=Wn(Kd,t);return s.jsx(C2,{scope:t,forceMount:n,children:u.Children.map(r,i=>s.jsx(ho,{present:n||a.open,children:s.jsx(Gd,{asChild:!0,container:o,children:i})}))})};fv.displayName=Kd;var Wi="DialogOverlay",pv=u.forwardRef((e,t)=>{const n=dv(Wi,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Wn(Wi,e.__scopeDialog);return a.modal?s.jsx(ho,{present:r||a.open,children:s.jsx(k2,{...o,ref:t})}):null});pv.displayName=Wi;var k2=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(Wi,n);return s.jsx(qd,{as:Kr,allowPinchZoom:!0,shards:[o.contentRef],children:s.jsx(ze.div,{"data-state":Xd(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ss="DialogContent",mv=u.forwardRef((e,t)=>{const n=dv(Ss,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,a=Wn(Ss,e.__scopeDialog);return s.jsx(ho,{present:r||a.open,children:a.modal?s.jsx(E2,{...o,ref:t}):s.jsx(P2,{...o,ref:t})})});mv.displayName=Ss;var E2=u.forwardRef((e,t)=>{const n=Wn(Ss,e.__scopeDialog),r=u.useRef(null),o=st(t,n.contentRef,r);return u.useEffect(()=>{const a=r.current;if(a)return kx(a)},[]),s.jsx(hv,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,a=>a.preventDefault())})}),P2=u.forwardRef((e,t)=>{const n=Wn(Ss,e.__scopeDialog),r=u.useRef(!1),o=u.useRef(!1);return s.jsx(hv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(i))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),hv=u.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...i}=e,l=Wn(Ss,n),c=u.useRef(null),d=st(t,c);return ex(),s.jsxs(s.Fragment,{children:[s.jsx(Od,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(Id,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Xd(l.open),...i,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(_2,{titleId:l.titleId}),s.jsx(R2,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Zd="DialogTitle",gv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(Zd,n);return s.jsx(ze.h2,{id:o.titleId,...r,ref:t})});gv.displayName=Zd;var xv="DialogDescription",vv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(xv,n);return s.jsx(ze.p,{id:o.descriptionId,...r,ref:t})});vv.displayName=xv;var yv="DialogClose",wv=u.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Wn(yv,n);return s.jsx(ze.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>o.onOpenChange(!1))})});wv.displayName=yv;function Xd(e){return e?"open":"closed"}var jv="DialogTitleWarning",[T2,bv]=W1(jv,{contentName:Ss,titleName:Zd,docsSlug:"dialog"}),_2=({titleId:e})=>{const t=bv(jv),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return u.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},D2="DialogDescriptionWarning",R2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bv(D2).contentName}}.`;return u.useEffect(()=>{var a;const o=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Sv=lv,Nv=uv,Cv=fv,kv=pv,Ev=mv,Pv=gv,A2=vv,Jd=wv;function An({...e}){return s.jsx(Sv,{"data-slot":"dialog",...e})}function ef({...e}){return s.jsx(Nv,{"data-slot":"dialog-trigger",...e})}function M2({...e}){return s.jsx(Cv,{"data-slot":"dialog-portal",...e})}function z2({className:e,...t}){return s.jsx(kv,{"data-slot":"dialog-overlay",className:De("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Mn({className:e,children:t,...n}){return s.jsxs(M2,{"data-slot":"dialog-portal",children:[s.jsx(z2,{}),s.jsxs(Ev,{"data-slot":"dialog-content",className:De("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,s.jsxs(Jd,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(dl,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function zn({className:e,...t}){return s.jsx("div",{"data-slot":"dialog-header",className:De("flex flex-col gap-2 text-center sm:text-left",e),...t})}function In({className:e,...t}){return s.jsx(Pv,{"data-slot":"dialog-title",className:De("text-lg leading-none font-semibold",e),...t})}function I2(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const O2=e=>{switch(e){case"success":return L2;case"info":return U2;case"warning":return B2;case"error":return W2;default:return null}},F2=Array(12).fill(0),$2=({visible:e,className:t})=>ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ne.createElement("div",{className:"sonner-spinner"},F2.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),L2=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),B2=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),U2=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W2=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),H2=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),V2=()=>{const[e,t]=ne.useState(document.hidden);return ne.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let wu=1;class G2{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:wu++,i=this.toasts.find(c=>c.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:r}),{...c,...t,id:a,dismissible:l,title:r}):c):this.addToast({title:r,...o,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,i;const l=o.then(async d=>{if(i=["resolve",d],ne.isValidElement(d))a=!1,this.create({id:r,type:"default",message:d});else if(Q2(d)&&!d.ok){a=!1;const f=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,y=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...y})}else if(d instanceof Error){a=!1;const f=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,y=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:r,type:"error",description:g,...y})}else if(n.success!==void 0){a=!1;const f=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description,y=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:r,type:"success",description:g,...y})}}).catch(async d=>{if(i=["reject",d],n.error!==void 0){a=!1;const m=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description,w=typeof m=="object"&&!ne.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:f,...w})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((d,m)=>l.then(()=>i[0]==="reject"?m(i[1]):d(i[1])).catch(m));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||wu++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const en=new G2,q2=(e,t)=>{const n=(t==null?void 0:t.id)||wu++;return en.addToast({title:e,...t,id:n}),n},Q2=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Y2=q2,K2=()=>en.toasts,Z2=()=>en.getActiveToasts(),z=Object.assign(Y2,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:K2,getToasts:Z2});I2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Qa(e){return e.label!==void 0}const X2=3,J2="24px",eC="16px",Zp=4e3,tC=356,nC=14,rC=45,sC=200;function qn(...e){return e.filter(Boolean).join(" ")}function oC(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const aC=e=>{var t,n,r,o,a,i,l,c,d;const{invert:m,toast:f,unstyled:g,interacting:w,setHeights:y,visibleToasts:x,heights:j,index:h,toasts:p,expanded:v,removeToast:S,defaultRichColors:k,closeButton:T,style:E,cancelButtonStyle:D,actionButtonStyle:q,className:$="",descriptionClassName:Z="",duration:U,position:F,gap:H,expandByDefault:G,classNames:L,icons:se,closeButtonAriaLabel:b="Close toast"}=e,[P,I]=ne.useState(null),[O,oe]=ne.useState(null),[pe,we]=ne.useState(!1),[je,me]=ne.useState(!1),[ae,ye]=ne.useState(!1),[Pe,xe]=ne.useState(!1),[be,ke]=ne.useState(!1),[Be,Ue]=ne.useState(0),[ot,qe]=ne.useState(0),Oe=ne.useRef(f.duration||U||Zp),It=ne.useRef(null),We=ne.useRef(null),Je=h===0,an=h+1<=x,He=f.type,kt=f.dismissible!==!1,jt=f.className||"",Bt=f.descriptionClassName||"",pt=ne.useMemo(()=>j.findIndex(Y=>Y.toastId===f.id)||0,[j,f.id]),Et=ne.useMemo(()=>{var Y;return(Y=f.closeButton)!=null?Y:T},[f.closeButton,T]),xt=ne.useMemo(()=>f.duration||U||Zp,[f.duration,U]),vt=ne.useRef(0),Ke=ne.useRef(0),B=ne.useRef(0),V=ne.useRef(null),[te,ue]=F.split("-"),Re=ne.useMemo(()=>j.reduce((Y,_,W)=>W>=pt?Y:Y+_.height,0),[j,pt]),Ne=V2(),Fe=f.invert||m,et=He==="loading";Ke.current=ne.useMemo(()=>pt*H+Re,[pt,Re]),ne.useEffect(()=>{Oe.current=xt},[xt]),ne.useEffect(()=>{we(!0)},[]),ne.useEffect(()=>{const Y=We.current;if(Y){const _=Y.getBoundingClientRect().height;return qe(_),y(W=>[{toastId:f.id,height:_,position:f.position},...W]),()=>y(W=>W.filter(ce=>ce.toastId!==f.id))}},[y,f.id]),ne.useLayoutEffect(()=>{if(!pe)return;const Y=We.current,_=Y.style.height;Y.style.height="auto";const W=Y.getBoundingClientRect().height;Y.style.height=_,qe(W),y(ce=>ce.find(Se=>Se.toastId===f.id)?ce.map(Se=>Se.toastId===f.id?{...Se,height:W}:Se):[{toastId:f.id,height:W,position:f.position},...ce])},[pe,f.title,f.description,y,f.id]);const N=ne.useCallback(()=>{me(!0),Ue(Ke.current),y(Y=>Y.filter(_=>_.toastId!==f.id)),setTimeout(()=>{S(f)},sC)},[f,S,y,Ke]);ne.useEffect(()=>{if(f.promise&&He==="loading"||f.duration===1/0||f.type==="loading")return;let Y;return v||w||Ne?(()=>{if(B.current<vt.current){const ce=new Date().getTime()-vt.current;Oe.current=Oe.current-ce}B.current=new Date().getTime()})():(()=>{Oe.current!==1/0&&(vt.current=new Date().getTime(),Y=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),N()},Oe.current))})(),()=>clearTimeout(Y)},[v,w,f,He,Ne,N]),ne.useEffect(()=>{f.delete&&N()},[N,f.delete]);function R(){var Y;if(se!=null&&se.loading){var _;return ne.createElement("div",{className:qn(L==null?void 0:L.loader,f==null||(_=f.classNames)==null?void 0:_.loader,"sonner-loader"),"data-visible":He==="loading"},se.loading)}return ne.createElement($2,{className:qn(L==null?void 0:L.loader,f==null||(Y=f.classNames)==null?void 0:Y.loader),visible:He==="loading"})}const K=f.icon||(se==null?void 0:se[He])||O2(He);var le,de;return ne.createElement("li",{tabIndex:0,ref:We,className:qn($,jt,L==null?void 0:L.toast,f==null||(t=f.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[He],f==null||(n=f.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(le=f.richColors)!=null?le:k,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":pe,"data-promise":!!f.promise,"data-swiped":be,"data-removed":je,"data-visible":an,"data-y-position":te,"data-x-position":ue,"data-index":h,"data-front":Je,"data-swiping":ae,"data-dismissible":kt,"data-type":He,"data-invert":Fe,"data-swipe-out":Pe,"data-swipe-direction":O,"data-expanded":!!(v||G&&pe),style:{"--index":h,"--toasts-before":h,"--z-index":p.length-h,"--offset":`${je?Be:Ke.current}px`,"--initial-height":G?"auto":`${ot}px`,...E,...f.style},onDragEnd:()=>{ye(!1),I(null),V.current=null},onPointerDown:Y=>{et||!kt||(It.current=new Date,Ue(Ke.current),Y.target.setPointerCapture(Y.pointerId),Y.target.tagName!=="BUTTON"&&(ye(!0),V.current={x:Y.clientX,y:Y.clientY}))},onPointerUp:()=>{var Y,_,W;if(Pe||!kt)return;V.current=null;const ce=Number(((Y=We.current)==null?void 0:Y.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ge=Number(((_=We.current)==null?void 0:_.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Se=new Date().getTime()-((W=It.current)==null?void 0:W.getTime()),$e=P==="x"?ce:ge,Qe=Math.abs($e)/Se;if(Math.abs($e)>=rC||Qe>.11){Ue(Ke.current),f.onDismiss==null||f.onDismiss.call(f,f),oe(P==="x"?ce>0?"right":"left":ge>0?"down":"up"),N(),xe(!0);return}else{var Nt,Pt;(Nt=We.current)==null||Nt.style.setProperty("--swipe-amount-x","0px"),(Pt=We.current)==null||Pt.style.setProperty("--swipe-amount-y","0px")}ke(!1),ye(!1),I(null)},onPointerMove:Y=>{var _,W,ce;if(!V.current||!kt||((_=window.getSelection())==null?void 0:_.toString().length)>0)return;const Se=Y.clientY-V.current.y,$e=Y.clientX-V.current.x;var Qe;const Nt=(Qe=e.swipeDirections)!=null?Qe:oC(F);!P&&(Math.abs($e)>1||Math.abs(Se)>1)&&I(Math.abs($e)>Math.abs(Se)?"x":"y");let Pt={x:0,y:0};const br=Tt=>1/(1.5+Math.abs(Tt)/20);if(P==="y"){if(Nt.includes("top")||Nt.includes("bottom"))if(Nt.includes("top")&&Se<0||Nt.includes("bottom")&&Se>0)Pt.y=Se;else{const Tt=Se*br(Se);Pt.y=Math.abs(Tt)<Math.abs(Se)?Tt:Se}}else if(P==="x"&&(Nt.includes("left")||Nt.includes("right")))if(Nt.includes("left")&&$e<0||Nt.includes("right")&&$e>0)Pt.x=$e;else{const Tt=$e*br($e);Pt.x=Math.abs(Tt)<Math.abs($e)?Tt:$e}(Math.abs(Pt.x)>0||Math.abs(Pt.y)>0)&&ke(!0),(W=We.current)==null||W.style.setProperty("--swipe-amount-x",`${Pt.x}px`),(ce=We.current)==null||ce.style.setProperty("--swipe-amount-y",`${Pt.y}px`)}},Et&&!f.jsx&&He!=="loading"?ne.createElement("button",{"aria-label":b,"data-disabled":et,"data-close-button":!0,onClick:et||!kt?()=>{}:()=>{N(),f.onDismiss==null||f.onDismiss.call(f,f)},className:qn(L==null?void 0:L.closeButton,f==null||(r=f.classNames)==null?void 0:r.closeButton)},(de=se==null?void 0:se.close)!=null?de:H2):null,(He||f.icon||f.promise)&&f.icon!==null&&((se==null?void 0:se[He])!==null||f.icon)?ne.createElement("div",{"data-icon":"",className:qn(L==null?void 0:L.icon,f==null||(o=f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||R():null,f.type!=="loading"?K:null):null,ne.createElement("div",{"data-content":"",className:qn(L==null?void 0:L.content,f==null||(a=f.classNames)==null?void 0:a.content)},ne.createElement("div",{"data-title":"",className:qn(L==null?void 0:L.title,f==null||(i=f.classNames)==null?void 0:i.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?ne.createElement("div",{"data-description":"",className:qn(Z,Bt,L==null?void 0:L.description,f==null||(l=f.classNames)==null?void 0:l.description)},typeof f.description=="function"?f.description():f.description):null),ne.isValidElement(f.cancel)?f.cancel:f.cancel&&Qa(f.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||D,onClick:Y=>{Qa(f.cancel)&&kt&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Y),N())},className:qn(L==null?void 0:L.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,ne.isValidElement(f.action)?f.action:f.action&&Qa(f.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||q,onClick:Y=>{Qa(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Y),!Y.defaultPrevented&&N())},className:qn(L==null?void 0:L.actionButton,f==null||(d=f.classNames)==null?void 0:d.actionButton)},f.action.label):null)};function Xp(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function iC(e,t){const n={};return[e,t].forEach((r,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",l=a?eC:J2;function c(d){["top","right","bottom","left"].forEach(m=>{n[`${i}-${m}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${i}-${d}`]=l:n[`${i}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}const lC=ne.forwardRef(function(t,n){const{invert:r,position:o="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:l,className:c,offset:d,mobileOffset:m,theme:f="light",richColors:g,duration:w,style:y,visibleToasts:x=X2,toastOptions:j,dir:h=Xp(),gap:p=nC,icons:v,containerAriaLabel:S="Notifications"}=t,[k,T]=ne.useState([]),E=ne.useMemo(()=>Array.from(new Set([o].concat(k.filter(O=>O.position).map(O=>O.position)))),[k,o]),[D,q]=ne.useState([]),[$,Z]=ne.useState(!1),[U,F]=ne.useState(!1),[H,G]=ne.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=ne.useRef(null),se=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=ne.useRef(null),P=ne.useRef(!1),I=ne.useCallback(O=>{T(oe=>{var pe;return(pe=oe.find(we=>we.id===O.id))!=null&&pe.delete||en.dismiss(O.id),oe.filter(({id:we})=>we!==O.id)})},[]);return ne.useEffect(()=>en.subscribe(O=>{if(O.dismiss){requestAnimationFrame(()=>{T(oe=>oe.map(pe=>pe.id===O.id?{...pe,delete:!0}:pe))});return}setTimeout(()=>{kg.flushSync(()=>{T(oe=>{const pe=oe.findIndex(we=>we.id===O.id);return pe!==-1?[...oe.slice(0,pe),{...oe[pe],...O},...oe.slice(pe+1)]:[O,...oe]})})})}),[k]),ne.useEffect(()=>{if(f!=="system"){G(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:oe})=>{G(oe?"dark":"light")})}catch{O.addListener(({matches:pe})=>{try{G(pe?"dark":"light")}catch(we){console.error(we)}})}},[f]),ne.useEffect(()=>{k.length<=1&&Z(!1)},[k]),ne.useEffect(()=>{const O=oe=>{var pe;if(a.every(me=>oe[me]||oe.code===me)){var je;Z(!0),(je=L.current)==null||je.focus()}oe.code==="Escape"&&(document.activeElement===L.current||(pe=L.current)!=null&&pe.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[a]),ne.useEffect(()=>{if(L.current)return()=>{b.current&&(b.current.focus({preventScroll:!0}),b.current=null,P.current=!1)}},[L.current]),ne.createElement("section",{ref:n,"aria-label":`${S} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((O,oe)=>{var pe;const[we,je]=O.split("-");return k.length?ne.createElement("ol",{key:O,dir:h==="auto"?Xp():h,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":we,"data-lifted":$&&k.length>1&&!i,"data-x-position":je,style:{"--front-toast-height":`${((pe=D[0])==null?void 0:pe.height)||0}px`,"--width":`${tC}px`,"--gap":`${p}px`,...y,...iC(d,m)},onBlur:me=>{P.current&&!me.currentTarget.contains(me.relatedTarget)&&(P.current=!1,b.current&&(b.current.focus({preventScroll:!0}),b.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||P.current||(P.current=!0,b.current=me.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{U||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},k.filter(me=>!me.position&&oe===0||me.position===O).map((me,ae)=>{var ye,Pe;return ne.createElement(aC,{key:me.id,icons:v,index:ae,toast:me,defaultRichColors:g,duration:(ye=j==null?void 0:j.duration)!=null?ye:w,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:r,visibleToasts:x,closeButton:(Pe=j==null?void 0:j.closeButton)!=null?Pe:l,interacting:U,position:O,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,closeButtonAriaLabel:j==null?void 0:j.closeButtonAriaLabel,removeToast:I,toasts:k.filter(xe=>xe.position==me.position),heights:D.filter(xe=>xe.position==me.position),setHeights:q,expandByDefault:i,gap:p,expanded:$,swipeDirections:t.swipeDirections})})):null}))});var tf="Avatar",[cC]=tr(tf),[uC,Tv]=cC(tf),_v=u.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[o,a]=u.useState("idle");return s.jsx(uC,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:s.jsx(ze.span,{...r,ref:t})})});_v.displayName=tf;var Dv="AvatarImage",Rv=u.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:o=()=>{},...a}=e,i=Tv(Dv,n),l=dC(r,a.referrerPolicy),c=Ln(d=>{o(d),i.onImageLoadingStatusChange(d)});return Lt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(ze.img,{...a,ref:t,src:r}):null});Rv.displayName=Dv;var Av="AvatarFallback",Mv=u.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...o}=e,a=Tv(Av,n),[i,l]=u.useState(r===void 0);return u.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&a.imageLoadingStatus!=="loaded"?s.jsx(ze.span,{...o,ref:t}):null});Mv.displayName=Av;function dC(e,t){const[n,r]=u.useState("idle");return Lt(()=>{if(!e){r("error");return}let o=!0;const a=new window.Image,i=l=>()=>{o&&r(l)};return r("loading"),a.onload=i("loaded"),a.onerror=i("error"),a.src=e,t&&(a.referrerPolicy=t),()=>{o=!1}},[e,t]),n}var fC=_v,pC=Rv,mC=Mv;function Hi({className:e,...t}){return s.jsx(fC,{"data-slot":"avatar",className:De("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function Vi({className:e,...t}){return s.jsx(pC,{"data-slot":"avatar-image",className:De("aspect-square size-full",e),...t})}function Gi({className:e,...t}){return s.jsx(mC,{"data-slot":"avatar-fallback",className:De("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var nf="Switch",[hC]=tr(nf),[gC,xC]=hC(nf),zv=u.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:o,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:d,form:m,...f}=e,[g,w]=u.useState(null),y=st(t,v=>w(v)),x=u.useRef(!1),j=g?m||!!g.closest("form"):!0,[h=!1,p]=ws({prop:o,defaultProp:a,onChange:d});return s.jsxs(gC,{scope:n,checked:h,disabled:l,children:[s.jsx(ze.button,{type:"button",role:"switch","aria-checked":h,"aria-required":i,"data-state":Fv(h),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Ie(e.onClick,v=>{p(S=>!S),j&&(x.current=v.isPropagationStopped(),x.current||v.stopPropagation())})}),j&&s.jsx(vC,{control:g,bubbles:!x.current,name:r,value:c,checked:h,required:i,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});zv.displayName=nf;var Iv="SwitchThumb",Ov=u.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,o=xC(Iv,n);return s.jsx(ze.span,{"data-state":Fv(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:t})});Ov.displayName=Iv;var vC=e=>{const{control:t,checked:n,bubbles:r=!0,...o}=e,a=u.useRef(null),i=Td(n),l=_d(t);return u.useEffect(()=>{const c=a.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(i!==n&&f){const g=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(g)}},[i,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fv(e){return e?"checked":"unchecked"}var yC=zv,wC=Ov;function ju({className:e,...t}){return s.jsx(yC,{"data-slot":"switch",className:De("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(wC,{"data-slot":"switch-thumb",className:De("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function jC({accessToken:e,onOpenChat:t,onViewFriend:n}){const r="studyhub_active_timer",[o,a]=u.useState([]),[i,l]=u.useState(0),[c,d]=u.useState(0),[m,f]=u.useState(0),[g,w]=u.useState(!1),[y,x]=u.useState(!1),[j,h]=u.useState(null),[p,v]=u.useState(!0),[S,k]=u.useState(null),[T,E]=u.useState(0),[D,q]=u.useState(0),[$,Z]=u.useState(0),[U,F]=u.useState(0),[H,G]=u.useState(!1),[L,se]=u.useState(null),[b,P]=u.useState("00:00"),[I,O]=u.useState([]),[oe,pe]=u.useState([]),[we,je]=u.useState([]),[me,ae]=u.useState(!1),[ye,Pe]=u.useState(!1),[xe,be]=u.useState(""),[ke,Be]=u.useState(!1),[Ue,ot]=u.useState(""),[qe,Oe]=u.useState(!1),[It,We]=u.useState([]),[Je,an]=u.useState([]),[He,kt]=u.useState(0),[jt,Bt]=u.useState(!1),[pt,Et]=u.useState(null),xt=u.useRef(null),vt=53,Ke=9,B=3.5,[V,te]=u.useState({}),[ue,Re]=u.useState(null),Ne=u.useRef(null),[Fe,et]=u.useState({name:"",subject:"",durationMinutes:0,shared:!1}),[N,R]=u.useState({name:"",subject:"",durationMinutes:0,shared:!1}),K=C=>{const A=C.getFullYear(),ee=String(C.getMonth()+1).padStart(2,"0"),ie=String(C.getDate()).padStart(2,"0");return`${A}-${ee}-${ie}`},le=`dashboard_cache:${e.slice(-12)}`;u.useEffect(()=>{let C=!1;return(async()=>{let ee=!1;try{const ie=sessionStorage.getItem(le);if(ie){const Ce=JSON.parse(ie);a(Ce.todos||[]),l(Number(Ce.dailyTotal||0)),d(Number(Ce.weeklyTotal||0)),f(Number(Ce.monthlyTotal||0)),q(Number(Ce.dailyGoal||0)),Z(Number(Ce.weeklyGoal||0)),F(Number(Ce.monthlyGoal||0)),O(Ce.friends||[]),pe(Ce.nearbyRooms||[]),je(Ce.studyStreak||[]),te(Ce.heatmapData||{}),ee=!0,C||v(!1)}}catch{}ee||v(!0),await Promise.all([_(),ge(),br(),Se(),Pt()]),C||v(!1)})(),()=>{C=!0}},[e,le]),u.useEffect(()=>{if(p)return;const C={todos:o,dailyTotal:i,weeklyTotal:c,monthlyTotal:m,dailyGoal:D,weeklyGoal:$,monthlyGoal:U,friends:I,nearbyRooms:oe,studyStreak:we,heatmapData:V};sessionStorage.setItem(le,JSON.stringify(C))},[le,p,o,i,c,m,D,$,U,I,oe,we,V]),u.useEffect(()=>()=>{xt.current&&clearTimeout(xt.current)},[]);const de=()=>{if(xt.current&&(clearTimeout(xt.current),xt.current=null),!me){Pe(!0),Bt(!1),ae(!0);return}ae(!1),Bt(!1),be(""),xt.current=setTimeout(()=>{Pe(!1),xt.current=null},500)},Y=async()=>{const C=Ue.trim();if(!C){z.error("Please enter a username");return}try{Oe(!0);const A=await fetch(`${X}/friends/add`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({friendUsername:C})}),ee=await A.json();if(!A.ok||!ee.success){z.error(ee.error||"Failed to send friend request");return}ot(""),Be(!1),ee.autoAccepted?(z.success("Request matched and accepted."),Se(),Qe()):(z.success("Friend request sent (pending)."),Qe())}catch(A){console.error("Failed to send friend request:",A),z.error("Failed to send friend request")}finally{Oe(!1)}};u.useEffect(()=>{const C=()=>{try{const ie=localStorage.getItem(r);return ie?JSON.parse(ie):null}catch{return null}},A=ie=>ie.baseSeconds+Math.floor((Date.now()-ie.startTime)/1e3);let ee;return S&&(ee=setInterval(()=>{const ie=C();if(ie&&ie.todoId===S){const Ce=A(ie);E(Ce);const Ze=o.find(yt=>yt.id===S);if(Ze&&Ze.plannedDuration){const yt=Ze.plannedDuration*60;Ce>=yt&&(os(Ze),z.success(" Task completed!"))}}},1e3)),()=>{ee&&clearInterval(ee)}},[S,o]),u.useEffect(()=>{try{const C=localStorage.getItem(r);if(!C)return;const A=JSON.parse(C);if(!(A!=null&&A.todoId)||!(A!=null&&A.startTime))return;const ee=A.baseSeconds+Math.floor((Date.now()-A.startTime)/1e3);k(A.todoId),E(ee)}catch{}},[]);const _=async()=>{try{const A=await(await fetch(`${X}/todos`,{headers:{Authorization:`Bearer ${e}`}})).json();a(A.todos||[])}catch(C){console.error("Failed to fetch todos:",C)}},W=C=>{const A=new Date;return A.setDate(A.getDate()+C),K(A)},ce=C=>Number(V[C]||0),ge=async()=>{try{const C=new Date,A=C.getDay()===0?0:C.getDay(),ee=vt*7+A,ie=new Date,Ce=new Date;Ce.setDate(ie.getDate()-(ee-1));const Ze=K(Ce),yt=K(ie),ln=Ut=>{te(Ut);const as=Number(Ut[W(0)]||0),cn=Array.from({length:7},(ir,Vn)=>Number(Ut[W(-Vn)]||0)).reduce((ir,Vn)=>ir+Vn,0),Sr=Array.from({length:30},(ir,Vn)=>Number(Ut[W(-Vn)]||0)).reduce((ir,Vn)=>ir+Vn,0),ar=Array.from({length:7},(ir,Vn)=>W(-Vn)).map(ir=>({day:new Date(ir).toLocaleDateString("en-US",{weekday:"short"}).slice(0,1),completed:Number(Ut[ir]||0)>0}));l(as),d(cn),f(Sr),je(ar.reverse())},Xt=await fetch(`${X}/study-time-range?start=${Ze}&end=${yt}`,{headers:{Authorization:`Bearer ${e}`}});if(Xt.ok){const Ut=await Xt.json(),as=(Ut==null?void 0:Ut.totals)||{},cn={};Object.entries(as).forEach(([Sr,or])=>{const ar=String(Sr).slice(0,10);cn[ar]=Number(or||0)}),ln(cn);return}if(Xt.status===404){const Ut=Array.from({length:ee},(Sr,or)=>{const ar=new Date(Ce);return ar.setDate(Ce.getDate()+or),K(ar)}),as=await Promise.all(Ut.map(Sr=>fetch(`${X}/study-time/${Sr}`,{headers:{Authorization:`Bearer ${e}`}}).then(or=>or.ok?or.json():{total:0}))),cn={};Ut.forEach((Sr,or)=>{var ar;cn[Sr]=Number(((ar=as[or])==null?void 0:ar.total)||0)}),ln(cn);return}throw new Error("Failed to fetch study-time range")}catch(C){console.error("Failed to fetch study summary:",C)}},Se=async()=>{try{const A=await(await fetch(`${X}/friends`,{headers:{Authorization:`Bearer ${e}`}})).json();O(A.friends||[])}catch(C){console.error("Failed to fetch friends:",C)}},$e=async()=>{try{const A=await(await fetch(`${X}/friends/requests`,{headers:{Authorization:`Bearer ${e}`}})).json(),ee=Array.isArray(A.requests)?A.requests:[];We(ee),kt(ee.length)}catch(C){console.error("Failed to fetch incoming friend requests:",C)}},Qe=async()=>{try{const A=await(await fetch(`${X}/friends/requests/sent`,{headers:{Authorization:`Bearer ${e}`}})).json(),ee=Array.isArray(A.requests)?A.requests:[];an(ee)}catch(C){console.error("Failed to fetch outgoing friend requests:",C)}},Nt=async(C,A)=>{try{Et(C);const ee=await fetch(`${X}/friends/requests/${C}/${A}`,{method:"POST",headers:{Authorization:`Bearer ${e}`}}),ie=await ee.json();if(!ee.ok||!ie.success){z.error(ie.error||`Failed to ${A} request`);return}A==="accept"?(z.success("Friend request accepted"),Se()):z.success("Friend request rejected"),$e()}catch(ee){console.error(`Failed to ${A} friend request:`,ee),z.error(`Failed to ${A} request`)}finally{Et(null)}},Pt=async()=>{try{const A=await(await fetch(`${X}/study-groups`)).json();pe(A.groups||[])}catch(C){console.error("Failed to fetch study groups:",C)}};u.useEffect(()=>{$e(),Qe();const C=setInterval($e,1e4),A=setInterval(Qe,1e4);return()=>{clearInterval(C),clearInterval(A)}},[e]);const br=async()=>{try{const A=await(await fetch(`${X}/settings`,{headers:{Authorization:`Bearer ${e}`}})).json();A.settings&&(q(Number(A.settings.dailyGoal||0)),Z(Number(A.settings.weeklyGoal||0)),F(Number(A.settings.monthlyGoal||0)))}catch(C){console.error("Failed to fetch goals:",C)}},Tt=u.useMemo(()=>{const C=new Date;return C.getDay()===0?0:C.getDay()},[]),rr=u.useMemo(()=>vt+(Tt>0?1:0),[vt,Tt]),ya=u.useMemo(()=>rr*Ke+(rr-1)*B,[rr,Ke,B]),ss=u.useMemo(()=>{const C=new Date;C.setHours(0,0,0,0);const A=C.getDay(),ee=new Date(C);ee.setDate(C.getDate()-A);const ie=new Date(ee);ie.setDate(ee.getDate()-(vt-1)*7);const Ce=new Date(ie);Ce.setDate(ie.getDate()-6);const Ze=vt*7+Tt;return Array.from({length:Ze},(yt,ln)=>{const Xt=new Date(Ce);return Xt.setDate(Ce.getDate()+ln),K(Xt)})},[vt,Tt,K]),wa=u.useMemo(()=>Array.from({length:rr},(C,A)=>{const ee=A*7,ie=ss[ee];if(!ie)return"";const Ze=new Date(`${ie}T00:00:00`).toLocaleDateString("en-US",{month:"short"});if(A===0)return Ze;const yt=ss[(A-1)*7];if(!yt)return Ze;const Xt=new Date(`${yt}T00:00:00`).toLocaleDateString("en-US",{month:"short"});return Ze!==Xt?Ze:""}),[ss,rr]),ja=C=>{const A=Math.round(C/60);if(A<=0)return"No study";const ee=Math.floor(A/60),ie=A%60;return ee<=0?`${A}m`:ie===0?`${ee}h`:`${ee}h ${ie}m`},ba=(C,A)=>{const ee=C.currentTarget.getBoundingClientRect();Re({date:A,x:ee.left+ee.width/2,y:ee.top-8})},bl=async()=>{if(!Fe.name.trim()){z.error("Please enter a task name");return}try{const A=await(await fetch(`${X}/todos`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({name:Fe.name,subject:Fe.subject,duration:Fe.durationMinutes*60,plannedDuration:Fe.durationMinutes*60,actualDuration:0,shared:Fe.shared})})).json();A.todo&&(a([...o,A.todo]),et({name:"",subject:"",durationMinutes:0,shared:!1}),w(!1),z.success(" Todo added!"))}catch(C){console.error("Failed to add todo:",C),z.error("Failed to add todo")}},Sa=async C=>{try{await fetch(`${X}/todos/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),a(o.filter(A=>A.id!==C)),z.success("Todo deleted")}catch(A){console.error("Failed to delete todo:",A)}},Na=async C=>{try{await fetch(`${X}/study/timer/start`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});const A={todoId:C,startTime:Date.now(),baseSeconds:0};localStorage.setItem(r,JSON.stringify(A)),k(C),E(0)}catch(A){console.error("Failed to start timer:",A),z.error("Failed to start timer")}},os=async C=>{if(S!==C.id)return;const A=localStorage.getItem(r),ee=A?JSON.parse(A):null,ie=ee&&ee.todoId===C.id?ee.baseSeconds+Math.floor((Date.now()-ee.startTime)/1e3):T;localStorage.removeItem(r),k(null),E(0);try{const Ze=await(await fetch(`${X}/study/timer/stop`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).json();if(Ze.newlyUnlocked&&Ze.newlyUnlocked.length>0)for(const yt of Ze.newlyUnlocked){const ln=yt==="bronze"?"":yt==="silver"?"":"";z.success(`${ln} Unlocked ${yt.toUpperCase()} medal!`)}await Promise.all([fetch(`${X}/study-time`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({duration:ie,date:W(0)})}),fetch(`${X}/todos/${C.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...C,duration:C.plannedDuration??C.duration??0,plannedDuration:C.plannedDuration??C.duration??0,actualDuration:(C.actualDuration||0)+ie})})]),l(yt=>yt+ie),_(),ge(),z.success(` Logged ${Math.floor(ie/60)} minutes!`)}catch(Ce){console.error("Failed to save study time:",Ce)}},Sl=C=>{const A=Math.floor(C/3600),ee=Math.floor(C%3600/60);return A>0?`${A}h ${ee}m`:`${ee}m`},yo=C=>C.plannedDuration??C.duration??0,Nl=C=>C.actualDuration??0,wo=C=>{const A=yo(C);return A<=0?0:Math.min(Nl(C)/A*100,100)},M=(C,A)=>!A||A<=0||!C||C<=0?0:Math.min(C/A*100,100),re=C=>{const A=Math.max(0,Math.floor(C)),ee=Math.floor(A/3600),ie=Math.floor(A%3600/60);return`${String(ee).padStart(2,"0")}:${String(ie).padStart(2,"0")}`},fe=C=>{const A=Math.max(0,Math.floor(C)),ee=Math.floor(A/3600),ie=Math.floor(A%3600/60);return`${ee}:${String(ie).padStart(2,"0")}h`},_e=C=>{const A=C.trim(),ee=/^(\d{1,3}):([0-5]\d)$/.exec(A);if(!ee)return null;const ie=Number(ee[1]),Ce=Number(ee[2]);return ie*3600+Ce*60},_t=C=>{se(C),P(re(C==="daily"?D:C==="weekly"?$:U)),G(!0)},Ge=async()=>{if(!L)return;const C=_e(b);if(C===null){z.error("Use time format like 08:30");return}const A={dailyGoal:L==="daily"?C:D,weeklyGoal:L==="weekly"?C:$,monthlyGoal:L==="monthly"?C:U};try{const ie=await(await fetch(`${X}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(A)})).json();ie.settings?(q(Number(ie.settings.dailyGoal||0)),Z(Number(ie.settings.weeklyGoal||0)),F(Number(ie.settings.monthlyGoal||0)),G(!1),se(null),z.success("Goal updated")):z.error("Failed to update goal")}catch(ee){console.error("Failed to save goal:",ee),z.error("Failed to update goal")}},Te=C=>C.split(" ").map(A=>A[0]).join(""),At=C=>{if(!C.lastActivityAt)return{label:"Inactive",isOnline:!1};const A=new Date(C.lastActivityAt).getTime();if(Number.isNaN(A))return{label:"Inactive",isOnline:!1};const ee=Math.floor((Date.now()-A)/1e3);if(ee<300)return{label:"Online",isOnline:!0};const ie=Math.floor(ee/60);if(ie<60)return{label:`${ie}m ago`,isOnline:!1};const Ce=Math.floor(ie/60);return Ce<24?{label:`${Ce}h ago`,isOnline:!1}:{label:`${Math.floor(Ce/24)}d ago`,isOnline:!1}},bt=u.useMemo(()=>{const C=ye?I:I.slice(0,4),A=Je.map(Ce=>Ce.recipient),ee=[...C,...A],ie=xe.trim().toLowerCase();return ie?ee.filter(Ce=>{const Ze=String(Ce.username||"").toLowerCase(),yt=String(Ce.email||"").toLowerCase();return Ze.includes(ie)||yt.includes(ie)}):ee},[I,Je,ye,xe]),sr=u.useMemo(()=>new Set(Je.map(C=>C.recipientId)),[Je]),Hn=C=>{h(C.id),R({name:C.name,subject:C.subject,durationMinutes:Math.floor((C.duration||0)/60),shared:!!C.shared}),x(!0)},Nn=async()=>{if(j){if(!N.name.trim()){z.error("Please enter a task name");return}try{const C=o.find(ie=>ie.id===j);if(!C)return;const ee=await(await fetch(`${X}/todos/${j}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...C,name:N.name,subject:N.subject,duration:N.durationMinutes*60,plannedDuration:N.durationMinutes*60,actualDuration:C.actualDuration||0,shared:N.shared})})).json();ee.todo&&(a(o.map(ie=>ie.id===j?ee.todo:ie)),x(!1),h(null),z.success("Todo updated"))}catch(C){console.error("Failed to update todo:",C),z.error("Failed to update todo")}}};return p?s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-8 min-h-[720px] flex items-center justify-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Loading dashboard..."})}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-stretch",children:[s.jsxs("div",{className:"xl:col-span-8 space-y-6",children:[s.jsxs("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{label:"Daily Goal",total:i,goal:D},{label:"Weekly Goal",total:c,goal:$},{label:"Monthly Goal",total:m,goal:U}].map(C=>{const A=Math.round(M(C.total,C.goal));return s.jsxs("button",{className:"bg-white/80 rounded-3xl shadow-[0_16px_40px_rgba(15,23,42,0.08)] p-5 text-left",onClick:()=>_t(C.label==="Daily Goal"?"daily":C.label==="Weekly Goal"?"weekly":"monthly"),type:"button",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C.label}),s.jsx("span",{className:"text-xs text-gray-400",children:fe(C.goal)})]}),s.jsxs("div",{className:"relative w-24 h-24 mx-auto mt-4",children:[s.jsxs("svg",{className:"transform -rotate-90 w-24 h-24",children:[s.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#e5e7eb",strokeWidth:"8",fill:"none"}),s.jsx("circle",{cx:"48",cy:"48",r:"36",stroke:"#22c55e",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*36}`,strokeDashoffset:`${2*Math.PI*36*(1-A/100)}`,strokeLinecap:"round"})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-xl font-semibold text-gray-900",children:[A,"%"]})})]})]},C.label)})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Today's Tasks"}),s.jsxs(An,{open:g,onOpenChange:w,children:[s.jsx(ef,{asChild:!0,children:s.jsx("button",{className:"text-sm text-gray-400 hover:text-gray-600",children:""})}),s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Add a task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"todo-name",children:"Task name"}),s.jsx(Ee,{id:"todo-name",value:Fe.name,onChange:C=>et(A=>({...A,name:C.target.value})),placeholder:"e.g. Math homework"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"todo-subject",children:"Subject"}),s.jsx(Ee,{id:"todo-subject",value:Fe.subject,onChange:C=>et(A=>({...A,subject:C.target.value})),placeholder:"e.g. Algebra"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"todo-duration",children:"Planned duration (minutes)"}),s.jsx(Ee,{id:"todo-duration",type:"number",min:0,value:Fe.durationMinutes,onChange:C=>et(A=>({...A,durationMinutes:Number(C.target.value||0)}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Share with friends"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible on your friend detail page"})]}),s.jsx(ju,{checked:!!Fe.shared,onCheckedChange:C=>et(A=>({...A,shared:C})),className:"data-[state=unchecked]:bg-gray-200 data-[state=checked]:bg-teal-600"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Q,{variant:"ghost",onClick:()=>w(!1),children:"Cancel"}),s.jsxs(Q,{onClick:bl,className:"gap-2",children:[s.jsx(ua,{className:"size-4"}),"Add task"]})]})]})]})]})]}),o.length===0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:s.jsxs("button",{className:"bg-white rounded-2xl p-4 shadow-sm border border-white/70 flex flex-col justify-between min-h-[160px] cursor-pointer hover:shadow-md transition",onClick:()=>w(!0),children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"size-10 rounded-full bg-gray-100"}),s.jsx("span",{className:"text-sm text-gray-300",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"+"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Add task"})]}),s.jsx("span",{className:"self-end px-2 py-1 rounded-full text-[10px] font-semibold bg-rose-100 text-rose-700",children:"0%"})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-4",children:o.slice(0,5).map(C=>{const A=yo(C),ee=wo(C),ie=ee>=100?"bg-emerald-100 text-emerald-700":ee>=50?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700",Ce=S===C.id,Ze=Ce?T:C.actualDuration||0,yt=(C.plannedDuration||0)*60,ln=yt>0?Math.min(Ze/yt*100,100):0,Xt=16,Ut=2*Math.PI*Xt,as=Ut-ln/100*Ut;return s.jsxs("div",{role:"button",tabIndex:0,onClick:()=>{Ce?os(C):Na(C.id)},onKeyDown:cn=>{(cn.key==="Enter"||cn.key===" ")&&(cn.preventDefault(),Ce?os(C):Na(C.id))},className:`bg-white rounded-2xl p-4 shadow-sm border border-white/70 flex flex-col justify-between min-h-[160px] cursor-pointer hover:shadow-md transition-all ${Ce?"ring-2 ring-emerald-300":""}`,children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"relative size-10",children:s.jsxs("svg",{className:"size-10 -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("circle",{cx:"18",cy:"18",r:Xt,fill:"none",className:"stroke-gray-200",strokeWidth:"3"}),s.jsx("circle",{cx:"18",cy:"18",r:Xt,fill:"none",className:`transition-all duration-300 ${ln>=100?"stroke-emerald-500":"stroke-teal-500"}`,strokeWidth:"3",strokeDasharray:Ut,strokeDashoffset:as,strokeLinecap:"round"})]})}),s.jsx("button",{className:"text-sm text-gray-400 hover:text-gray-600",onClick:cn=>{cn.stopPropagation(),Hn(C)},type:"button",children:""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C.name}),s.jsx("p",{className:"text-xs text-gray-400",children:A?Sl(A):"0:00"})]}),s.jsxs("span",{className:`self-end px-2 py-1 rounded-full text-[10px] font-semibold ${ie}`,children:[Math.round(ee),"%"]})]},C.id)})})]})]}),s.jsx("div",{className:"rounded-[36px] bg-white/55 shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-4",children:s.jsxs("div",{className:"rounded-[28px] bg-white/85 shadow-[0_16px_40px_rgba(15,23,42,0.06)] p-4 min-h-[244px]",children:[s.jsx("div",{className:"flex gap-2 mb-2",children:s.jsx("div",{className:"grid text-xs text-gray-400 px-1 shrink-0",style:{gridTemplateColumns:`repeat(${rr}, ${Ke}px)`,columnGap:`${B}px`,width:`${ya}px`},children:wa.map((C,A)=>s.jsx("span",{className:"text-center",children:C},`${C}-${A}`))})}),s.jsxs("div",{className:"relative",ref:Ne,children:[ue&&s.jsxs("div",{className:"fixed z-50 -translate-x-1/2 -translate-y-full rounded-md bg-gray-900 text-white text-[11px] px-2 py-1 shadow-lg pointer-events-none whitespace-nowrap",style:{left:`${ue.x}px`,top:`${ue.y}px`},children:[s.jsx("div",{className:"font-medium",children:ja(ce(ue.date))}),s.jsx("div",{className:"text-gray-300",children:new Date(`${ue.date}T00:00:00`).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"flex flex-col text-xs text-gray-400 shrink-0",style:{gap:`${B}px`,paddingTop:`${B/2}px`},children:["M","","W","","F","",""].map((C,A)=>s.jsx("div",{className:"flex items-center",style:{height:`${Ke}px`},children:C},A))}),s.jsx("div",{className:"grid shrink-0",style:{gridAutoFlow:"column",gridAutoColumns:`${Ke}px`,gridTemplateRows:`repeat(7, ${Ke}px)`,columnGap:`${B}px`,rowGap:`${B}px`,width:`${ya}px`},children:ss.map((C,A)=>{const ee=ce(C),ie=ee/60;let Ce="bg-gray-200";return ie>=61?Ce="bg-[#22c55e]":ie>=31?Ce="bg-[#86efac]":ie>=5&&(Ce="bg-[#d1fae5]"),s.jsx("div",{className:Ce,style:{width:`${Ke}px`,height:`${Ke}px`,borderRadius:"2px"},onMouseEnter:Ze=>ba(Ze,C),onMouseLeave:()=>Re(null),title:`${ja(ee)} on ${new Date(`${C}T00:00:00`).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`},C)})})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3 text-xs text-gray-400",children:[s.jsx("span",{children:"Learn how we count contributions"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{children:"Less"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"size-3 rounded-[3px] bg-gray-200"}),s.jsx("span",{className:"size-3 rounded-[3px] bg-[#d1fae5]"}),s.jsx("span",{className:"size-3 rounded-[3px] bg-[#86efac]"}),s.jsx("span",{className:"size-3 rounded-[3px] bg-[#22c55e]"})]}),s.jsx("span",{children:"More"})]})]})]})}),s.jsx(An,{open:H,onOpenChange:C=>{G(C),C||se(null)},children:s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsxs(In,{children:[L==="daily"?"Daily Goal":L==="weekly"?"Weekly Goal":"Monthly Goal"," Settings"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"goal-time",children:"Goal time (HH:MM)"}),s.jsx(Ee,{id:"goal-time",inputMode:"numeric",placeholder:"08:30",value:b,onChange:C=>P(C.target.value)})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Q,{variant:"ghost",onClick:()=>{G(!1),se(null)},children:"Cancel"}),s.jsx(Q,{onClick:Ge,children:"Save"})]})]})]})}),s.jsx(An,{open:y,onOpenChange:C=>{x(C),C||h(null)},children:s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Edit task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"edit-todo-name",children:"Task name"}),s.jsx(Ee,{id:"edit-todo-name",value:N.name,onChange:C=>R(A=>({...A,name:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"edit-todo-subject",children:"Subject"}),s.jsx(Ee,{id:"edit-todo-subject",value:N.subject,onChange:C=>R(A=>({...A,subject:C.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"edit-todo-duration",children:"Planned duration (minutes)"}),s.jsx(Ee,{id:"edit-todo-duration",type:"number",min:0,value:N.durationMinutes,onChange:C=>R(A=>({...A,durationMinutes:Number(C.target.value||0)}))})]}),s.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-100 p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Share with friends"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible on your friend detail page"})]}),s.jsx(ju,{checked:!!N.shared,onCheckedChange:C=>R(A=>({...A,shared:C})),className:"data-[state=unchecked]:bg-gray-200 data-[state=checked]:bg-teal-600"})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs(Q,{variant:"destructive",className:"gap-2",onClick:()=>{j&&(Sa(j),x(!1),h(null))},children:[s.jsx(ul,{className:"size-4"}),"Delete"]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Q,{variant:"ghost",onClick:()=>{x(!1),h(null)},children:"Cancel"}),s.jsxs(Q,{onClick:Nn,className:"gap-2",children:[s.jsx(Md,{className:"size-4"}),"Save changes"]})]})]})]})]})}),s.jsx(An,{open:ke,onOpenChange:C=>{Be(C),C||ot("")},children:s.jsxs(Mn,{onClick:C=>C.stopPropagation(),children:[s.jsx(zn,{children:s.jsx(In,{children:"Send Friend Request"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"friend-username",children:"Friend Username"}),s.jsx(Ee,{id:"friend-username",placeholder:"johndoe",value:Ue,onChange:C=>ot(C.target.value)})]}),s.jsx(Q,{className:"w-full",disabled:qe,onClick:Y,children:qe?"Sending...":"Send Request"})]})]})})]}),s.jsx("div",{className:"xl:col-span-4 h-full",children:s.jsxs("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-3 h-full flex flex-col overflow-hidden gap-3",children:[s.jsx("div",{className:`overflow-hidden transition-all duration-1000 ease-in-out ${me?"max-h-0 opacity-0 -translate-y-8 pointer-events-none":"max-h-[280px] opacity-100 translate-y-0"}`,children:s.jsxs("div",{className:"bg-white/90 rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-5",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Nearby Study Rooms"}),oe.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No study rooms nearby yet."}):s.jsx("div",{className:"space-y-3",children:oe.slice(0,3).map(C=>s.jsxs("button",{className:"w-full flex items-center gap-3 px-3 py-2 bg-gray-100/70 rounded-full hover:bg-gray-100 transition-colors text-left",children:[s.jsx("div",{className:"size-9 bg-white rounded-full flex items-center justify-center text-base shadow-sm ring-4 ring-white/80",children:C.icon||""}),s.jsx("span",{className:"text-xs font-medium text-gray-900",children:C.topic})]},C.id))})]})}),s.jsxs("div",{className:`bg-white/90 rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-5 cursor-pointer self-center overflow-hidden transition-all duration-500 ease-in-out ${me?"h-[calc(100%-0.75rem)] w-[97%]":"h-[320px] w-full"}`,onClick:de,children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Friends"}),He>0?s.jsx("button",{type:"button",className:"inline-flex min-w-[20px] h-5 px-1.5 items-center justify-center rounded-full bg-rose-500 text-white text-[11px] font-semibold hover:bg-rose-600",onClick:C=>{C.stopPropagation(),Bt(!0),Pe(!0),ae(!0)},title:"View friend requests",children:He>99?"99+":He}):null]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-medium",children:[s.jsx("span",{children:jt?"Requests":me?"Collapse":"Expand"}),s.jsx(Rd,{className:`size-4 transition-transform duration-300 ${me?"rotate-180":""}`})]})]}),me&&!jt?s.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-full border border-gray-300 bg-white px-3 py-2",onClick:C=>C.stopPropagation(),children:[s.jsx(Zj,{className:"size-4 text-gray-500"}),s.jsx(Ee,{value:xe,onChange:C=>be(C.target.value),placeholder:"Search friend...",className:"h-6 border-0 bg-transparent p-0 text-xs shadow-none focus-visible:ring-0"})]}):null,jt?s.jsxs("div",{className:"space-y-3",onClick:C=>C.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Friend Requests"}),s.jsx("button",{type:"button",className:"text-xs text-gray-500 hover:text-gray-700",onClick:C=>{C.stopPropagation(),Bt(!1)},children:"Back to Friends"})]}),It.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No pending requests."}):s.jsx("div",{className:"space-y-3",children:It.map(C=>{const A=C.requester,ee=pt===C.requesterId;return s.jsx("div",{className:"rounded-xl border border-gray-100 bg-white/80 p-3",children:s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsxs(Hi,{className:"size-10",children:[A.profileImageUrl?s.jsx(Vi,{src:A.profileImageUrl,alt:A.username||"User"}):null,s.jsx(Gi,{className:"bg-gray-100 text-gray-600 text-xs font-semibold",children:Te(A.username||A.email||"U")})]}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:A.username||"Unknown"}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:A.email||""})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx(Q,{size:"icon",className:"size-8 rounded-full",disabled:ee,onClick:ie=>{ie.stopPropagation(),Nt(C.requesterId,"accept")},children:s.jsx(cl,{className:"size-4"})}),s.jsx(Q,{size:"icon",variant:"outline",className:"size-8 rounded-full",disabled:ee,onClick:ie=>{ie.stopPropagation(),Nt(C.requesterId,"reject")},children:s.jsx(dl,{className:"size-4"})})]})]})},C.requesterId)})})]}):I.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No friends yet."}):s.jsxs("div",{className:`space-y-4 transition-[max-height] duration-300 ease-out ${me?"max-h-[900px]":"max-h-[260px]"}`,children:[bt.map(C=>{const A=sr.has(C.id),ee=At(C);return s.jsxs("div",{className:"flex items-center justify-between cursor-pointer rounded-xl px-1 py-1 hover:bg-gray-50",onClick:ie=>{ie.stopPropagation(),!A&&n(C)},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Hi,{className:"size-9",children:[C.profileImageUrl?s.jsx(Vi,{src:C.profileImageUrl,alt:C.username||"Friend"}):null,s.jsx(Gi,{className:"bg-gray-100 text-gray-600 text-xs font-semibold",children:Te(C.username||C.email||"F")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.username||"Unknown"}),A?s.jsx("p",{className:"text-xs text-amber-500",children:"Pending"}):s.jsx("p",{className:`text-xs ${ee.isOnline?"text-emerald-500":"text-gray-400"}`,children:ee.isOnline?"Online":"Offline"})]})]}),A?s.jsx("span",{className:"px-3 py-1 rounded-full text-[10px] font-semibold bg-amber-100 text-amber-700",children:"PENDING"}):s.jsx("button",{className:"px-3 py-1 rounded-full text-[10px] font-semibold bg-rose-100 text-rose-600",onClick:ie=>{ie.stopPropagation(),t(C)},children:"CHAT"})]},C.id)}),bt.length===0?s.jsx("p",{className:"text-xs text-gray-400",children:"No friends found."}):null]}),me&&!jt?s.jsx("div",{className:"mt-4 border-t border-gray-100 pt-4",onClick:C=>C.stopPropagation(),children:s.jsxs(Q,{variant:"outline",className:"w-full rounded-xl border-gray-300",onClick:C=>{C.stopPropagation(),Be(!0)},children:[s.jsx(Yg,{className:"size-4 mr-2"}),"Add Friend"]})}):null]}),s.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${me?"max-h-0 opacity-0 translate-y-8 pointer-events-none":"max-h-[220px] opacity-100 translate-y-0"}`,children:s.jsxs("div",{className:"bg-white/90 rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.08)] p-4",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4",children:"Study Streak"}),s.jsx("div",{className:"flex items-center justify-between",children:we.map((C,A)=>s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-[10px] text-gray-500 font-medium",children:C.day}),s.jsx("div",{className:`size-6 rounded-full flex items-center justify-center ${C.completed?"bg-emerald-200 text-emerald-700":"bg-gray-100"}`,children:C.completed&&s.jsx(Ad,{className:"size-3"})})]},A))})]})})]})})]})})}const bC=Rg("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Do({className:e,variant:t,asChild:n=!1,...r}){const o=n?Kr:"span";return s.jsx(o,{"data-slot":"badge",className:De(bC({variant:t}),e),...r})}const _s={location:"",date:"",time:"",topic:"",maxParticipants:10,studyType:"In-person",duration:"2 hours"};function SC({accessToken:e,userId:t,currentUserUsername:n,roomUserIsIn:r,onJoinRoom:o,onJoinMeeting:a}){const[i,l]=u.useState([]),[c,d]=u.useState(!1),[m,f]=u.useState("choice"),[g,w]=u.useState(null),[y,x]=u.useState(_s),[j,h]=u.useState(new Set),[p,v]=u.useState(_s),[S,k]=u.useState(!1),T=b=>{const P=String(b||"").toLowerCase();return P.includes("30")?30:P.includes("90")?90:P.includes("1 hour")?60:P.includes("2 hours")?120:P.includes("3 hours")?180:P.includes("4")?240:60};u.useEffect(()=>{E();const b=setInterval(()=>{E()},5e3);return()=>clearInterval(b)},[]);const E=async()=>{try{const P=await(await fetch(`${X}/study-groups`)).json(),I=[{id:"sample-1",hostId:"other-user-1",hostUsername:"Olivia",location:"Main Library, 3rd Floor",date:"2026-02-15",time:"14:00",topic:"Calculus Final Exam Prep",maxParticipants:8,participants:["other-user-1","user-2","user-3"],applicants:["user-4"],studyType:"In-person",duration:"3 hours"},{id:"sample-2",hostId:"other-user-2",hostUsername:"Alex",location:"Online (Zoom)",date:"2026-02-12",time:"18:30",topic:"Computer Science Data Structures",maxParticipants:10,participants:["other-user-2","user-5"],applicants:[],studyType:"Online",duration:"2 hours"}],O=P.groups||[],oe=[...I,...O];l(oe)}catch(b){console.error("Failed to fetch study groups:",b)}},D=async()=>{var b,P;k(!0);try{const I=await fetch(`${X}/api/meetings/create-zoom`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({topic:p.topic.trim()||"Study Meeting",durationMinutes:T(p.duration)})}),O=await I.json();if(!I.ok)throw new Error(O.error||"Failed to create Zoom meeting");const oe=((b=O.meeting)==null?void 0:b.meetingId)??O.meetingId,pe=((P=O.meeting)==null?void 0:P.topic)??(p.topic.trim()||"Zoom Study Room"),we=await fetch(`${X}/study-groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...p,topic:pe,studyType:"Online",meetingId:oe,location:"Online (Zoom)"})}),je=await we.json();if(!we.ok)throw new Error(je.error||"Failed to create room");je.group&&(l([...i,{...je.group,hostUsername:n??je.group.hostUsername}]),f("choice"),d(!1),v(_s),z.success("Zoom room created. Opening Zoom"),o(je.group.id),a==null||a(oe))}catch(I){z.error(I instanceof Error?I.message:"Failed to create Zoom room")}finally{k(!1)}},q=async()=>{try{const P=await(await fetch(`${X}/study-groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(p)})).json();P.group&&(l([...i,{...P.group,hostUsername:n??P.group.hostUsername}]),v(_s),f("choice"),d(!1),z.success(" Study group created!"))}catch(b){console.error("Failed to create group:",b),z.error("Failed to create study group")}},$=b=>{w(b),x({location:b.location??"",date:b.date??"",time:b.time??"",topic:b.topic??"",maxParticipants:b.maxParticipants??10,studyType:b.studyType??"In-person",duration:b.duration??"2 hours"})},Z=async()=>{if(g)try{const P=await(await fetch(`${X}/study-groups/${g.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({location:y.location,date:y.date,time:y.time,topic:y.topic,maxParticipants:y.maxParticipants,studyType:y.studyType,duration:y.duration})})).json();P.group?(l(i.map(I=>I.id===g.id?{...P.group,hostUsername:P.group.hostUsername??I.hostUsername??n}:I)),w(null),z.success("Room updated!")):z.error(P.error||"Failed to update")}catch(b){console.error("Failed to update group:",b),z.error("Failed to update room")}},U=async b=>{try{const I=await(await fetch(`${X}/study-groups/${b}/apply`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}})).json();I.success?(E(),z.success(" Application submitted!")):z.error(I.error||"Failed to apply")}catch(P){console.error("Failed to apply:",P),z.error("Failed to apply to group")}},F=async(b,P,I)=>{try{(await(await fetch(`${X}/study-groups/${b}/manage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({applicantId:P,action:I})})).json()).success&&(E(),z.success(I==="accept"?" Applicant accepted":" Applicant rejected"))}catch(O){console.error("Failed to manage applicant:",O)}},H=async b=>{if(confirm("Delete this study room? This cannot be undone."))try{const I=await(await fetch(`${X}/study-groups/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}})).json();I.success?(l(i.filter(O=>O.id!==b)),z.success("Room deleted")):z.error(I.error||"Failed to delete")}catch(P){console.error("Failed to delete group:",P),z.error("Failed to delete room")}},G=b=>{h(P=>{const I=new Set(P);return I.has(b)?I.delete(b):I.add(b),I})},L=[...i].sort((b,P)=>{const I=new Date(`${b.date} ${b.time}`),O=new Date(`${P.date} ${P.time}`);return I.getTime()-O.getTime()}),se=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric"});return s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-end items-center",children:[s.jsxs(An,{open:c,onOpenChange:b=>{d(b),b||f("choice")},children:[s.jsx(ef,{asChild:!0,children:s.jsxs(Q,{children:[s.jsx(ua,{className:"size-4 mr-2"}),"Create Room"]})}),s.jsxs(Mn,{className:"bg-gradient-to-br from-white to-purple-50",children:[s.jsx(zn,{children:s.jsxs(In,{className:"text-2xl",children:[m==="choice"&&"Create Study Room ",m==="in-person"&&"In-person meeting",m==="online"&&"Online meeting (Zoom)"]})}),s.jsxs("div",{className:"space-y-4",children:[m==="choice"&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Choose how you want to meet."}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[s.jsxs(Q,{type:"button",variant:"outline",className:"h-auto py-6 flex flex-col gap-2 border-2 border-purple-200 hover:bg-purple-50 hover:border-purple-400",onClick:()=>{f("in-person"),v(_s)},children:[s.jsx(kp,{className:"size-8 text-purple-500"}),s.jsx("span",{className:"font-semibold",children:"In-person meeting"}),s.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Create a room with location & time"})]}),s.jsxs(Q,{type:"button",variant:"outline",className:"h-auto py-6 flex flex-col gap-2 border-2 border-blue-200 hover:bg-blue-50 hover:border-blue-400",onClick:()=>{f("online"),v({..._s,studyType:"Online",location:"Online (Zoom)"})},children:[s.jsx(Vj,{className:"size-8 text-blue-500"}),s.jsx("span",{className:"font-semibold",children:"Online meeting (Zoom)"}),s.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"Create a Zoom room (appears in list)"})]})]}),s.jsx(Q,{variant:"ghost",className:"w-full",onClick:()=>d(!1),children:"Cancel"})]}),m==="in-person"&&s.jsxs(s.Fragment,{children:[s.jsx(Q,{variant:"ghost",size:"sm",className:"mb-2 -ml-2",onClick:()=>f("choice"),children:" Back"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Topic / Subject"}),s.jsx(Ee,{placeholder:"Calculus Study Session ",value:p.topic,onChange:b=>v({...p,topic:b.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Location"}),s.jsx(Ee,{placeholder:"Main Library, 3rd Floor ",value:p.location,onChange:b=>v({...p,location:b.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Date"}),s.jsx(Ee,{type:"date",value:p.date,onChange:b=>v({...p,date:b.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Time"}),s.jsx(Ee,{type:"time",value:p.time,onChange:b=>v({...p,time:b.target.value}),className:"border-purple-200"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Study Type"}),s.jsxs(Rr,{value:p.studyType,onValueChange:b=>v({...p,studyType:b}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(tt,{value:"In-person",children:"In-person"}),s.jsx(tt,{value:"Online",children:"Online"}),s.jsx(tt,{value:"Hybrid",children:"Hybrid"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Duration"}),s.jsxs(Rr,{value:p.duration,onValueChange:b=>v({...p,duration:b}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(tt,{value:"1 hour",children:"1 hour"}),s.jsx(tt,{value:"2 hours",children:"2 hours"}),s.jsx(tt,{value:"3 hours",children:"3 hours"}),s.jsx(tt,{value:"4+ hours",children:"4+ hours"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Max Participants"}),s.jsx(Ee,{type:"number",min:"2",max:"50",value:p.maxParticipants,onChange:b=>v({...p,maxParticipants:parseInt(b.target.value)||10}),className:"border-purple-200"})]}),s.jsx(Q,{onClick:q,className:"w-full",children:"Create Study Group"})]}),m==="online"&&s.jsxs(s.Fragment,{children:[s.jsx(Q,{variant:"ghost",size:"sm",className:"mb-2 -ml-2",onClick:()=>f("choice"),children:" Back"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Create a normal room first (same as in-person), then open Zoom as a floating window inside the app."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Topic / Subject"}),s.jsx(Ee,{placeholder:"Calculus Study Session ",value:p.topic,onChange:b=>v({...p,topic:b.target.value}),className:"border-blue-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Date"}),s.jsx(Ee,{type:"date",value:p.date,onChange:b=>v({...p,date:b.target.value}),className:"border-blue-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Time"}),s.jsx(Ee,{type:"time",value:p.time,onChange:b=>v({...p,time:b.target.value}),className:"border-blue-200"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Duration"}),s.jsxs(Rr,{value:p.duration,onValueChange:b=>v({...p,duration:b}),children:[s.jsx(Mr,{className:"border-blue-200",children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(tt,{value:"1 hour",children:"1 hour"}),s.jsx(tt,{value:"2 hours",children:"2 hours"}),s.jsx(tt,{value:"3 hours",children:"3 hours"}),s.jsx(tt,{value:"4+ hours",children:"4+ hours"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Max Participants"}),s.jsx(Ee,{type:"number",min:"2",max:"50",value:p.maxParticipants,onChange:b=>v({...p,maxParticipants:parseInt(b.target.value)||10}),className:"border-blue-200"})]})]}),s.jsx(Q,{onClick:D,disabled:S,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:S?"Creating Zoom meeting":"Create Zoom room"})]})]})]})]}),s.jsx(An,{open:!!g,onOpenChange:b=>!b&&w(null),children:s.jsxs(Mn,{className:"bg-gradient-to-br from-white to-purple-50",children:[s.jsx(zn,{children:s.jsx(In,{className:"text-2xl",children:"Edit Room"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Topic / Subject"}),s.jsx(Ee,{placeholder:"Calculus Study Session",value:y.topic,onChange:b=>x({...y,topic:b.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Location"}),s.jsx(Ee,{placeholder:"Main Library, 3rd Floor",value:y.location,onChange:b=>x({...y,location:b.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Date"}),s.jsx(Ee,{type:"date",value:y.date,onChange:b=>x({...y,date:b.target.value}),className:"border-purple-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Time"}),s.jsx(Ee,{type:"time",value:y.time,onChange:b=>x({...y,time:b.target.value}),className:"border-purple-200"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Study Type"}),s.jsxs(Rr,{value:y.studyType,onValueChange:b=>x({...y,studyType:b}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(tt,{value:"In-person",children:"In-person"}),s.jsx(tt,{value:"Online",children:"Online"}),s.jsx(tt,{value:"Hybrid",children:"Hybrid"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Duration"}),s.jsxs(Rr,{value:y.duration,onValueChange:b=>x({...y,duration:b}),children:[s.jsx(Mr,{children:s.jsx(Ar,{})}),s.jsxs(zr,{children:[s.jsx(tt,{value:"1 hour",children:"1 hour"}),s.jsx(tt,{value:"2 hours",children:"2 hours"}),s.jsx(tt,{value:"3 hours",children:"3 hours"}),s.jsx(tt,{value:"4+ hours",children:"4+ hours"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Max Participants"}),s.jsx(Ee,{type:"number",min:"2",max:"50",value:y.maxParticipants,onChange:b=>x({...y,maxParticipants:parseInt(b.target.value)||10}),className:"border-purple-200"})]}),s.jsx(Q,{onClick:Z,className:"w-full",children:"Save changes"})]})]})})]}),s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:L.length===0?s.jsxs(Xe,{className:"col-span-full p-12 text-center bg-gradient-to-br from-gray-50 to-blue-50 border-dashed border-2",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"No study groups yet. Create the first one!"})]}):L.map((b,P)=>{var we,je,me,ae,ye,Pe,xe;const I=b.hostId===t,O=(b.participants??[]).includes(t),oe=(b.applicants??[]).includes(t),pe=(((we=b.participants)==null?void 0:we.length)??0)>=(b.maxParticipants??10);return new Date>=new Date(`${b.date??""}T${b.time||"00:00"}`),s.jsx(Xe,{className:"overflow-hidden rounded-2xl border border-white/70 bg-white/80 backdrop-blur shadow-[0_16px_40px_rgba(15,23,42,0.10)] transition-all hover:-translate-y-0.5 hover:shadow-[0_24px_70px_rgba(15,23,42,0.14)]",children:s.jsxs(nt,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 pr-2",children:[s.jsx("h3",{className:"font-bold text-xl text-gray-900",children:b.topic}),s.jsxs("p",{className:"text-xs text-gray-600 mt-0.5",children:["Host: ",b.hostUsername??((je=b.hostId)==null?void 0:je.slice(0,8))??""]}),I&&s.jsx(Do,{className:"mt-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0",children:"Your Room"}),r===b.id&&!I&&s.jsx(Do,{className:"mt-1 bg-black text-white border-0",children:"You're in this room"})]}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 rounded-full hover:bg-gray-100/70",onClick:()=>G(b.id),children:s.jsx(Mj,{className:`size-5 ${j.has(b.id)?"fill-pink-500 text-pink-500":"text-gray-400"}`})})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx(kp,{className:"size-4 flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:b.location})]}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-700",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gg,{className:"size-4 flex-shrink-0"}),s.jsxs("span",{children:[se(b.date??""),"  ",(((me=b.applicants)==null?void 0:me.length)??0)+(((ae=b.participants)==null?void 0:ae.length)??0)," applicants"]})]})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(Do,{variant:"secondary",className:"bg-gray-100/80 text-gray-700 font-medium",children:b.studyType||"In-person"}),s.jsx(Do,{variant:"secondary",className:"bg-gray-100/80 text-gray-700 font-medium",children:b.duration||"2 hours"}),s.jsxs(Do,{variant:"secondary",className:"bg-gray-100/80 text-gray-700 font-medium",children:[((ye=b.participants)==null?void 0:ye.length)??0,"/",b.maxParticipants??10," seats"]})]}),I&&(((Pe=b.applicants)==null?void 0:Pe.length)??0)>0&&s.jsxs("div",{className:"pt-3 border-t border-gray-200/60 space-y-2",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Pending Requests (",((xe=b.applicants)==null?void 0:xe.length)??0,")"]}),(b.applicants??[]).slice(0,2).map(be=>{var Be;const ke=(Be=b.applicantsWithNames)==null?void 0:Be.find(Ue=>Ue.id===be);return s.jsxs("div",{className:"flex items-center justify-between bg-white/60 rounded-lg p-2",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:(ke==null?void 0:ke.username)||`User ${be.slice(0,8)}...`}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(Q,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-green-100",onClick:()=>F(b.id,be,"accept"),children:s.jsx(Ad,{className:"size-4 text-green-600"})}),s.jsx(Q,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0 hover:bg-red-100",onClick:()=>F(b.id,be,"reject"),children:s.jsx(Vg,{className:"size-4 text-red-600"})})]})]},be)})]}),b.meetingId&&(I||O)?s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(Q,{className:"w-full font-semibold",onClick:()=>o(b.id),children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Enter room"]}),s.jsxs(Q,{variant:"outline",className:"w-full font-semibold border-gray-200 bg-white/70 hover:bg-gray-50",onClick:()=>b.meetingId&&(a==null?void 0:a(b.meetingId)),children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Open Zoom"]})]}):!b.meetingId&&(I||O)?s.jsxs(Q,{className:"w-full font-semibold",onClick:()=>o(b.id),children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Enter room"]}):null,!I&&!O&&s.jsx(Q,{className:"w-full font-semibold",disabled:oe||pe,onClick:()=>U(b.id),children:oe?" Pending":pe?" Full":"Apply Now"}),I&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1 border-gray-200 bg-white/60 hover:bg-gray-50 text-gray-700",onClick:()=>$(b),children:[s.jsx(Md,{className:"size-4 mr-2"}),"Edit"]}),s.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",onClick:()=>H(b.id),children:[s.jsx(ul,{className:"size-4 mr-2"}),"Delete"]})]})]})},b.id)})})]})})}var lc="rovingFocusGroup.onEntryFocus",NC={bubbles:!1,cancelable:!0},wl="RovingFocusGroup",[bu,$v,CC]=Zg(wl),[kC,Lv]=tr(wl,[CC]),[EC,PC]=kC(wl),Bv=u.forwardRef((e,t)=>s.jsx(bu.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(bu.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(TC,{...e,ref:t})})}));Bv.displayName=wl;var TC=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:m=!1,...f}=e,g=u.useRef(null),w=st(t,g),y=zd(a),[x=null,j]=ws({prop:i,defaultProp:l,onChange:c}),[h,p]=u.useState(!1),v=Ln(d),S=$v(n),k=u.useRef(!1),[T,E]=u.useState(0);return u.useEffect(()=>{const D=g.current;if(D)return D.addEventListener(lc,v),()=>D.removeEventListener(lc,v)},[v]),s.jsx(EC,{scope:n,orientation:r,dir:y,loop:o,currentTabStopId:x,onItemFocus:u.useCallback(D=>j(D),[j]),onItemShiftTab:u.useCallback(()=>p(!0),[]),onFocusableItemAdd:u.useCallback(()=>E(D=>D+1),[]),onFocusableItemRemove:u.useCallback(()=>E(D=>D-1),[]),children:s.jsx(ze.div,{tabIndex:h||T===0?-1:0,"data-orientation":r,...f,ref:w,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{k.current=!0}),onFocus:Ie(e.onFocus,D=>{const q=!k.current;if(D.target===D.currentTarget&&q&&!h){const $=new CustomEvent(lc,NC);if(D.currentTarget.dispatchEvent($),!$.defaultPrevented){const Z=S().filter(L=>L.focusable),U=Z.find(L=>L.active),F=Z.find(L=>L.id===x),G=[U,F,...Z].filter(Boolean).map(L=>L.ref.current);Hv(G,m)}}k.current=!1}),onBlur:Ie(e.onBlur,()=>p(!1))})})}),Uv="RovingFocusGroupItem",Wv=u.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:a,...i}=e,l=qr(),c=a||l,d=PC(Uv,n),m=d.currentTabStopId===c,f=$v(n),{onFocusableItemAdd:g,onFocusableItemRemove:w}=d;return u.useEffect(()=>{if(r)return g(),()=>w()},[r,g,w]),s.jsx(bu.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:s.jsx(ze.span,{tabIndex:m?0:-1,"data-orientation":d.orientation,...i,ref:t,onMouseDown:Ie(e.onMouseDown,y=>{r?d.onItemFocus(c):y.preventDefault()}),onFocus:Ie(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:Ie(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=RC(y,d.orientation,d.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let h=f().filter(p=>p.focusable).map(p=>p.ref.current);if(x==="last")h.reverse();else if(x==="prev"||x==="next"){x==="prev"&&h.reverse();const p=h.indexOf(y.currentTarget);h=d.loop?AC(h,p+1):h.slice(p+1)}setTimeout(()=>Hv(h))}})})})});Wv.displayName=Uv;var _C={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DC(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RC(e,t,n){const r=DC(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _C[r]}function Hv(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function AC(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MC=Bv,zC=Wv,rf="Tabs",[IC]=tr(rf,[Lv]),Vv=Lv(),[OC,sf]=IC(rf),Gv=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:o,defaultValue:a,orientation:i="horizontal",dir:l,activationMode:c="automatic",...d}=e,m=zd(l),[f,g]=ws({prop:r,onChange:o,defaultProp:a});return s.jsx(OC,{scope:n,baseId:qr(),value:f,onValueChange:g,orientation:i,dir:m,activationMode:c,children:s.jsx(ze.div,{dir:m,"data-orientation":i,...d,ref:t})})});Gv.displayName=rf;var qv="TabsList",FC=u.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...o}=e,a=sf(qv,n),i=Vv(n);return s.jsx(MC,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(ze.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});FC.displayName=qv;var Qv="TabsTrigger",$C=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:o=!1,...a}=e,i=sf(Qv,n),l=Vv(n),c=Zv(i.baseId,r),d=Xv(i.baseId,r),m=r===i.value;return s.jsx(zC,{asChild:!0,...l,focusable:!o,active:m,children:s.jsx(ze.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":d,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:t,onMouseDown:Ie(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Ie(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Ie(e.onFocus,()=>{const f=i.activationMode!=="manual";!m&&!o&&f&&i.onValueChange(r)})})})});$C.displayName=Qv;var Yv="TabsContent",Kv=u.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:o,children:a,...i}=e,l=sf(Yv,n),c=Zv(l.baseId,r),d=Xv(l.baseId,r),m=r===l.value,f=u.useRef(m);return u.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(ho,{present:o||m,children:({present:g})=>s.jsx(ze.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&a})})});Kv.displayName=Yv;function Zv(e,t){return`${e}-trigger-${t}`}function Xv(e,t){return`${e}-content-${t}`}var LC=Gv,BC=Kv;function UC({className:e,...t}){return s.jsx(LC,{"data-slot":"tabs",className:De("flex flex-col gap-2",e),...t})}function Jp({className:e,...t}){return s.jsx(BC,{"data-slot":"tabs-content",className:De("flex-1 outline-none",e),...t})}function WC({className:e,...t}){return s.jsx("textarea",{"data-slot":"textarea",className:De("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function HC({initialSessionId:e,onSessionsChange:t}){const[n,r]=u.useState("student"),[o,a]=u.useState("teaching"),[i,l]=u.useState([]),[c,d]=u.useState([]),[m,f]=u.useState(""),[g,w]=u.useState(null),[y,x]=u.useState([]),[j,h]=u.useState([]),[p,v]=u.useState(!1),[S,k]=u.useState(!1),[T,E]=u.useState(!1),[D,q]=u.useState(!1),[$,Z]=u.useState(!1),[U,F]=u.useState(null),[H,G]=u.useState(0),[L,se]=u.useState(null),[b,P]=u.useState({}),[I,O]=u.useState(!1),[oe,pe]=u.useState(!1),[we,je]=u.useState(!1),[me,ae]=u.useState(!1),[ye,Pe]=u.useState(10),[xe,be]=u.useState("medium"),ke=n==="student"?i:c,Be=n==="student"?l:d,Ue=u.useRef(null),ot=u.useRef([]),qe=u.useRef(null);u.useEffect(()=>{(async()=>{try{const V=localStorage.getItem("accessToken");if(!V)return;if(e!=null){await He(e);return}if(e===null){w(null),h([]),l([]),d([]),F(null),G(0),P({}),pe(!1),je(!1);return}const te=await fetch(`${X}/ai/sessions/active/current`,{headers:{Authorization:`Bearer ${V}`}});if(te.ok){const ue=await te.json();if(ue.session){if(w(ue.session),h(ue.session.files||[]),ue.session.studentChatHistory){const Re=ue.session.studentChatHistory.map(Ne=>({role:Ne.role==="assistant"?"ai":Ne.role,content:Ne.content}));l(Re)}if(ue.session.teachChatHistory){const Re=ue.session.teachChatHistory.map(Ne=>({role:Ne.role==="assistant"?"ai":Ne.role,content:Ne.content}));d(Re)}}}await Oe()}catch(V){console.error("Failed to initialize session:",V)}})()},[e]);const Oe=async()=>{try{const B=localStorage.getItem("accessToken");if(!B)return;const V=await fetch(`${X}/ai/sessions`,{headers:{Authorization:`Bearer ${B}`}});if(V.ok){const te=await V.json();x(te.sessions||[]),t==null||t()}}catch(B){console.error("Failed to load sessions:",B)}},It=async()=>{try{const B=localStorage.getItem("accessToken");if(!B)return z.error("Please login first"),null;const V=await fetch(`${X}/ai/sessions`,{method:"POST",headers:{Authorization:`Bearer ${B}`}});if(V.ok){const te=await V.json();return w(te.session),h([]),l([]),d([]),F(null),G(0),P({}),pe(!1),je(!1),z.success("New study session created!"),await Oe(),t==null||t(),te.session}return null}catch(B){return console.error("Failed to create session:",B),z.error("Failed to create new session"),null}},We=async()=>g||await It(),Je=async(B=!0)=>{if(!g){z.error("No active session");return}O(!0),ae(!1);try{const V=localStorage.getItem("accessToken");if(!V){z.error("Please login first");return}const te=await fetch(`${X}/ai/sessions/${g.id}/generate-quiz`,{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify({count:ye,difficulty:xe})});if(!te.ok){const Re=await te.json();throw new Error(Re.error||"Failed to generate quiz")}const ue=await te.json();F(ue.quiz),G(0),se(null),P({}),pe(!1),B&&z.success("Quiz generated! Questions ready.")}catch(V){console.error("Quiz generation error:",V),z.error(V instanceof Error?V.message:"Failed to generate quiz")}finally{O(!1)}},an=()=>{window.confirm("Are you sure you want to start a new quiz? Current progress will be lost.")&&ae(!0)},He=async B=>{try{const V=localStorage.getItem("accessToken");if(!V)return;const te=await fetch(`${X}/ai/sessions/${B}`,{headers:{Authorization:`Bearer ${V}`}});if(te.ok){const ue=await te.json();if(await fetch(`${X}/ai/sessions/${B}/activate`,{method:"POST",headers:{Authorization:`Bearer ${V}`}}),w(ue.session),h(ue.session.files||[]),ue.session.studentChatHistory){const Re=ue.session.studentChatHistory.map(Ne=>({role:Ne.role==="assistant"?"ai":Ne.role,content:Ne.content}));l(Re)}else l([]);if(ue.session.teachChatHistory){const Re=ue.session.teachChatHistory.map(Ne=>({role:Ne.role==="assistant"?"ai":Ne.role,content:Ne.content}));d(Re)}else d([]);ue.session.quizData?(F(ue.session.quizData),ue.session.quizSettings&&(Pe(ue.session.quizSettings.count||10),be(ue.session.quizSettings.difficulty||"medium"))):F(null),G(0),P({}),pe(!1),je(!1),z.success("Session loaded!")}}catch(V){console.error("Failed to load session:",V),z.error("Failed to load session")}},kt=async B=>{if(j.length>=3){z.error("Maximum 3 files per session");return}k(!0);try{const V=localStorage.getItem("accessToken");if(!V){z.error("Please login first");return}const te=await We();if(!te){z.error("Failed to create session");return}const ue=new FormData;ue.append("file",B);const Re=await fetch(`${X}/ai/sessions/${te.id}/upload`,{method:"POST",headers:{Authorization:`Bearer ${V}`},body:ue});if(!Re.ok){const Fe=await Re.json();throw new Error(Fe.error||"Upload failed")}const Ne=await Re.json();h(Fe=>[...Fe,Ne.file]),z.success(`Uploaded: ${Ne.file.fileName} (${j.length+1}/3)`),await Oe()}catch(V){console.error("Upload error:",V),z.error(V instanceof Error?V.message:"Failed to upload file")}finally{k(!1)}},jt=async B=>{var te;const V=(te=B.target.files)==null?void 0:te[0];V&&(await kt(V),B.target.value="")},Bt=async B=>{if(g)try{const V=localStorage.getItem("accessToken");if(!V)return;(await fetch(`${X}/ai/sessions/${g.id}/files/${B}`,{method:"DELETE",headers:{Authorization:`Bearer ${V}`}})).ok&&(h(ue=>ue.filter(Re=>Re.id!==B)),z.success("File removed"),await Oe())}catch(V){console.error("Delete error:",V),z.error("Failed to delete file")}},pt=async()=>{if(!m.trim()||p)return;const B={role:"user",content:m};Be([...ke,B]);const V=m;f(""),v(!0);try{const te=localStorage.getItem("accessToken");if(!te){z.error("Please login first"),v(!1);return}const ue=await We();if(!ue){z.error("Failed to create session"),v(!1);return}const Re=await fetch(`${X}/ai/sessions/${ue.id}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify({message:V,mode:n,phase:n==="teach"?o:void 0})});if(!Re.ok){const et=await Re.json();throw new Error(et.error||"Failed to get response")}const Fe={role:"ai",content:(await Re.json()).response};Be(et=>[...et,Fe]),await Oe()}catch(te){console.error("Chat error:",te),z.error(te instanceof Error?te.message:"Failed to get AI response");const ue={role:"ai",content:"Sorry, I encountered an error. Please try again."};Be(Re=>[...Re,ue])}finally{v(!1)}},Et=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({audio:!0}),V=new MediaRecorder(B);Ue.current=V,ot.current=[],V.ondataavailable=te=>{te.data.size>0&&ot.current.push(te.data)},V.onstop=async()=>{const te=new Blob(ot.current,{type:"audio/webm"});await Ke(te),B.getTracks().forEach(ue=>ue.stop())},V.start(),E(!0),z.success("Recording started")}catch(B){console.error("Failed to start recording:",B),z.error("Failed to access microphone")}},xt=()=>{Ue.current&&T&&(Ue.current.stop(),E(!1),z.info("Recording stopped, processing..."))},vt=()=>{T?xt():Et()},Ke=async B=>{q(!0);try{const V=localStorage.getItem("accessToken");if(!V){z.error("Please login first");return}const te=await We();if(!te){z.error("Failed to create session");return}const ue=new FormData;ue.append("audio",B,"recording.webm"),ue.append("mode",n),n==="teach"&&ue.append("phase",o);const Re=await fetch(`${X}/ai/sessions/${te.id}/voice-chat`,{method:"POST",headers:{Authorization:`Bearer ${V}`},body:ue});if(!Re.ok){const N=await Re.json();throw new Error(N.error||"Failed to process voice")}const Ne=await Re.json(),Fe={role:"user",content:Ne.userMessage};Be(N=>[...N,Fe]);const et={role:"ai",content:Ne.aiResponse};if(Be(N=>[...N,et]),Ne.audioBase64){const N=atob(Ne.audioBase64),R=new Uint8Array(N.length);for(let Y=0;Y<N.length;Y++)R[Y]=N.charCodeAt(Y);const K=new Blob([R],{type:"audio/mpeg"}),le=URL.createObjectURL(K),de=new Audio(le);de.play(),de.onended=()=>URL.revokeObjectURL(le)}z.success("Voice message processed!"),await Oe()}catch(V){console.error("Voice message error:",V),z.error(V instanceof Error?V.message:"Failed to process voice message");const te={role:"ai",content:"Sorry, I encountered an error processing your voice message. Please try again."};Be(ue=>[...ue,te])}finally{q(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6 items-stretch",children:[s.jsx("div",{className:"xl:col-span-8",children:s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:s.jsxs("div",{children:[s.jsxs(UC,{value:n,onValueChange:B=>r(B),children:[s.jsx(Jp,{value:"student",className:"space-y-4"}),s.jsx(Jp,{value:"teach",className:"space-y-4"})]}),s.jsxs(Xe,{className:"h-[670px] flex flex-col rounded-3xl bg-white/90 shadow-[0_20px_60px_rgba(15,23,42,0.08)] border-0 overflow-hidden",children:[s.jsxs(dt,{className:"pt-3 pb-2",children:[s.jsxs("div",{className:"flex items-start pt-4 justify-between gap-4",children:[s.jsx(ft,{className:"min-w-[120px]",children:n==="teach"&&o==="quiz"?"Quiz":"Chat"}),s.jsx("div",{className:"flex-1 text-center",children:g&&s.jsx("p",{className:"text-xs text-gray-500",children:g.name})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Q,{variant:"outline",size:"sm",onClick:It,disabled:p||S,children:[s.jsx(ua,{className:"size-4 mr-2"}),"New Study"]})})]}),n==="teach"&&o==="quiz"&&U&&!oe&&s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx(Q,{variant:"outline",size:"sm",onClick:an,disabled:I,children:" New Quiz"})})]}),s.jsx(nt,{className:"flex-1 min-h-0 flex flex-col pt-0",children:n==="teach"&&o==="quiz"?s.jsx("div",{className:"flex-1 flex flex-col",children:I?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Rn,{className:"size-12 animate-spin mx-auto mb-4 text-blue-600"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Generating quiz questions..."})]})}):we&&U?s.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[s.jsxs("div",{className:"mb-4 pb-4 border-b",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Wrong Answers Review"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Review the questions you got wrong"})]}),s.jsxs("div",{className:"space-y-6 flex-1 overflow-y-auto mb-4",children:[U.questions.map((B,V)=>{const te=b[V];return te!==B.correctAnswer?s.jsxs("div",{className:"border rounded-lg p-4 bg-red-50 border-red-200",children:[s.jsxs("h4",{className:"font-semibold mb-3",children:["Q",V+1,". ",B.question]}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-start gap-2 p-2 bg-red-100 rounded",children:[s.jsx("span",{className:"text-red-600 font-bold",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Your answer:"}),s.jsxs("p",{className:"font-medium text-red-700",children:[String.fromCharCode(65+te),". ",B.options[te]]})]})]}),s.jsxs("div",{className:"flex items-start gap-2 p-2 bg-green-100 rounded",children:[s.jsx("span",{className:"text-green-600 font-bold",children:""}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Correct answer:"}),s.jsxs("p",{className:"font-medium text-green-700",children:[String.fromCharCode(65+B.correctAnswer),". ",B.options[B.correctAnswer]]})]})]})]}),s.jsxs("div",{className:"p-3 bg-blue-50 rounded border border-blue-200",children:[s.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Explanation:"}),s.jsx("p",{className:"text-sm text-gray-700",children:B.explanation})]})]},V):null}),Object.values(b).filter((B,V)=>{var te;return B!==((te=U.questions[V])==null?void 0:te.correctAnswer)}).length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("p",{className:"text-lg font-semibold",children:"Perfect score! No wrong answers to review."})]})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>je(!1),children:"Back to Results"})})]}):oe&&U?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md w-full",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Quiz Completed!"})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-8 mb-6 border-2 border-blue-200",children:[s.jsxs("div",{className:"text-5xl font-bold text-blue-600 mb-4",children:[Object.values(b).filter((B,V)=>{var te;return B===((te=U.questions[V])==null?void 0:te.correctAnswer)}).length," / ",U.questions.length]}),s.jsxs("div",{className:"flex justify-center gap-6 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("span",{className:"text-green-700 font-semibold",children:[Object.values(b).filter((B,V)=>{var te;return B===((te=U.questions[V])==null?void 0:te.correctAnswer)}).length," Correct"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsxs("span",{className:"text-red-700 font-semibold",children:[Object.values(b).filter((B,V)=>{var te;return B!==((te=U.questions[V])==null?void 0:te.correctAnswer)}).length," Wrong"]})]})]})]}),s.jsx("p",{className:"text-lg mb-6 text-gray-700",children:Object.values(b).filter((B,V)=>{var te;return B===((te=U.questions[V])==null?void 0:te.correctAnswer)}).length>=8?"Excellent work! ":Object.values(b).filter((B,V)=>{var te;return B===((te=U.questions[V])==null?void 0:te.correctAnswer)}).length>=6?"Good job! Keep practicing! ":"Keep studying! You'll do better next time! "}),s.jsxs("div",{className:"space-y-3",children:[Object.values(b).filter((B,V)=>{var te;return B!==((te=U.questions[V])==null?void 0:te.correctAnswer)}).length>0&&s.jsxs(Q,{variant:"outline",className:"w-full",onClick:()=>je(!0),children:[s.jsx(Dn,{className:"size-4 mr-2"}),"Review Wrong Answers"]}),s.jsxs(Q,{className:"w-full",size:"lg",onClick:()=>{je(!1),ae(!0)},children:[s.jsx(ua,{className:"size-5 mr-2"}),"Start New Quiz"]}),s.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>{a("teaching"),je(!1)},children:"Back to Teaching"})]})]})}):U&&U.questions.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-2 border-b",children:[s.jsxs("span",{className:"text-sm font-medium",children:[H+1," / ",U.questions.length]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-700 rounded",children:[" ",Object.values(b).filter((B,V)=>{var te;return B!==((te=U.questions[V])==null?void 0:te.correctAnswer)}).length]}),s.jsxs("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded",children:[" ",Object.values(b).filter((B,V)=>{var te;return B===((te=U.questions[V])==null?void 0:te.correctAnswer)}).length]})]})]}),(()=>{const B=U.questions[H],V=b[H]!==void 0,te=b[H],ue=te===B.correctAnswer;return s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-6",children:[H+1,". ",B.question]}),s.jsx("div",{className:"space-y-3 mb-6",children:B.options.map((Re,Ne)=>{const Fe=L===Ne||te===Ne,et=Ne===B.correctAnswer,N=V;let R="w-full text-left px-4 py-3 rounded-lg border-2 transition-all ";return N&&et?R+="border-green-500 bg-green-50":N&&Fe&&!et?R+="border-red-500 bg-red-50":Fe?R+="border-blue-500 bg-blue-50":R+="border-gray-200 hover:border-gray-300 hover:bg-gray-50",s.jsx("button",{onClick:()=>{V||(se(Ne),P({...b,[H]:Ne}))},disabled:V,className:R,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsxs("span",{className:"font-semibold text-gray-600",children:[String.fromCharCode(65+Ne),"."]}),s.jsx("span",{className:"flex-1",children:Re}),N&&et&&s.jsx("span",{className:"text-green-600 font-semibold",children:""})]})},Ne)})}),V&&s.jsxs("div",{className:`p-4 rounded-lg mb-4 ${ue?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.jsx("p",{className:`font-semibold mb-2 ${ue?"text-green-700":"text-red-700"}`,children:ue?" That's right!":" Incorrect"}),s.jsx("p",{className:"text-sm text-gray-700",children:B.explanation})]}),s.jsxs("div",{className:"flex gap-2 mt-auto",children:[s.jsx(Q,{variant:"outline",onClick:()=>G(Math.max(0,H-1)),disabled:H===0,children:"Back"}),s.jsx(Q,{className:"flex-1",onClick:()=>{H<U.questions.length-1?(G(H+1),se(null)):pe(!0)},disabled:!V,children:H<U.questions.length-1?"Next":"Finish"})]})]})})()]}):s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Dn,{className:"size-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No quiz available"}),s.jsx(Q,{onClick:()=>ae(!0),children:"Generate Quiz"})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 space-y-4 mb-4 overflow-y-auto max-h-96",children:[ke.length===0?s.jsx("div",{className:"text-center text-muted-foreground py-12",children:n==="teach"?"Start by explaining a concept you're studying...":"Ask me anything about your study material..."}):ke.map((B,V)=>s.jsx("div",{className:`flex ${B.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 leading-relaxed ${B.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:B.content})})},V)),p&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 bg-gray-100 text-gray-900 leading-relaxed",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{className:"size-4 animate-spin"}),s.jsx("p",{className:"text-sm",children:"AI is thinking..."})]})})})]}),s.jsxs("div",{className:"rounded-[20px] border border-gray-200 bg-white/80 p-4 shadow-sm",children:[s.jsx(WC,{placeholder:n==="teach"?"Explain the concept in your own words...":"What do you want to know?",value:m,onChange:B=>f(B.target.value),onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),pt())},className:"min-h-[72px] resize-none border-0 bg-transparent p-0 pt-1 leading-relaxed shadow-none focus-visible:ring-0",rows:3,disabled:T||D}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(Q,{onClick:vt,variant:T?"destructive":"outline",size:"sm",className:"gap-2",disabled:p||D,children:D?s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-4 animate-spin"}),"Processing..."]}):T?s.jsxs(s.Fragment,{children:[s.jsx(Uj,{className:"size-4"}),"Stop"]}):s.jsxs(s.Fragment,{children:[s.jsx(qg,{className:"size-4"}),"Voice"]})}),s.jsx(Q,{onClick:pt,disabled:p||!m.trim()||T||D,className:"rounded-full h-11 w-11 p-0",children:p?s.jsx(Rn,{className:"size-4 animate-spin"}):""})]})]}),s.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[s.jsxs(Q,{variant:n==="student"?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>r("student"),children:[s.jsx(Dn,{className:"size-4 mr-2"}),"Student Mode"]}),s.jsxs(Q,{variant:n==="teach"?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>r("teach"),children:[s.jsx(iu,{className:"size-4 mr-2"}),"Teach Mode"]}),s.jsxs(Q,{variant:"outline",size:"sm",className:"rounded-full",onClick:()=>{r("teach"),a("teaching"),ae(!0)},disabled:I,children:[s.jsx(Dn,{className:"size-4 mr-2"}),"Create Quiz"]})]})]})})]})]})})}),s.jsx("div",{className:"xl:col-span-4",children:s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:s.jsx("div",{className:"space-y-6",children:s.jsxs(Xe,{className:`rounded-3xl bg-white/90 shadow-[0_20px_60px_rgba(15,23,42,0.08)] border-2 ${$?"border-purple-300 bg-white":"border-transparent"}`,onClick:()=>{var B;return(B=qe.current)==null?void 0:B.click()},onDragOver:B=>{B.preventDefault(),Z(!0)},onDragLeave:()=>Z(!1),onDrop:B=>{var te;B.preventDefault(),Z(!1);const V=(te=B.dataTransfer.files)==null?void 0:te[0];V&&kt(V)},role:"button",tabIndex:0,onKeyDown:B=>{var V;(B.key==="Enter"||B.key===" ")&&(B.preventDefault(),(V=qe.current)==null||V.click())},children:[s.jsx(dt,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(ft,{className:"text-lg",children:["Study Materials (",j.length,"/3)"]}),s.jsx("input",{id:"file-upload",type:"file",accept:".pdf,.txt,.md,.png,.jpg,.jpeg,.gif,.webp,.mp3,.wav,.m4a,.mp4,.webm,text/plain,application/pdf,image/*,audio/*",className:"hidden",onChange:jt,disabled:S||j.length>=3,ref:qe})]})}),s.jsx(nt,{children:j.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(au,{className:"size-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Drag & drop files here or click to upload (max 3)."})]}):s.jsx("div",{className:"space-y-2",children:j.map(B=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/80 rounded-2xl border border-white/70",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(au,{className:"size-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium",children:B.fileName}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",B.fileType,")"]})]}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>Bt(B.id),className:"hover:bg-red-100 hover:text-red-600",children:s.jsx(dl,{className:"size-4"})})]},B.id))})})]})})})})]}),me&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(Xe,{className:"w-full max-w-md mx-4 rounded-3xl bg-white/95 shadow-[0_20px_60px_rgba(15,23,42,0.2)] border-0",children:[s.jsxs(dt,{children:[s.jsx(ft,{className:"text-2xl",children:"Generate Quiz"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your quiz settings"})]}),s.jsxs(nt,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Number of Questions"}),s.jsx("div",{className:"flex gap-3",children:[5,10,15].map(B=>s.jsx(Q,{variant:ye===B?"default":"outline",onClick:()=>Pe(B),className:"flex-1",children:B},B))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Difficulty Level"}),s.jsx("div",{className:"flex flex-col gap-2",children:[{value:"easy",label:"Easy",desc:"Basic concepts and definitions",emoji:""},{value:"medium",label:"Medium",desc:"Balanced understanding and application",emoji:""},{value:"hard",label:"Hard",desc:"Deep analysis and critical thinking",emoji:""}].map(B=>s.jsx(Q,{variant:xe===B.value?"default":"outline",onClick:()=>be(B.value),className:"w-full justify-start h-auto py-3",children:s.jsxs("div",{className:"flex items-start gap-3 text-left",children:[s.jsx("span",{className:"text-2xl",children:B.emoji}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:B.label}),s.jsx("div",{className:"text-xs opacity-80",children:B.desc})]})]})},B.value))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(Q,{variant:"outline",onClick:()=>ae(!1),className:"flex-1",children:"Cancel"}),s.jsx(Q,{onClick:()=>{a("quiz"),P({}),G(0),pe(!1),je(!1),Je()},disabled:I,className:"flex-1",children:I?s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-4 mr-2"}),"Generate Quiz"]})})]})]})]})})]})}function VC({accessToken:e,onViewFriend:t,onRequestsUpdated:n}){const[r,o]=u.useState([]),[a,i]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(!1),[f,g]=u.useState("");u.useEffect(()=>{w(),y()},[e]);const w=async()=>{try{const p=await(await fetch(`${X}/friends`,{headers:{Authorization:`Bearer ${e}`}})).json();o(p.friends||[])}catch(h){console.error("Failed to fetch friends:",h),z.error("Failed to load friends")}},y=async()=>{try{const[h,p]=await Promise.all([fetch(`${X}/friends/requests`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${X}/friends/requests/sent`,{headers:{Authorization:`Bearer ${e}`}})]),v=await h.json(),S=await p.json();i(Array.isArray(v.requests)?v.requests:[]),c(Array.isArray(S.requests)?S.requests:[]),n==null||n()}catch(h){console.error("Failed to fetch friend requests:",h),z.error("Failed to load friend requests")}},x=async()=>{try{const p=await(await fetch(`${X}/friends/add`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({friendUsername:f})})).json();p.success?(y(),g(""),m(!1),p.autoAccepted?(w(),z.success("Request matched and accepted.")):z.success("Friend request sent (pending).")):z.error(p.error||"Failed to send friend request")}catch(h){console.error("Failed to add friend:",h),z.error("Failed to send friend request")}},j=async(h,p)=>{try{const v=await fetch(`${X}/friends/requests/${h}/${p}`,{method:"POST",headers:{Authorization:`Bearer ${e}`}}),S=await v.json();if(!v.ok||!S.success){z.error(S.error||`Failed to ${p} request`);return}p==="accept"?(z.success("Friend request accepted"),w()):z.success("Friend request rejected"),y(),n==null||n()}catch(v){console.error(`Failed to ${p} request:`,v),z.error(`Failed to ${p} request`)}};return s.jsx("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end items-center",children:s.jsxs(An,{open:d,onOpenChange:m,children:[s.jsx(ef,{asChild:!0,children:s.jsxs(Q,{children:[s.jsx(Yg,{className:"size-4 mr-2"}),"Send Request"]})}),s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Send Friend Request"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Friend's Username"}),s.jsx(Ee,{type:"text",placeholder:"johndoe",value:f,onChange:h=>g(h.target.value)})]}),s.jsx(Q,{onClick:x,className:"w-full",children:"Send Request"})]})]})]})}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{className:"text-base",children:"Incoming Requests"})}),s.jsx(nt,{children:a.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No incoming requests."}):s.jsx("div",{className:"space-y-3",children:a.map(h=>s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:h.requester.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h.requester.email})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{size:"sm",onClick:()=>j(h.requesterId,"accept"),children:[s.jsx(cl,{className:"size-4 mr-1"}),"Accept"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>j(h.requesterId,"reject"),children:[s.jsx(dl,{className:"size-4 mr-1"}),"Reject"]})]})]},h.requesterId))})})]}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{className:"text-base",children:"Pending Requests"})}),s.jsx(nt,{children:l.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending requests."}):s.jsx("div",{className:"space-y-3",children:l.map(h=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:h.recipient.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:h.recipient.email})]}),s.jsxs("div",{className:"inline-flex items-center gap-1 rounded-full bg-amber-100 px-2 py-1 text-[11px] font-medium text-amber-700",children:[s.jsx(kj,{className:"size-3"}),"Pending"]})]},h.recipientId))})})]}),r.length===0?s.jsx(Xe,{className:"p-12 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"No friends yet. Send a request and wait for acceptance."})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(h=>s.jsxs(Xe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t(h),children:[s.jsxs(dt,{children:[s.jsx(ft,{className:"text-lg",children:h.username}),s.jsx("p",{className:"text-sm text-muted-foreground",children:h.email})]}),s.jsx(nt,{children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Major:"})," ",h.category]})})]},h.id))})]})})}function GC({accessToken:e,friend:t,onBack:n}){const[r,o]=u.useState([]),[a,i]=u.useState([]),[l,c]=u.useState(null);u.useEffect(()=>{(async()=>{try{const j=await(await fetch(`${X}/friends/${t.id}/activity`,{headers:{Authorization:`Bearer ${e}`}})).json();o(j.activity||[])}catch(x){console.error("Failed to fetch friend activity:",x)}})()},[e,t.id]),u.useEffect(()=>{(async()=>{try{c(null);const x=await fetch(`${X}/friends/${t.id}/todos`,{headers:{Authorization:`Bearer ${e}`}});if(!x.ok){if(x.status===403){c("This friend is not sharing todos."),i([]);return}throw new Error("Failed to load todos")}const j=await x.json();i(j.todos||[])}catch(x){console.error("Failed to fetch shared todos:",x),c("Failed to load shared todos.")}})()},[e,t.id]);const d=y=>{const x=Math.floor(y/3600),j=Math.floor(y%3600/60);return`${x}h ${j}m`},m=y=>y.reduce((x,j)=>x+j.total,0),f=y=>y.plannedDuration??y.duration??0,g=y=>y.actualDuration??0,w=y=>{const x=f(y);return x<=0?0:Math.min(g(y)/x*100,100)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Q,{variant:"ghost",onClick:n,children:[s.jsx(ou,{className:"size-4 mr-2"}),"Back"]}),s.jsx("h1",{className:"text-3xl font-bold",children:t.username||t.email||"Friend"})]}),s.jsxs(Xe,{children:[s.jsxs(dt,{children:[s.jsx(ft,{children:"Profile"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.email||""})]}),s.jsxs(nt,{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Major:"})," ",t.category||""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gg,{className:"size-5 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly Study Time"}),s.jsx("p",{className:"text-2xl font-bold",children:d(m(r))})]})]})]})]}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsxs(ft,{className:"flex items-center gap-2",children:[s.jsx(nb,{className:"size-5"}),"Last 7 Days Activity"]})}),s.jsx(nt,{children:s.jsx("div",{className:"space-y-3",children:r.map(y=>{const j=new Date(y.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:j}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Math.min(y.total/14400*100,100)}%`}})}),s.jsx("span",{className:"text-sm font-medium w-16 text-right",children:d(y.total)})]})]},y.date)})})})]}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Shared Todos"})}),s.jsx(nt,{children:l?s.jsx("p",{className:"text-sm text-muted-foreground",children:l}):a.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"No shared todos yet."}):s.jsx("div",{className:"space-y-3",children:a.map(y=>{const x=f(y),j=g(y),h=w(y);return s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:y.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:y.subject||"No subject"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"h-2 w-40 bg-gray-200 rounded-full",children:s.jsx("div",{className:"h-2 rounded-full bg-teal-600",style:{width:`${h}%`}})}),s.jsxs("p",{className:"text-[11px] text-gray-500 mt-1",children:[d(j)," / ",d(x)]})]})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:d(x)})]},y.id)})})})]})]})}var em=!1,cs,Su,Nu,di,fi,Jv,pi,Cu,ku,Eu,e0,Pu,Tu,t0,n0;function Jt(){if(!em){em=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(Pu=/\b(iPhone|iP[ao]d)/.exec(e),Tu=/\b(iP[ao]d)/.exec(e),Eu=/Android/i.exec(e),t0=/FBAN\/\w+;/i.exec(e),n0=/Mobile/i.exec(e),e0=!!/Win64/.exec(e),t){cs=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,cs&&document&&document.documentMode&&(cs=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(e);Jv=r?parseFloat(r[1])+4:cs,Su=t[2]?parseFloat(t[2]):NaN,Nu=t[3]?parseFloat(t[3]):NaN,di=t[4]?parseFloat(t[4]):NaN,di?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),fi=t&&t[1]?parseFloat(t[1]):NaN):fi=NaN}else cs=Su=Nu=fi=di=NaN;if(n){if(n[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);pi=o?parseFloat(o[1].replace("_",".")):!0}else pi=!1;Cu=!!n[2],ku=!!n[3]}else pi=Cu=ku=!1}}var _u={ie:function(){return Jt()||cs},ieCompatibilityMode:function(){return Jt()||Jv>cs},ie64:function(){return _u.ie()&&e0},firefox:function(){return Jt()||Su},opera:function(){return Jt()||Nu},webkit:function(){return Jt()||di},safari:function(){return _u.webkit()},chrome:function(){return Jt()||fi},windows:function(){return Jt()||Cu},osx:function(){return Jt()||pi},linux:function(){return Jt()||ku},iphone:function(){return Jt()||Pu},mobile:function(){return Jt()||Pu||Tu||Eu||n0},nativeApp:function(){return Jt()||t0},android:function(){return Jt()||Eu},ipad:function(){return Jt()||Tu}},qC=_u,QC=!!(typeof window<"u"&&window.document&&window.document.createElement),YC={canUseDOM:QC},KC=YC,r0=KC,s0;r0.canUseDOM&&(s0=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function ZC(e,t){if(!r0.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var o=document.createElement("div");o.setAttribute(n,"return;"),r=typeof o[n]=="function"}return!r&&s0&&e==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var XC=ZC,JC=qC,ek=XC,tm=10,nm=40,rm=800;function o0(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*tm,o=n*tm,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(e.deltaMode==1?(r*=nm,o*=nm):(r*=rm,o*=rm)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}o0.getEventType=function(){return JC.firefox()?"DOMMouseScroll":ek("wheel")?"wheel":"mousewheel"};var tk=o0,nk=tk;const rk=Du(nk);function sk(e,t,n,r,o,a){a===void 0&&(a=0);var i=lo(e,t,a),l=i.width,c=i.height,d=Math.min(l,n),m=Math.min(c,r);return d>m*o?{width:m*o,height:m}:{width:d,height:d/o}}function ok(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Ro(e,t,n,r,o){o===void 0&&(o=0);var a=lo(t.width,t.height,o),i=a.width,l=a.height;return{x:sm(e.x,i,n.width,r),y:sm(e.y,l,n.height,r)}}function sm(e,t,n,r){var o=t*r/2-n/2;return jl(e,-o,o)}function om(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function am(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function ak(e,t,n,r,o,a,i){a===void 0&&(a=0),i===void 0&&(i=!0);var l=i?ik:lk,c=lo(t.width,t.height,a),d=lo(t.naturalWidth,t.naturalHeight,a),m={x:l(100,((c.width-n.width/o)/2-e.x/o)/c.width*100),y:l(100,((c.height-n.height/o)/2-e.y/o)/c.height*100),width:l(100,n.width/c.width*100/o),height:l(100,n.height/c.height*100/o)},f=Math.round(l(d.width,m.width*d.width/100)),g=Math.round(l(d.height,m.height*d.height/100)),w=d.width>=d.height*r,y=w?{width:Math.round(g*r),height:g}:{width:f,height:Math.round(f/r)},x=lt(lt({},y),{x:Math.round(l(d.width-y.width,m.x*d.width/100)),y:Math.round(l(d.height-y.height,m.y*d.height/100))});return{croppedAreaPercentages:m,croppedAreaPixels:x}}function ik(e,t){return Math.min(e,Math.max(0,t))}function lk(e,t){return t}function ck(e,t,n,r,o,a){var i=lo(t.width,t.height,n),l=jl(r.width/i.width*(100/e.width),o,a),c={x:l*i.width/2-r.width/2-i.width*l*(e.x/100),y:l*i.height/2-r.height/2-i.height*l*(e.y/100)};return{crop:c,zoom:l}}function uk(e,t,n){var r=ok(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function dk(e,t,n,r,o,a){n===void 0&&(n=0);var i=lo(t.naturalWidth,t.naturalHeight,n),l=jl(uk(e,t,r),o,a),c=r.height>r.width?r.height/e.height:r.width/e.width,d={x:((i.width-e.width)/2-e.x)*c,y:((i.height-e.height)/2-e.y)*c};return{crop:d,zoom:l}}function im(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function fk(e){return e*Math.PI/180}function lo(e,t,n){var r=fk(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function jl(e,t,n){return Math.min(Math.max(e,t),n)}function Ya(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var pk=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,mk=1,hk=3,gk=1,xk=function(e){oN(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.imageRef=u.createRef(),n.videoRef=u.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturemove",n.onGestureMove),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var o=ck(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=o.crop,i=o.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(i)}else if(n.props.initialCroppedAreaPixels){var l=dk(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),a=l.crop,i=l.zoom;n.props.onCropChange(a),n.props.onZoomChange&&n.props.onZoomChange(i)}},n.computeSizes=function(){var r,o,a,i,l,c,d=n.imageRef.current||n.videoRef.current;if(d&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var m=n.containerRect.width/n.containerRect.height,f=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=n.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,g=((a=n.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=n.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,w=d.offsetWidth<f||d.offsetHeight<g,y=f/g,x=void 0;if(w)switch(n.state.mediaObjectFit){default:case"contain":x=m>y?{width:n.containerRect.height*y,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/y};break;case"horizontal-cover":x={width:n.containerRect.width,height:n.containerRect.width/y};break;case"vertical-cover":x={width:n.containerRect.height*y,height:n.containerRect.height};break}else x={width:d.offsetWidth,height:d.offsetHeight};n.mediaSize=lt(lt({},x),{naturalWidth:f,naturalHeight:g}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var j=n.props.cropSize?n.props.cropSize:sk(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((l=n.state.cropSize)===null||l===void 0?void 0:l.height)!==j.height||((c=n.state.cropSize)===null||c===void 0?void 0:c.width)!==j.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(j),n.setState({cropSize:j},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(j),j}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureMove),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureMove=function(r){if(r.preventDefault(),!n.isTouching){var o=t.getMousePoint(r),a=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(a,o,{shouldUpdatePosition:!0}),n.props.onRotationChange){var i=n.gestureRotationStart+r.rotation;n.props.onRotationChange(i)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var o,a,i=r.x,l=r.y;n.dragStartPosition={x:i,y:l},n.dragStartCrop=lt({},n.props.crop),(a=(o=n.props).onInteractionStart)===null||a===void 0||a.call(o)},n.onDrag=function(r){var o=r.x,a=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(o===void 0||a===void 0)){var i=o-n.dragStartPosition.x,l=a-n.dragStartPosition.y,c={x:n.dragStartCrop.x+i,y:n.dragStartCrop.y+l},d=n.props.restrictPosition?Ro(c,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):c;n.props.onCropChange(d)}}))},n.onDragStopped=function(){var r,o;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(o=(r=n.props).onInteractionEnd)===null||o===void 0||o.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var o=t.getMousePoint(r),a=rk(r).pixelY,i=n.props.zoom-a*n.props.zoomSpeed/200;n.setNewZoom(i,o,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var l,c;return(c=(l=n.props).onInteractionStart)===null||c===void 0?void 0:c.call(l)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var l,c;return(c=(l=n.props).onInteractionEnd)===null||c===void 0?void 0:c.call(l)})},250)}},n.getPointOnContainer=function(r,o){var a=r.x,i=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(a-o.x),y:n.containerRect.height/2-(i-o.y)}},n.getPointOnMedia=function(r){var o=r.x,a=r.y,i=n.props,l=i.crop,c=i.zoom;return{x:(o+l.x)/c,y:(a+l.y)/c}},n.setNewZoom=function(r,o,a){var i=a===void 0?{}:a,l=i.shouldUpdatePosition,c=l===void 0?!0:l;if(!(!n.state.cropSize||!n.props.onZoomChange)){var d=jl(r,n.props.minZoom,n.props.maxZoom);if(c){var m=n.getPointOnContainer(o,n.containerPosition),f=n.getPointOnMedia(m),g={x:f.x*d-m.x,y:f.y*d-m.y},w=n.props.restrictPosition?Ro(g,n.mediaSize,n.state.cropSize,d,n.props.rotation):g;n.props.onCropChange(w)}n.props.onZoomChange(d)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?Ro(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return ak(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(o,a),n.props.onCropAreaChange&&n.props.onCropAreaChange(o,a)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(o,a)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?Ro(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var o=n.props,a=o.crop,i=o.onCropChange,l=o.keyboardStep,c=o.zoom,d=o.rotation,m=l;if(n.state.cropSize){r.shiftKey&&(m*=.2);var f=lt({},a);switch(r.key){case"ArrowUp":f.y-=m,r.preventDefault();break;case"ArrowDown":f.y+=m,r.preventDefault();break;case"ArrowLeft":f.x-=m,r.preventDefault();break;case"ArrowRight":f.x+=m,r.preventDefault();break;default:return}n.props.restrictPosition&&(f=Ro(f,n.mediaSize,n.state.cropSize,c,d)),i(f)}},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=pk,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,o,a,i,l,c,d,m,f;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((a=n.cropSize)===null||a===void 0?void 0:a.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((l=n.crop)===null||l===void 0?void 0:l.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((d=n.crop)===null||d===void 0?void 0:d.y)!==((m=this.props.crop)===null||m===void 0?void 0:m.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((f=this.videoRef.current)===null||f===void 0||f.load());var g=this.getObjectFit();g!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:g},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,o=n.aspect;return r?r.width/r.height:o},t.prototype.getObjectFit=function(){var n,r,o,a;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var l=this.containerRect.width/this.containerRect.height,c=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,d=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,m=c/d;return m<l?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),o=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=om(r,o),this.lastPinchRotation=am(r,o),this.onDragStart(im(r,o))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=t.getTouchPoint(n.touches[0]),a=t.getTouchPoint(n.touches[1]),i=im(o,a);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var l=om(o,a),c=r.props.zoom*(l/r.lastPinchDistance);r.setNewZoom(c,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=l;var d=am(o,a),m=r.props.rotation+(d-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(m),r.lastPinchRotation=d})}},t.prototype.render=function(){var n=this,r,o=this.props,a=o.image,i=o.video,l=o.mediaProps,c=o.transform,d=o.crop,m=d.x,f=d.y,g=o.rotation,w=o.zoom,y=o.cropShape,x=o.showGrid,j=o.style,h=j.containerStyle,p=j.cropAreaStyle,v=j.mediaStyle,S=o.classes,k=S.containerClassName,T=S.cropAreaClassName,E=S.mediaClassName,D=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return u.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function($){return n.containerRef=$},"data-testid":"container",style:h,className:Ya("reactEasyCrop_Container",k)},a?u.createElement("img",lt({alt:"",className:Ya("reactEasyCrop_Image",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},l,{src:a,ref:this.imageRef,style:lt(lt({},v),{transform:c||"translate(".concat(m,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):i&&u.createElement("video",lt({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Ya("reactEasyCrop_Video",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",E)},l,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:lt(lt({},v),{transform:c||"translate(".concat(m,"px, ").concat(f,"px) rotate(").concat(g,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(q){return u.createElement("source",lt({key:q.src},q))})),this.state.cropSize&&u.createElement("div",{style:lt(lt({},p),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:Ya("reactEasyCrop_CropArea",y==="round"&&"reactEasyCrop_CropAreaRound",x&&"reactEasyCrop_CropAreaGrid",T)}))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:hk,minZoom:mk,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:gk},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(u.Component);function vk({accessToken:e,onProfileUpdate:t}){const[n,r]=u.useState({classes:[],allowTodoView:!1}),[o,a]=u.useState(""),[i,l]=u.useState(!1),[c,d]=u.useState(null),[m,f]=u.useState({x:0,y:0}),[g,w]=u.useState(1),[y,x]=u.useState(null),[j,h]=u.useState(null);u.useEffect(()=>{p(),v()},[]);const p=async()=>{try{const H=await(await fetch(`${X}/settings`,{headers:{Authorization:`Bearer ${e}`}})).json();r(H.settings||{})}catch(F){console.error("Failed to fetch settings:",F),z.error("Failed to load settings")}},v=async()=>{try{const H=await(await fetch(`${X}/study/stats`,{headers:{Authorization:`Bearer ${e}`}})).json();h(H)}catch(F){console.error("Failed to fetch study stats:",F)}},S=async F=>{try{(await(await fetch(`${X}/study/medals/equip`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({medal:F})})).json()).success&&(h(L=>L?{...L,equippedMedal:F}:null),z.success(F?`${F.toUpperCase()} medal equipped!`:"Medal unequipped"))}catch(H){console.error("Failed to equip medal:",H),z.error("Failed to equip medal")}},k=async()=>{try{const F={...n,profileImageUrl:(n.profileImageUrl||"").trim()},G=await(await fetch(`${X}/settings`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(F)})).json();G.settings&&(r(G.settings),z.success("Settings saved successfully"),t==null||t(G.settings))}catch(F){console.error("Failed to save settings:",F),z.error("Failed to save settings")}},T=()=>{var F;o.trim()&&!((F=n.classes)!=null&&F.includes(o.trim()))&&(r({...n,classes:[...n.classes||[],o.trim()]}),a(""))},E=F=>{var H;r({...n,classes:((H=n.classes)==null?void 0:H.filter(G=>G!==F))||[]})},D=u.useCallback((F,H)=>{x(H)},[]),q=F=>new Promise((H,G)=>{const L=new Image;L.addEventListener("load",()=>H(L)),L.addEventListener("error",se=>G(se)),L.src=F}),$=u.useCallback(async(F,H)=>{const G=await q(F),L=document.createElement("canvas"),se=256;L.width=se,L.height=se;const b=L.getContext("2d");return b?(b.drawImage(G,H.x,H.y,H.width,H.height,0,0,se,se),L.toDataURL("image/jpeg",.9)):""},[]),Z=u.useCallback(async()=>{if(!(!c||!y))try{const F=await $(c,y);F&&r(H=>({...H,profileImageUrl:F})),l(!1)}catch(F){console.error("Crop failed:",F),z.error("Failed to crop image")}},[y,$,c]),U=()=>{l(!1)};return s.jsxs("div",{className:"space-y-6 max-w-2xl",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Profile Information"})}),s.jsxs(nt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Profile Photo URL"}),s.jsx(Ee,{value:n.profileImageUrl||"",onChange:F=>r({...n,profileImageUrl:F.target.value}),placeholder:"https://example.com/avatar.png"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste an image URL to use as your avatar."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Upload Photo"}),s.jsx(Ee,{type:"file",accept:"image/*",onChange:F=>{var L;const H=(L=F.target.files)==null?void 0:L[0];if(!H)return;const G=new FileReader;G.onload=()=>{const se=typeof G.result=="string"?G.result:"";se&&(d(se),f({x:0,y:0}),w(1),l(!0))},G.readAsDataURL(H)}}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Uploading opens a cropper so you can adjust the photo."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Photo Preview"}),s.jsx("div",{className:"h-40 w-40 rounded-full overflow-hidden bg-gray-100 border",children:n.profileImageUrl?s.jsx("img",{src:n.profileImageUrl,alt:"Profile preview",className:"h-full w-full object-cover",style:{objectPosition:"center"}}):s.jsx("div",{className:"h-full w-full flex items-center justify-center text-xs text-muted-foreground",children:"No image selected"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Username"}),s.jsx(Ee,{value:n.username||"",onChange:F=>r({...n,username:F.target.value}),placeholder:"Your username"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Email"}),s.jsx(Ee,{type:"email",value:n.email||"",disabled:!0,className:"bg-gray-50"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Category / Major"}),s.jsx(Ee,{value:n.category||"",onChange:F=>r({...n,category:F.target.value}),placeholder:"Your major"})]})]})]}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Study Achievements"})}),s.jsxs(nt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Total Study Time"}),s.jsxs("div",{className:"text-3xl font-bold text-teal-600",children:[j?Math.floor(j.totalMinutes/60):0,"h ",j?j.totalMinutes%60:0,"m"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Keep studying to unlock more medals!"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ve,{children:"Medals"}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{name:"bronze",emoji:"",minutes:100,label:"Bronze"},{name:"silver",emoji:"",minutes:1e3,label:"Silver"},{name:"gold",emoji:"",minutes:1e4,label:"Gold"}].map(F=>{const H=j==null?void 0:j.unlockedMedals.includes(F.name),G=(j==null?void 0:j.equippedMedal)===F.name,L=j?Math.min(j.totalMinutes/F.minutes*100,100):0;return s.jsxs("button",{onClick:()=>H&&S(G?null:F.name),disabled:!H,className:`relative p-4 rounded-xl border-2 transition-all ${G?"border-teal-500 bg-teal-50 shadow-lg scale-105":H?"border-gray-200 hover:border-teal-300 hover:bg-gray-50":"border-gray-100 bg-gray-50 opacity-50 cursor-not-allowed"}`,children:[s.jsx("div",{className:"text-4xl mb-2",children:F.emoji}),s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:F.label}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:H?G?"Equipped":"Click to equip":`${F.minutes} min`}),!H&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-teal-500 h-1.5 rounded-full transition-all",style:{width:`${L}%`}})}),s.jsxs("div",{className:"text-[10px] text-muted-foreground mt-1",children:[Math.round(L),"%"]})]})]},F.name)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Earn medals by studying and equip them to show on your profile!"})]})]})]}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Current Classes"})}),s.jsxs(nt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{value:o,onChange:F=>a(F.target.value),placeholder:"e.g., MATH 101",onKeyDown:F=>{F.key==="Enter"&&(F.preventDefault(),T())}}),s.jsx(Q,{onClick:T,children:"Add"})]}),n.classes&&n.classes.length>0?s.jsx("div",{className:"flex flex-wrap gap-2",children:n.classes.map(F=>s.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[F,s.jsx("button",{onClick:()=>E(F),className:"hover:text-blue-900",children:""})]},F))}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No classes added yet"})]})]}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Privacy Settings"})}),s.jsx(nt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ve,{htmlFor:"todo-privacy",children:"Allow Friends to View My Todos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"When enabled, your friends can see your todo list"})]}),s.jsx(ju,{id:"todo-privacy",checked:n.allowTodoView||!1,onCheckedChange:F=>r({...n,allowTodoView:F})})]})})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Q,{onClick:k,children:"Save Settings"})}),s.jsx(An,{open:i,onOpenChange:l,children:s.jsxs(Mn,{className:"max-w-md",children:[s.jsx(zn,{children:s.jsx(In,{children:"Crop your photo"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative w-full h-72 bg-gray-100 rounded-lg overflow-hidden",children:c&&s.jsx(xk,{image:c,crop:m,zoom:g,aspect:1,cropShape:"round",showGrid:!0,onCropChange:f,onZoomChange:w,onCropComplete:D})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Zoom"}),s.jsx("input",{type:"range",min:1,max:3,step:.01,value:g,onChange:F=>w(Number(F.target.value)),className:"w-full"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Q,{variant:"ghost",onClick:U,children:"Cancel"}),s.jsx(Q,{onClick:Z,children:"Save photo"})]})]})]})})]})}function yk({accessToken:e,user:t}){const[n,r]=u.useState(t),[o,a]=u.useState([]),i=u.useMemo(()=>(n.username||n.email||"User").split(" ").map(c=>c[0]).join("").slice(0,2).toUpperCase(),[n.email,n.username]);return u.useEffect(()=>{r(t)},[t]),u.useEffect(()=>{(async()=>{try{const d=await(await fetch(`${X}/settings`,{headers:{Authorization:`Bearer ${e}`}})).json();d.settings&&r(d.settings)}catch(c){console.error("Failed to load profile:",c)}})()},[e]),u.useEffect(()=>{(async()=>{try{const d=await(await fetch(`${X}/friends`,{headers:{Authorization:`Bearer ${e}`}})).json();a(d.friends||[])}catch(c){console.error("Failed to load friends:",c),z.error("Failed to load friends")}})()},[e]),s.jsxs("div",{className:"space-y-6 max-w-3xl",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),s.jsx(Xe,{children:s.jsxs(nt,{className:"p-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Hi,{className:"size-16",children:[n.profileImageUrl&&s.jsx(Vi,{src:n.profileImageUrl,alt:n.username||"Profile",className:"object-cover",style:{objectPosition:"center"}}),s.jsx(Gi,{className:"bg-gray-200 text-gray-700 text-lg font-semibold",style:n.profileImageUrl?{backgroundImage:`url(${n.profileImageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:n.profileImageUrl?null:i})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.username||"Unnamed"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.email}),n.userId&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",n.userId]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Following"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),s.jsx(Q,{variant:"outline",onClick:()=>{n.username&&(navigator.clipboard.writeText(n.username),z.success("Username copied"))},disabled:!n.username,children:"Copy Username"})]})]})}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Profile Details"})}),s.jsxs(nt,{className:"space-y-3 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Major"}),s.jsx("span",{children:n.category||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Username"}),s.jsx("span",{children:n.username||"Not set"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Email"}),s.jsx("span",{children:n.email||"Not set"})]})]})]}),s.jsxs(Xe,{children:[s.jsx(dt,{children:s.jsx(ft,{children:"Following"})}),s.jsx(nt,{className:"space-y-3",children:o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground",children:"You are not following anyone yet."}):o.map(l=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.username||"Unknown"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:l.email})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:l.category||"No major"})]},l.id))})]})]})}var a0="AlertDialog",[wk]=tr(a0,[iv]),jr=iv(),i0=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return s.jsx(Sv,{...r,...n,modal:!0})};i0.displayName=a0;var jk="AlertDialogTrigger",bk=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(Nv,{...o,...r,ref:t})});bk.displayName=jk;var Sk="AlertDialogPortal",l0=e=>{const{__scopeAlertDialog:t,...n}=e,r=jr(t);return s.jsx(Cv,{...r,...n})};l0.displayName=Sk;var Nk="AlertDialogOverlay",c0=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(kv,{...o,...r,ref:t})});c0.displayName=Nk;var Js="AlertDialogContent",[Ck,kk]=wk(Js),u0=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...o}=e,a=jr(n),i=u.useRef(null),l=st(t,i),c=u.useRef(null);return s.jsx(T2,{contentName:Js,titleName:d0,docsSlug:"alert-dialog",children:s.jsx(Ck,{scope:n,cancelRef:c,children:s.jsxs(Ev,{role:"alertdialog",...a,...o,ref:l,onOpenAutoFocus:Ie(o.onOpenAutoFocus,d=>{var m;d.preventDefault(),(m=c.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[s.jsx(Tg,{children:r}),s.jsx(Pk,{contentRef:i})]})})})});u0.displayName=Js;var d0="AlertDialogTitle",f0=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(Pv,{...o,...r,ref:t})});f0.displayName=d0;var p0="AlertDialogDescription",m0=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(A2,{...o,...r,ref:t})});m0.displayName=p0;var Ek="AlertDialogAction",h0=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,o=jr(n);return s.jsx(Jd,{...o,...r,ref:t})});h0.displayName=Ek;var g0="AlertDialogCancel",x0=u.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:o}=kk(g0,n),a=jr(n),i=st(t,o);return s.jsx(Jd,{...a,...r,ref:i})});x0.displayName=g0;var Pk=({contentRef:e})=>{const t=`\`${Js}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Js}\` by passing a \`${p0}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Js}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Tk=i0,_k=l0,Dk=c0,Rk=u0,Ak=h0,Mk=x0,zk=f0,Ik=m0;function Ok({...e}){return s.jsx(Tk,{"data-slot":"alert-dialog",...e})}function Fk({...e}){return s.jsx(_k,{"data-slot":"alert-dialog-portal",...e})}function $k({className:e,...t}){return s.jsx(Dk,{"data-slot":"alert-dialog-overlay",className:De("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Lk({className:e,...t}){return s.jsxs(Fk,{children:[s.jsx($k,{}),s.jsx(Rk,{"data-slot":"alert-dialog-content",className:De("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function Bk({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-header",className:De("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Uk({className:e,...t}){return s.jsx("div",{"data-slot":"alert-dialog-footer",className:De("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Wk({className:e,...t}){return s.jsx(zk,{"data-slot":"alert-dialog-title",className:De("text-lg font-semibold",e),...t})}function Hk({className:e,...t}){return s.jsx(Ik,{"data-slot":"alert-dialog-description",className:De("text-muted-foreground text-sm",e),...t})}function Vk({className:e,...t}){return s.jsx(Ak,{className:De(Pd(),e),...t})}function Gk({className:e,...t}){return s.jsx(Mk,{className:De(Pd({variant:"outline"}),e),...t})}const qk=e=>{if(!e)return"";switch(e){case"bronze":return"";case"silver":return"";case"gold":return"";default:return""}},qt=e=>({Authorization:`Bearer ${e}`}),Qk=e=>`${X.replace(/^http/,"ws")}/ws?token=${encodeURIComponent(e)}`;function Yk({groupId:e,accessToken:t,currentUserId:n,onBack:r,onLeaveRoom:o,onJoinMeeting:a}){const i="bg-white/80 backdrop-blur border border-white/70 shadow-[0_16px_40px_rgba(15,23,42,0.10)]",[l,c]=u.useState(null),[d,m]=u.useState(!0),[f,g]=u.useState([]),[w,y]=u.useState(!1),x=u.useRef(!1),[j,h]=u.useState([]),[p,v]=u.useState(""),[S,k]=u.useState(!1),T=u.useRef(null),E=u.useRef(!0),D=u.useRef(null),[q,$]=u.useState(!1),[Z,U]=u.useState([]),[F,H]=u.useState(!1),[G,L]=u.useState(null),[se,b]=u.useState(!1),[P,I]=u.useState(0),[O,oe]=u.useState({}),[pe,we]=u.useState(!1),[je,me]=u.useState([]),[ae,ye]=u.useState(!1),[Pe,xe]=u.useState(25),[be,ke]=u.useState("medium"),[Be,Ue]=u.useState(!1),[ot,qe]=u.useState(new Date),[Oe,It]=u.useState({completed:0,total:0,allCompleted:!1}),We=u.useRef(null),[Je,an]=u.useState(!1),[He,kt]=u.useState(!1),[jt,Bt]=u.useState(0),[pt,Et]=u.useState(null),xt=u.useMemo(()=>{if(!(l!=null&&l.date)||!(l!=null&&l.time))return!1;const _=new Date(`${l.date}T${l.time}`);return ot>=_},[l,ot]);u.useEffect(()=>{let _;return He&&pt&&(_=setInterval(()=>{const W=Math.floor((Date.now()-pt)/1e3);Bt(W)},1e3)),()=>{_&&clearInterval(_)}},[He,pt]),u.useEffect(()=>{let _=!1;return(async()=>{var W;try{const ge=await(await fetch(`${X}/study-groups/${e}`,{headers:qt(t)})).json();!_&&ge.group&&(c(ge.group),(W=ge.group.participants)!=null&&W.includes(n)||$(!0))}catch(ce){_||console.error("Failed to fetch room",ce)}finally{_||m(!1)}})(),()=>{_=!0}},[e,t]),u.useEffect(()=>{let _=!1;return(async()=>{try{if(q)return;const W=await fetch(`${X}/study-groups/${e}/presence`,{method:"POST",headers:{...qt(t),"Content-Type":"application/json"}});if(!W.ok){!_&&W.status===403&&($(!0),z.error("You need to be accepted to join this room."));return}W.ok&&!_&&(x.current=!0)}catch(W){_||console.error("Failed to join presence",W)}})(),()=>{_=!0}},[e,t,q]),u.useEffect(()=>{if(q||!l||l.meetingId)return;let _=!1;return(async()=>{try{const ce=await(await fetch(`${X}/study-groups/${e}/chat`,{headers:qt(t)})).json();_||h(ce.messages||[])}catch(W){_||console.error("Failed to fetch room chat",W)}})(),()=>{_=!0}},[e,t,q,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{vt()},[e,t]),u.useEffect(()=>{Ke()},[e,t]),u.useEffect(()=>{if(G&&Object.keys(O).length>0){const _={currentQuestionIndex:P,userAnswers:O};localStorage.setItem(`quiz-progress-${e}-${n}`,JSON.stringify(_))}},[P,O,e,n,G]),u.useEffect(()=>{if(G&&G.questions){const _=G.questions.length,W=Object.keys(O).length;W===_&&W>0?Ue(!0):Ue(!1)}},[G,O]),u.useEffect(()=>{const _=setInterval(()=>{qe(new Date)},6e4);return()=>clearInterval(_)},[]),u.useEffect(()=>{if(!G||!l||!(xt||l.meetingId))return;const _=async()=>{try{const ge=await(await fetch(`${X}/study-groups/${e}/quiz/completion`,{headers:qt(t)})).json();It(ge)}catch(ce){console.error("Failed to fetch completion status",ce)}};_();const W=setInterval(_,2e3);return()=>clearInterval(W)},[G,xt,e,t,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{if(q||!l||l.meetingId)return;const _=new WebSocket(Qk(t));return D.current=_,k(!1),_.onopen=()=>{k(!0),_.send(JSON.stringify({type:"room:join",roomId:e}))},_.onclose=()=>{k(!1)},_.onmessage=W=>{try{const ce=JSON.parse(W.data);if((ce==null?void 0:ce.type)==="room:error"){z.error(ce.message||"Unable to join room");return}if((ce==null?void 0:ce.type)!=="room:message"||!(ce!=null&&ce.message))return;const ge=ce.message;if(ge.roomId!==e)return;h(Se=>{if(ge.clientId){const $e=Se.findIndex(Qe=>Qe.clientId===ge.clientId);if($e!==-1){const Qe=[...Se];return Qe[$e]={...ge,pending:!1},Qe}}return[...Se,ge]})}catch(ce){console.error("Failed to parse room chat message:",ce)}},()=>{try{_.send(JSON.stringify({type:"room:leave",roomId:e}))}catch{}_.close(),D.current=null}},[e,t,q,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{if(!l||l.meetingId)return;const _=T.current;_&&E.current&&(_.scrollTop=_.scrollHeight)},[j,l==null?void 0:l.meetingId,l]),u.useEffect(()=>{if(q)return;const _=async()=>{try{const ge=await(await fetch(`${X}/study-groups/${e}/presence`,{headers:qt(t)})).json();ge.presence&&g(ge.presence)}catch{}};_();const W=setInterval(_,2e3);return()=>clearInterval(W)},[e,t,q]);const vt=async()=>{try{const W=await(await fetch(`${X}/study-groups/${e}/quiz/files`,{headers:qt(t)})).json();U(W.files||[])}catch(_){console.error("Failed to load quiz files",_)}},Ke=async()=>{try{const W=await(await fetch(`${X}/study-groups/${e}/quiz`,{headers:qt(t)})).json();if(W.quiz){L(W.quiz);const ce=localStorage.getItem(`quiz-progress-${e}-${n}`);if(ce)try{const ge=JSON.parse(ce);I(ge.currentQuestionIndex||0);const Se=ge.userAnswers||{};oe(Se);for(const[$e,Qe]of Object.entries(Se)){const Nt=parseInt($e);try{await fetch(`${X}/study-groups/${e}/quiz/answer`,{method:"POST",headers:{...qt(t),"Content-Type":"application/json"},body:JSON.stringify({questionId:Nt,answer:Qe})})}catch(Pt){console.error("Failed to sync answer to backend:",Pt)}}}catch(ge){console.error("Failed to parse saved progress",ge)}}}catch(_){console.error("Failed to load quiz",_)}},B=async _=>{var ce;const W=(ce=_.target.files)==null?void 0:ce[0];if(W){H(!0);try{const ge=new FormData;ge.append("file",W);const Se=await fetch(`${X}/study-groups/${e}/quiz/upload`,{method:"POST",headers:qt(t),body:ge});if(!Se.ok){const Qe=await Se.json();throw new Error(Qe.error||"Upload failed")}const $e=await Se.json();z.success(`File uploaded! (${$e.fileCount}/${$e.maxFiles})`),await vt()}catch(ge){console.error("Upload error:",ge),z.error(ge instanceof Error?ge.message:"Failed to upload file")}finally{H(!1),We.current&&(We.current.value="")}}},V=async()=>{b(!0),ye(!1);try{const _=await fetch(`${X}/study-groups/${e}/quiz/generate`,{method:"POST",headers:{...qt(t),"Content-Type":"application/json"},body:JSON.stringify({count:Pe,difficulty:be})});if(!_.ok){const ce=await _.json();throw new Error(ce.error||"Failed to generate quiz")}const W=await _.json();L(W.quiz),oe({}),I(0),we(!1),Ue(!1),localStorage.removeItem(`quiz-progress-${e}-${n}`),z.success("Quiz generated!")}catch(_){console.error("Generate quiz error:",_),z.error(_ instanceof Error?_.message:"Failed to generate quiz")}finally{b(!1)}},te=async(_,W)=>{oe(ce=>({...ce,[_]:W}));try{await fetch(`${X}/study-groups/${e}/quiz/answer`,{method:"POST",headers:{...qt(t),"Content-Type":"application/json"},body:JSON.stringify({questionId:_,answer:W})})}catch(ce){console.error("Submit answer error:",ce)}},ue=async()=>{try{const W=await(await fetch(`${X}/study-groups/${e}/quiz/results`,{headers:qt(t)})).json();me(W.results||[]),we(!0)}catch(_){console.error("Get results error:",_),z.error("Failed to load results")}},Re=async()=>{try{await fetch(`${X}/study/timer/start`,{method:"POST",headers:{...qt(t),"Content-Type":"application/json"}}),kt(!0),Et(Date.now()),Bt(0),z.success(" Timer started!")}catch(_){console.error("Failed to start timer:",_),z.error("Failed to start timer")}},Ne=async()=>{if(He)try{const W=await(await fetch(`${X}/study/timer/stop`,{method:"POST",headers:{...qt(t),"Content-Type":"application/json"}})).json();if(kt(!1),Et(null),Bt(0),W.newlyUnlocked&&W.newlyUnlocked.length>0)for(const ce of W.newlyUnlocked){const ge=ce==="bronze"?"":ce==="silver"?"":"";z.success(`${ge} Unlocked ${ce.toUpperCase()} medal!`)}z.success(` Timer stopped! Logged ${W.elapsedMinutes} minutes`)}catch(_){console.error("Failed to stop timer:",_),z.error("Failed to stop timer")}},Fe=async()=>{if(He&&await Ne(),y(!1),x.current){try{await fetch(`${X}/study-groups/${e}/presence`,{method:"DELETE",headers:qt(t)})}catch{}x.current=!1}o==null||o(),r()},et=()=>{if(!p.trim()||!D.current||!S)return;const _=crypto.randomUUID(),W=p.trim(),ce={id:_,clientId:_,roomId:e,senderId:n,senderName:"You",content:W,createdAt:new Date().toISOString(),pending:!0};h(ge=>[...ge,ce]),D.current.send(JSON.stringify({type:"room:send",roomId:e,content:W,clientId:_})),v("")};if(d)return s.jsx("div",{className:"flex items-center justify-center min-h-[40vh]",children:s.jsx("p",{className:"text-muted-foreground",children:"Loading room..."})});if(!l)return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Q,{variant:"ghost",size:"sm",onClick:r,className:"gap-2",children:[s.jsx(Cp,{className:"size-4"}),"Leave room"]}),s.jsx("p",{className:"text-muted-foreground",children:"Room not found."})]});const N=G==null?void 0:G.questions[P],R=!!l.meetingId,K=R||xt,de=`https://www.google.com/maps?q=${l?encodeURIComponent(l.location):""}&output=embed`,Y=()=>{if(l!=null&&l.meetingId){if(!a){window.location.hash=`meeting-${l.meetingId}`;return}a(l.meetingId)}};return s.jsxs("div",{className:"rounded-[28px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-y-auto space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"gap-2 border-red-200 text-red-600 hover:bg-red-50 hover:text-red-700",children:[s.jsx(Cp,{className:"size-4"}),"Leave room"]}),R&&s.jsxs(Q,{onClick:Y,size:"sm",className:"bg-blue-600 hover:bg-blue-700 gap-2",children:[s.jsx(Ks,{className:"size-4"}),"Open Zoom"]}),s.jsx(Ok,{open:w,onOpenChange:y,children:s.jsxs(Lk,{children:[s.jsxs(Bk,{children:[s.jsx(Wk,{children:"Leave room?"}),s.jsx(Hk,{children:"You will give up your seat and be removed from the participant list. You can re-join if there are seats left."})]}),s.jsxs(Uk,{children:[s.jsx(Gk,{children:"Cancel"}),s.jsx(Vk,{onClick:Fe,className:"bg-red-600 hover:bg-red-700",children:"Leave room"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[K?s.jsx("div",{className:`lg:col-span-2 rounded-2xl ${i} h-[520px] min-h-[280px] flex flex-col`,children:Be&&!pe?s.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-3xl font-bold mb-2 text-teal-600",children:"Quiz Completed!"}),s.jsxs("p",{className:"text-muted-foreground",children:["You've answered all ",G==null?void 0:G.questions.length," questions!"]})]}),!Oe.allCompleted&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Rn,{className:"size-5 text-blue-600 animate-spin"}),s.jsx("p",{className:"text-sm font-semibold text-blue-900",children:"Waiting for others..."})]}),s.jsxs("p",{className:"text-lg font-bold text-blue-700",children:[Oe.completed," / ",Oe.total," completed"]}),s.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Results will be available when everyone finishes"})]}),Oe.allCompleted&&s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:s.jsx("p",{className:"text-sm font-semibold text-green-900",children:" Everyone has completed the quiz!"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Q,{onClick:ue,size:"lg",className:"w-full",disabled:!Oe.allCompleted,children:[s.jsx(Dn,{className:"size-5 mr-2"}),"View Results"]}),s.jsx(Q,{variant:"outline",onClick:()=>{Ue(!1),I(0),an(!0)},className:"w-full",children:"Review Quiz"}),s.jsx(Q,{variant:"outline",onClick:()=>ye(!0),className:"w-full",children:"Start New Quiz"})]})]})}):pe?s.jsxs("div",{className:"flex-1 flex flex-col p-6 overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Quiz Results"}),s.jsx(Q,{variant:"outline",onClick:()=>we(!1),children:"Back to Quiz"})]}),s.jsx("div",{className:"space-y-6",children:je.map((_,W)=>s.jsxs(Xe,{className:"border-2",children:[s.jsx(dt,{className:"pb-3",children:s.jsxs(ft,{className:"text-base",children:["Q",W+1,". ",_.question]})}),s.jsxs(nt,{className:"space-y-3",children:[s.jsx("div",{className:"space-y-1",children:_.options.map((ce,ge)=>s.jsxs("div",{className:`p-2 rounded text-sm ${ge===_.correctAnswer?"bg-green-50 border border-green-500 font-semibold":"bg-gray-50"}`,children:[String.fromCharCode(65+ge),". ",ce,ge===_.correctAnswer&&" "]},ge))}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded",children:[s.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"Explanation:"}),s.jsx("p",{className:"text-sm text-gray-700",children:_.explanation})]}),s.jsxs("div",{className:"flex gap-4 text-sm font-medium pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[s.jsx(vj,{className:"size-4"}),s.jsxs("span",{children:[_.correctCount," Correct"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[s.jsx(Vg,{className:"size-4"}),s.jsxs("span",{children:[_.incorrectCount," Wrong"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[s.jsx(jj,{className:"size-4"}),s.jsxs("span",{children:[_.unansweredCount," Unanswered"]})]})]})]})]},_.questionId))}),s.jsx("div",{className:"mt-6 pt-6 border-t text-center",children:s.jsxs(Q,{onClick:()=>ye(!0),size:"lg",children:[s.jsx(Dn,{className:"size-5 mr-2"}),"Start New Quiz"]})})]}):G?s.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[s.jsxs("div",{className:"mb-4 flex items-center justify-between pb-4 border-b",children:[s.jsx("h3",{className:"text-lg font-bold",children:Je?"Review Quiz":"Group Quiz"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Question ",P+1," / ",G.questions.length]}),!Je&&s.jsx(Q,{variant:"outline",size:"sm",onClick:ue,disabled:!Oe.allCompleted,title:Oe.allCompleted?"View results":`Waiting for others (${Oe.completed}/${Oe.total} completed)`,children:"View Results"}),Je&&s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>{an(!1),Ue(!0)},children:"Exit Review"})]})]}),N&&s.jsxs("div",{className:"flex-1 flex flex-col space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-xl font-semibold mb-4",children:N.question}),s.jsx("div",{className:"space-y-3",children:N.options.map((_,W)=>{const ce=O[N.id]===W,ge=W===N.correctAnswer,Se=Je&&ce&&!ge;let $e="w-full p-4 text-left rounded-lg border-2 transition-all ";return Je?ge?$e+="border-green-500 bg-green-50 ":Se?$e+="border-red-500 bg-red-50 ":$e+="border-gray-200 bg-gray-50 ":$e+=ce?"border-teal-500 bg-teal-50 ":"border-gray-200 hover:border-teal-300 hover:bg-gray-50 ",s.jsxs("button",{onClick:()=>!Je&&te(N.id,W),disabled:Je,className:$e,children:[s.jsxs("span",{className:"font-semibold",children:[String.fromCharCode(65+W),"."]})," ",_,Je&&ge&&s.jsx("span",{className:"ml-2 text-green-600 font-bold",children:" Correct"}),Je&&Se&&s.jsx("span",{className:"ml-2 text-red-600 font-bold",children:" Your Answer"})]},W)})})]}),s.jsxs("div",{className:"mt-auto flex justify-between pt-6 border-t",children:[s.jsx(Q,{variant:"outline",onClick:()=>I(_=>Math.max(0,_-1)),disabled:P===0,children:"Previous"}),s.jsx(Q,{onClick:()=>I(_=>Math.min(G.questions.length-1,_+1)),disabled:P===G.questions.length-1,children:"Next"})]})]})]}):s.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Group Quiz"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload study materials and generate a quiz for everyone!"})]}),s.jsxs("div",{className:"space-y-4 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"font-semibold",children:["Uploaded Files (",Z.length,"/",l.maxParticipants,")"]}),s.jsx(Q,{onClick:()=>{var _;return(_=We.current)==null?void 0:_.click()},disabled:F||Z.length>=l.maxParticipants,size:"sm",children:F?s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-4 mr-2 animate-spin"})," Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qg,{className:"size-4 mr-2"})," Upload"]})}),s.jsx("input",{ref:We,type:"file",className:"hidden",accept:".pdf,.txt,.jpg,.jpeg,.png,.mp3,.wav",onChange:B})]}),s.jsx("div",{className:"border rounded-lg p-4 max-h-[200px] overflow-y-auto",children:Z.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No files uploaded yet"}):s.jsx("div",{className:"space-y-2",children:Z.map(_=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(au,{className:"size-4 text-gray-400"}),s.jsx("span",{className:"flex-1",children:_.fileName}),s.jsx("span",{className:"text-xs text-gray-400",children:new Date(_.uploadedAt).toLocaleString()})]},_.id))})})]}),s.jsx("div",{className:"mt-auto",children:s.jsx(Q,{onClick:()=>ye(!0),disabled:Z.length===0||se,className:"w-full",size:"lg",children:se?s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-5 mr-2 animate-spin"})," Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-5 mr-2"})," Generate Quiz"]})})})]})}):s.jsx("div",{className:`lg:col-span-2 rounded-2xl overflow-hidden ${i} h-[520px] min-h-[280px]`,children:s.jsx("iframe",{title:"Meeting location",src:de,className:"w-full h-full",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),s.jsxs("div",{className:"lg:col-span-1 h-[520px] flex flex-col gap-4",children:[s.jsxs(Xe,{className:`flex-none rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsxs(ft,{className:"text-base flex items-center gap-2",children:[s.jsx(lu,{className:"size-4"}),"In this room (",f.length,")"]})}),s.jsx(nt,{children:s.jsx("ul",{className:"space-y-2",children:f.length===0?s.jsx("li",{className:"text-sm text-muted-foreground",children:"No one here yet"}):f.map(_=>s.jsxs("li",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx("span",{className:"size-2 rounded-full bg-teal-500"}),s.jsx("span",{children:_.username}),_.medal&&s.jsx("span",{className:"text-xs",title:`${_.medal} medal`,children:qk(_.medal)})]},_.id))})})]}),s.jsxs(Xe,{className:`flex-none rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsx(ft,{className:"text-base flex items-center gap-2",children:" Personal Study Timer"})}),s.jsxs(nt,{className:"space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-teal-600 font-mono",children:[Math.floor(jt/3600).toString().padStart(2,"0"),":",Math.floor(jt%3600/60).toString().padStart(2,"0"),":",(jt%60).toString().padStart(2,"0")]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:He?"Time elapsed":"Start timer to track your study"})]}),He?s.jsx(Q,{onClick:Ne,variant:"outline",className:"w-full",size:"sm",children:" Stop Timer"}):s.jsx(Q,{onClick:Re,className:"w-full",size:"sm",children:" Start Timer"})]})]}),!R&&s.jsxs(Xe,{className:`flex-1 flex flex-col overflow-hidden min-h-[320px] rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsxs(ft,{className:"text-base flex items-center justify-between",children:[s.jsx("span",{children:"Room chat"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:S?"Live":"Connecting..."})]})}),s.jsxs(nt,{className:"flex-1 min-h-0 flex flex-col gap-3",children:[s.jsx("div",{ref:T,className:"flex-1 min-h-0 overflow-y-auto space-y-2 rounded-2xl border border-gray-200/60 bg-white/70 p-3",onScroll:_=>{const W=_.currentTarget,ce=W.scrollHeight-W.scrollTop-W.clientHeight;E.current=ce<32},children:j.length===0?s.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-400",children:"No messages yet. Say hi!"}):j.map(_=>{const W=_.senderId===n;return s.jsx("div",{className:`flex ${W?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[80%] rounded-2xl px-3 py-2 text-xs ${W?"bg-emerald-500 text-white":"bg-gray-100 text-gray-700"} ${_.pending?"opacity-70":""}`,children:[!W&&s.jsx("p",{className:"text-[10px] font-semibold mb-1",children:_.senderName}),s.jsx("p",{className:"whitespace-pre-wrap",children:_.content}),s.jsx("p",{className:"mt-1 text-[10px] opacity-70",children:new Date(_.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})},_.id)})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{className:"flex-1 h-9 rounded-md border border-input bg-transparent px-3 text-xs shadow-sm focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",placeholder:"Type a message...",value:p,onChange:_=>v(_.target.value),onKeyDown:_=>{_.key==="Enter"&&(_.preventDefault(),et())}}),s.jsx(Q,{size:"sm",onClick:et,disabled:!p.trim()||!S,children:"Send"})]})]})]})]})]}),!K&&l&&!l.meetingId&&s.jsxs(Xe,{className:`rounded-2xl ${i}`,children:[s.jsx(dt,{className:"pb-2",children:s.jsx(ft,{className:"text-lg",children:"Meeting Information"})}),s.jsxs(nt,{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Dn,{className:"size-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Topic:"})," ",l.topic]})]}),s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(lu,{className:"size-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Location:"})," ",l.location]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Date:"})," ",l.date]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Time:"})," ",l.time||""]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground pt-2 border-t",children:[(l.participantsWithNames??[]).length," / ",l.maxParticipants," participants"]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mt-4",children:[s.jsx("p",{className:"text-sm text-blue-900",children:s.jsxs("strong",{children:[" Quiz will be available at ",l.time]})}),s.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Review the location and prepare your study materials!"})]})]})]}),ae&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs(Xe,{className:`w-full max-w-md mx-4 rounded-2xl ${i}`,children:[s.jsxs(dt,{children:[s.jsx(ft,{className:"text-2xl",children:"Generate Quiz"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your quiz settings"})]}),s.jsxs(nt,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Number of Questions"}),s.jsx("div",{className:"flex gap-3",children:[20,25,30].map(_=>s.jsx(Q,{variant:Pe===_?"default":"outline",onClick:()=>xe(_),className:"flex-1",children:_},_))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold mb-3 block",children:"Difficulty Level"}),s.jsx("div",{className:"flex flex-col gap-2",children:[{value:"easy",label:"Easy",desc:"Basic concepts and definitions",emoji:""},{value:"medium",label:"Medium",desc:"Balanced understanding and application",emoji:""},{value:"hard",label:"Hard",desc:"Deep analysis and critical thinking",emoji:""}].map(_=>s.jsx(Q,{variant:be===_.value?"default":"outline",onClick:()=>ke(_.value),className:"w-full justify-start h-auto py-3",children:s.jsxs("div",{className:"flex items-start gap-3 text-left",children:[s.jsx("span",{className:"text-2xl",children:_.emoji}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:_.label}),s.jsx("div",{className:"text-xs opacity-80",children:_.desc})]})]})},_.value))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(Q,{variant:"outline",onClick:()=>ye(!1),className:"flex-1",children:"Cancel"}),s.jsx(Q,{onClick:V,disabled:se,className:"flex-1",children:se?s.jsxs(s.Fragment,{children:[s.jsx(Rn,{className:"size-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dn,{className:"size-4 mr-2"}),"Generate Quiz"]})})]})]})]})})]})}function lm({meetingId:e,accessToken:t,userName:n="Guest",onBack:r,zoomContainerRef:o,onMeetingJoined:a}){var se,b;const[i,l]=u.useState(null),[c,d]=u.useState(!0),[m,f]=u.useState(null),[g,w]=u.useState(!1),[y,x]=u.useState(!1),[j,h]=u.useState(""),[p,v]=u.useState(null),[S,k]=u.useState({cameras:[],mics:[]}),[T,E]=u.useState(""),[D,q]=u.useState(""),[$,Z]=u.useState(null),U=u.useRef(null),F=u.useRef(null),H=u.useRef(null),G=async()=>{var P;try{const I=H.current;I&&typeof I.leaveMeeting=="function"&&await I.leaveMeeting.call(I,{confirm:!1});const O=(await nu(async()=>{const{default:oe}=await import("./embedded-Dwdh42pw.js").then(pe=>pe.e);return{default:oe}},[])).default;(P=O.destroyClient)==null||P.call(O)}catch{}finally{H.current=null,r()}};u.useEffect(()=>()=>{if(o)H.current=null;else{const P=H.current;P&&typeof P.leaveMeeting=="function"&&P.leaveMeeting().catch(()=>{}),H.current=null}p==null||p.getTracks().forEach(P=>P.stop())},[o]),u.useEffect(()=>{if(!i)return;let P=null;return(async()=>{try{Z(null);const O={video:T?{deviceId:{exact:T}}:!0,audio:D?{deviceId:{exact:D}}:!0};P=await navigator.mediaDevices.getUserMedia(O),v(P);const oe=await navigator.mediaDevices.enumerateDevices();k({cameras:oe.filter(pe=>pe.kind==="videoinput"),mics:oe.filter(pe=>pe.kind==="audioinput")})}catch(O){Z(O instanceof Error?O.message:"Could not access camera/microphone")}})(),()=>{P==null||P.getTracks().forEach(O=>O.stop())}},[i==null?void 0:i.meetingId,T,D]),u.useEffect(()=>{!p||!U.current||(U.current.srcObject=p)},[p]),u.useEffect(()=>{let P=!1;return(async()=>{try{const I=await fetch(`${X}/api/meetings/${e}`);if(I.ok){const O=await I.json();P||(l(O),h(O.password||""))}else P||l(null)}catch{P||l(null)}finally{P||d(!1)}})(),()=>{P=!0}},[e]);const L=async()=>{var I;const P=(o==null?void 0:o.current)??F.current;if(!(!i||!P)){f(null),p==null||p.getTracks().forEach(O=>O.stop()),v(null),w(!0);try{const O=await fetch(`${X}/api/zoom/sdk-jwt`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingNumber:i.zoomMeetingNumber,role:0})}),oe=await O.json();if(!O.ok)throw new Error(oe.error||"Failed to get meeting token");const{signature:pe,sdkKey:we,meetingNumber:je}=oe,me=(await nu(async()=>{const{default:xe}=await import("./embedded-Dwdh42pw.js").then(be=>be.e);return{default:xe}},[])).default;(I=me.destroyClient)==null||I.call(me);const ae=me.createClient();H.current=ae;const ye=await ae.init({zoomAppRoot:P,language:"en-US",patchJsMedia:!0,customize:{video:{defaultViewType:"speaker"}}});if(typeof ye=="object"&&"reason"in ye)throw new Error(ye.reason||"Zoom init failed");const Pe=await ae.join({signature:pe,meetingNumber:je,password:j.trim()||"",userName:n});if(typeof Pe=="object"&&Pe!==null){const xe=Pe;if("reason"in xe&&xe.reason)throw new Error(xe.reason);if("type"in xe)throw new Error(xe.type||"Join failed")}w(!1),x(!0),a==null||a(ae)}catch(O){const oe=O instanceof Error?O.message:typeof O=="object"&&O!==null&&"reason"in O?String(O.reason):typeof O=="object"&&O!==null&&"message"in O?String(O.message):String(O);f(oe||"Failed to join meeting"),w(!1)}}};return c?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[s.jsx(Rn,{className:"size-10 animate-spin text-gray-400"}),s.jsx("p",{className:"text-gray-500",children:"Loading meeting..."})]}):i?s.jsxs("div",{className:"flex flex-col h-[calc(100vh-6rem)]",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs(Q,{variant:"ghost",size:"sm",onClick:G,children:[s.jsx(ou,{className:"size-4 mr-2"}),"Leave"]}),s.jsx("h1",{className:"text-lg font-semibold truncate max-w-[50%]",children:i.topic||"Zoom Meeting"}),s.jsx("div",{className:"w-20"})]}),s.jsxs("div",{className:"flex-1 min-h-0 rounded-xl overflow-auto border border-gray-200 bg-[#1a1a1a] flex flex-col relative",children:[s.jsx("div",{ref:F,className:`flex-1 w-full min-h-[480px] h-full relative ${o&&y?"hidden":""}`,style:{minHeight:"60vh"}}),o&&y&&s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 p-6 text-white/70 text-sm text-center",children:[s.jsx("p",{children:"Meeting is in the floating window. You can go to other pages and keep the call."}),s.jsx(Q,{variant:"outline",size:"sm",onClick:G,className:"border-red-500/50 text-red-400 hover:bg-red-500/10 hover:text-red-300",children:"Leave"})]}),!y&&!g&&!m&&s.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col bg-[#1a1a1a] p-4",children:[s.jsx("p",{className:"text-sm text-white/80 text-center mb-2",children:"Check your camera and microphone before joining"}),s.jsx("div",{className:"flex-1 min-h-[200px] rounded-lg overflow-hidden bg-black flex items-center justify-center",children:$?s.jsxs("div",{className:"text-center p-4 text-white/90",children:[s.jsx(cb,{className:"size-12 mx-auto mb-2 opacity-70"}),s.jsx("p",{className:"text-sm",children:$}),s.jsx("p",{className:"text-xs text-white/60 mt-1",children:"Allow camera/mic in browser settings and refresh."})]}):s.jsx("video",{ref:U,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}})}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[S.cameras.length>1&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(ve,{className:"text-xs text-white/80 flex items-center gap-1.5",children:[s.jsx(Ks,{className:"size-3.5"}),"Camera"]}),s.jsxs(Rr,{value:T||((se=S.cameras[0])==null?void 0:se.deviceId),onValueChange:E,children:[s.jsx(Mr,{className:"bg-white/10 border-white/20 text-white",children:s.jsx(Ar,{placeholder:"Camera"})}),s.jsx(zr,{children:S.cameras.map(P=>s.jsx(tt,{value:P.deviceId,children:P.label||`Camera ${S.cameras.indexOf(P)+1}`},P.deviceId))})]})]}),S.mics.length>1&&s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs(ve,{className:"text-xs text-white/80 flex items-center gap-1.5",children:[s.jsx(qg,{className:"size-3.5"}),"Microphone"]}),s.jsxs(Rr,{value:D||((b=S.mics[0])==null?void 0:b.deviceId),onValueChange:q,children:[s.jsx(Mr,{className:"bg-white/10 border-white/20 text-white",children:s.jsx(Ar,{placeholder:"Microphone"})}),s.jsx(zr,{children:S.mics.map(P=>s.jsx(tt,{value:P.deviceId,children:P.label||`Mic ${S.mics.indexOf(P)+1}`},P.deviceId))})]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[s.jsxs("p",{className:"text-sm text-white/80",children:["Meeting: ",s.jsx("strong",{className:"text-white",children:i.zoomMeetingNumber})]}),s.jsxs(Q,{onClick:L,disabled:g,className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Ks,{className:"size-4 mr-2"}),"Join with Zoom"]})]}),s.jsxs("div",{className:"max-w-xs mx-auto space-y-1.5",children:[s.jsx(ve,{htmlFor:"meeting-passcode",className:"text-xs text-white/60",children:"Meeting passcode (if required)"}),s.jsx(Ee,{id:"meeting-passcode",type:"password",placeholder:"Enter passcode",value:j,onChange:P=>h(P.target.value),className:"text-sm bg-white/10 border-white/20 text-white placeholder:text-white/50"})]})]})]}),g&&s.jsxs("div",{className:"p-4 border-t bg-white flex items-center justify-center gap-2",children:[s.jsx(Rn,{className:"size-5 animate-spin text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Joining meeting..."})]}),m&&s.jsxs("div",{className:"p-4 border-t bg-amber-50 space-y-3",children:[s.jsx("p",{className:"text-sm text-amber-800 text-center",children:m}),m.toLowerCase().includes("already has other meetings")&&s.jsx("p",{className:"text-xs text-gray-600 text-center max-w-md mx-auto",children:"Close other Zoom meeting tabs or windows, then click Leave on this page and try again in a few seconds."}),(m.toLowerCase().includes("cross account")||m.toLowerCase().includes("external zoom account"))&&s.jsxs("div",{className:"text-xs text-gray-600 text-center max-w-md mx-auto space-y-1",children:[s.jsxs("p",{children:["To join meetings hosted by another Zoom account, your Meeting SDK app must be ",s.jsx("strong",{children:"published on the Zoom Marketplace"}),"."]}),s.jsx("p",{children:"See developers.zoom.us and Zoom API License Terms of Use (Section 6.1). Until then, create meetings with the same Zoom account that owns this SDK app."})]}),s.jsxs("div",{className:"max-w-xs mx-auto space-y-1.5",children:[s.jsx(ve,{htmlFor:"meeting-passcode-retry",className:"text-xs text-gray-600",children:"Meeting passcode (check Zoom invite if wrong)"}),s.jsx(Ee,{id:"meeting-passcode-retry",type:"password",placeholder:"Enter passcode",value:j,onChange:P=>h(P.target.value),className:"text-sm"})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Q,{variant:"outline",size:"sm",onClick:L,children:"Try again"})})]})]})]}):s.jsxs(Xe,{className:"max-w-md mx-auto",children:[s.jsx(dt,{children:s.jsxs(ft,{className:"flex items-center gap-2",children:[s.jsx(gj,{className:"size-5 text-amber-500"}),"Meeting not found"]})}),s.jsxs(nt,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"This meeting link is invalid or the meeting has been removed."}),s.jsxs(Q,{variant:"outline",onClick:r,children:[s.jsx(ou,{className:"size-4 mr-2"}),"Back"]})]})]})}const Kk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function Zk(e){const t=new Date(e),n=t.getDay(),r=t.getDate()-n+(n===0?-6:1),o=new Date(t.setDate(r));o.setHours(0,0,0,0);const a=new Date(o);return a.setDate(a.getDate()+6),a.setHours(23,59,59,999),{start:o,end:a}}function kn(e){return e.toISOString().split("T")[0]}function cm(e,t){const n=new Date(`${e}T00:00:00`);return Number.isNaN(n.getTime())?e:(n.setDate(n.getDate()+t),kn(n))}function um(e){const t=g=>String(Math.floor(Math.abs(g))).padStart(2,"0"),n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),i=String(e.getMinutes()).padStart(2,"0"),l=String(e.getSeconds()).padStart(2,"0"),c=-e.getTimezoneOffset(),d=c>=0?"+":"-",m=t(Math.trunc(c/60)),f=t(c%60);return`${n}-${r}-${o}T${a}:${i}:${l}${d}${m}:${f}`}function Xk({accessToken:e}){const[t,n]=u.useState(new Date),[r,o]=u.useState([]),[a,i]=u.useState([]),[l,c]=u.useState([]),[d,m]=u.useState(!1),[f,g]=u.useState(!1),[w,y]=u.useState(null),[x,j]=u.useState(!1),[h,p]=u.useState(!1),[v,S]=u.useState(!1),[k,T]=u.useState({title:"",info:"",deadline:"",time:""}),[E,D]=u.useState(null),[q,$]=u.useState(new Date),[Z,U]=u.useState(null),[F,H]=u.useState(null),G=u.useRef(null),L=u.useCallback(async()=>{try{const R=await(await fetch(`${X}/calendar/tasks`,{headers:{Authorization:`Bearer ${e}`}})).json();o(R.tasks||[])}catch(N){console.error("Failed to fetch calendar tasks:",N)}},[e]);u.useEffect(()=>{L()},[L]);const se=u.useMemo(()=>r.filter(N=>!N.completed),[r]),b=u.useMemo(()=>r.filter(N=>N.completed),[r]),P=u.useMemo(()=>[...se,...a],[se,a]),I=P.reduce((N,R)=>{const K=R.deadline;return N[K]||(N[K]=[]),N[K].push(R),N},{}),O=kn(new Date),pe=(()=>{const N=[];for(let R=0;R<7;R++){const K=new Date;K.setDate(K.getDate()+R),N.push(kn(K))}return N})(),we=P.filter(N=>pe.includes(N.deadline));we.sort((N,R)=>{const K=N.deadline.localeCompare(R.deadline);return K!==0?K:(N.time||"").localeCompare(R.time||"")});const{start:je,end:me}=Zk(q),ae=b.filter(N=>{const K=(N.completedAt?new Date(N.completedAt):null)||new Date(N.deadline),le=kn(K);return le>=kn(je)&&le<=kn(me)}),ye=l.filter(N=>{const K=(N.completedAt?new Date(N.completedAt):null)||new Date(N.deadline),le=kn(K);return le>=kn(je)&&le<=kn(me)}),Pe=[...ae,...ye];Pe.sort((N,R)=>(N.deadline||"").localeCompare(R.deadline||""));const xe=async N=>{var le;if(!(N!=null&&N.length))return;const R=N[0],K=new FormData;K.append("file",R),S(!0);try{const Y=await(await fetch(`${X}/calendar/tasks/extract-from-file`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:K})).json();if(Y.error){z.error(Y.error);return}(le=Y.tasks)!=null&&le.length?(o(_=>[..._,...Y.tasks]),z.success(`${Y.tasks.length} task(s) added to calendar.`)):z.info("No tasks extracted from file.")}catch(de){console.error("Upload error:",de),z.error("Failed to process file.")}finally{S(!1),p(!1)}},be=N=>{N.preventDefault(),p(!1),xe(N.dataTransfer.files)},ke=async N=>{if(N.source==="google"){try{const R=It(N);if(!R)throw new Error("Missing Google event id");const K=await fetch(`${X}/google/calendar/events/${encodeURIComponent(R)}?calendarId=primary`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!K.ok&&K.status!==204){const de=await K.json().catch(()=>({})),Y=String((de==null?void 0:de.error)||"Failed to delete Google event");if((de==null?void 0:de.error)==="GOOGLE_NOT_CONNECTED"){z.error("Google not connected. Reconnecting"),await Fe(!0);return}if(Y.includes("insufficient")||Y.toLowerCase().includes("permission")||Y.includes("Forbidden")){z.error("Google permission missing. Reconnect Google to allow deletes."),await Fe(!0);return}throw new Error(Y)}const le=new Date().toISOString();i(de=>de.filter(Y=>Y.id!==N.id)),c(de=>[{...N,completed:!0,completedAt:le,googleDeleted:!0},...de]),z.success("Google event completed (deleted).")}catch(R){console.error("Google complete error:",R),z.error("Failed to complete Google event.")}return}try{const K=await(await fetch(`${X}/calendar/tasks/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...N,completed:!0,completedAt:new Date().toISOString()})})).json();K.task&&(o(le=>le.map(de=>de.id===N.id?K.task:de)),y(null),D(null),z.success("Task completed."))}catch(R){console.error("Complete error:",R),z.error("Failed to complete task.")}},Be=async N=>{if(N.source==="google"){try{const{start:R,end:K}=We(N),le=await fetch(`${X}/google/calendar/events`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({calendarId:"primary",start:R,end:K,summary:N.title,description:N.info})}),de=await le.json().catch(()=>({}));if(!le.ok){const Y=String((de==null?void 0:de.error)||"Failed to create Google event");if((de==null?void 0:de.error)==="GOOGLE_NOT_CONNECTED"){z.error("Google not connected. Reconnecting"),await Fe(!0);return}if(Y.includes("insufficient")||Y.toLowerCase().includes("permission")||Y.includes("Forbidden")){z.error("Google permission missing. Reconnect Google to allow restores."),await Fe(!0);return}throw new Error(Y)}c(Y=>Y.filter(_=>_.id!==N.id)),await Ne(t),z.success("Google event restored.")}catch(R){console.error("Google undo error:",R),z.error("Failed to restore Google event.")}return}try{const K=await(await fetch(`${X}/calendar/tasks/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({...N,completed:!1,completedAt:null})})).json();K.task&&(o(le=>le.map(de=>de.id===N.id?K.task:de)),z.success("Task restored."))}catch(R){console.error("Undo error:",R),z.error("Failed to undo.")}},Ue=N=>{N.preventDefault(),N.stopPropagation(),p(!0)},ot=N=>{N.preventDefault(),N.stopPropagation(),p(!1)},qe=async()=>{var R;if(!k.title.trim()){z.error("Please enter a title.");return}const N=k.deadline||O;try{const le=await(await fetch(`${X}/calendar/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:k.title.trim(),info:k.info.trim(),deadline:N,time:((R=k.time)==null?void 0:R.trim())||null})})).json();le.task&&(o(de=>[...de,le.task]),T({title:"",info:"",deadline:"",time:""}),j(!1),z.success("Task added."))}catch(K){console.error("Add task error:",K),z.error("Failed to add task.")}},Oe=async N=>{if(N.source==="google"){z.info("Google Calendar events are read-only.");return}try{await fetch(`${X}/calendar/tasks/${N.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}}),o(R=>R.filter(K=>K.id!==N.id)),y(null),D(null),z.success("Task deleted.")}catch(R){console.error("Delete task error:",R),z.error("Failed to delete task.")}};function It(N){var R;return N.googleEventId||((R=N.id)!=null&&R.startsWith("gcal:")?N.id.slice(5):"")}function We(N){const R=Intl.DateTimeFormat().resolvedOptions().timeZone;if(N.googleIsAllDay){const Se=Math.max(1,Number(N.googleAllDayDurationDays)||1);return{start:{date:N.deadline},end:{date:cm(N.deadline,Se)}}}const[K,le,de]=String(N.deadline).split("-").map(Se=>Number(Se)),[Y,_]=String(N.time||"00:00").split(":").map(Se=>Number(Se)),W=new Date(K,(le||1)-1,de||1,Y||0,_||0,0),ce=Math.max(1,Number(N.googleDurationMs)||60*60*1e3),ge=new Date(W.getTime()+ce);return{start:{dateTime:um(W),timeZone:R},end:{dateTime:um(ge),timeZone:R}}}const Je=async N=>{var _;if(N.googleDeleted){z.info("This Google event was deleted. Undo to restore it.");return}const R=It(N);if(!R)throw new Error("Missing Google event id");if(!((_=N.title)!=null&&_.trim()))throw new Error("Please enter a title.");const{start:K,end:le}=We(N),de=await fetch(`${X}/google/calendar/events/${encodeURIComponent(R)}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({calendarId:"primary",start:K,end:le,summary:N.title,description:N.info})}),Y=await de.json().catch(()=>({}));if(!de.ok){const W=String((Y==null?void 0:Y.error)||"Failed to update Google event");if((Y==null?void 0:Y.error)==="GOOGLE_NOT_CONNECTED"){z.error("Google not connected. Reconnecting"),await Fe(!0);return}if(W.includes("insufficient")||W.toLowerCase().includes("permission")||W.includes("Forbidden")){z.error("Google permission missing. Reconnect Google to allow edits."),await Fe(!0);return}throw new Error(W)}await Ne(t),z.success("Google event updated.")},an=u.useCallback(async(N,R)=>{var de;if(!R||N.deadline===R)return;if(N.source==="google"){await Je({...N,deadline:R});return}const K=await fetch(`${X}/calendar/tasks/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:N.title,info:N.info,deadline:R,time:((de=N.time)==null?void 0:de.trim())||null,completed:!!N.completed,completedAt:N.completed?N.completedAt??new Date().toISOString():null})}),le=await K.json().catch(()=>({}));if(!K.ok||!(le!=null&&le.task))throw new Error(String((le==null?void 0:le.error)||"Failed to move task"));o(Y=>Y.map(_=>_.id===N.id?le.task:_))},[e,Je]),He=async()=>{var R;if(!E)return;if(E.source==="google"){try{await Je(E),y(null),D(null)}catch(K){console.error("Google update error:",K),z.error("Failed to update Google event.")}return}if(!E.title.trim()){z.error("Please enter a title.");return}const N=!!E.completed;try{const le=await(await fetch(`${X}/calendar/tasks/${E.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({title:E.title.trim(),info:E.info.trim(),deadline:E.deadline,time:((R=E.time)==null?void 0:R.trim())||null,completed:N,completedAt:N?new Date().toISOString():null})})).json();le.task&&(o(de=>de.map(Y=>Y.id===E.id?le.task:Y)),y(null),D(null),z.success(N?"Task completed.":"Task updated."))}catch(K){console.error("Update task error:",K),z.error("Failed to update task.")}},kt=(N,R,K)=>{N.dataTransfer.setData("application/json",JSON.stringify({taskId:R.id})),N.dataTransfer.effectAllowed="move",U(R.id),G.current=K},jt=()=>{U(null),G.current=null},Bt=N=>{N.preventDefault();try{const R=N.dataTransfer.getData("application/json");if(!R)return;const{taskId:K}=JSON.parse(R),le=P.find(de=>de.id===K);le&&ke(le)}catch{}},pt=(N,R)=>{N.preventDefault(),N.dataTransfer.dropEffect="move",H(R)},Et=async(N,R)=>{N.preventDefault(),H(null);try{const K=N.dataTransfer.getData("application/json");if(!K)return;const{taskId:le}=JSON.parse(K),de=P.find(Y=>Y.id===le);if(!de)return;await an(de,R),z.success("Moved.")}catch(K){console.error("Move error:",K),z.error("Failed to move.")}},xt=N=>{N.preventDefault(),N.dataTransfer.dropEffect="move"},vt=N=>{const R=kn(N);return I[R]||[]},Ke=({task:N,source:R,compact:K=!1})=>s.jsxs("div",{draggable:!0,onDragStart:le=>{kt(le,N,R)},onDragEnd:()=>{jt()},className:De("flex items-center gap-1 rounded transition-colors",N.source==="google"?"bg-sky-50 text-sky-800 hover:bg-sky-100 cursor-grab active:cursor-grabbing":"bg-teal-50 text-teal-800 hover:bg-teal-100 cursor-grab active:cursor-grabbing",K?"text-[10px] px-1.5 py-1":"text-xs px-2 py-1.5",Z===N.id&&"opacity-50"),onClick:()=>{y(N),D({...N})},children:[s.jsx(Rj,{className:"size-3 shrink-0 opacity-50"}),s.jsxs("span",{className:"truncate flex-1",children:[N.time?`${N.time} `:"",N.title]})]}),B=u.useCallback(N=>{const R=new Date(N.getFullYear(),N.getMonth(),1);R.setHours(0,0,0,0);const K=new Date(N.getFullYear(),N.getMonth()+1,0);return K.setHours(23,59,59,999),{timeMin:R.toISOString(),timeMax:K.toISOString()}},[]),V=u.useCallback(N=>{const R=String(N.getHours()).padStart(2,"0"),K=String(N.getMinutes()).padStart(2,"0");return`${R}:${K}`},[]),te=u.useCallback(N=>{const R=String(N.getFullYear()),K=String(N.getMonth()+1).padStart(2,"0"),le=String(N.getDate()).padStart(2,"0");return`${R}-${K}-${le}`},[]),ue=u.useCallback(N=>Array.isArray(N)?N.map(R=>{const K=R!=null&&R.id?String(R.id):null,le=K?`gcal:${K}`:null,de=String((R==null?void 0:R.summary)||"Google event"),Y=(R==null?void 0:R.start)||{},_=(R==null?void 0:R.end)||{},W=Y.dateTime||Y.date||null,ce=_.dateTime||_.date||null;if(!le||!W)return null;const ge=!!(Y.date&&!Y.dateTime),Se=new Date(W),$e=ce?new Date(ce):new Date(Se.getTime()+60*60*1e3),Qe=ge?String(Y.date):te(Se),Nt=ge?null:V(Se),Pt=Math.max(0,$e.getTime()-Se.getTime()),br=ge?Math.max(1,Math.round((new Date(String(_.date||cm(String(Y.date),1))).getTime()-new Date(String(Y.date)).getTime())/(24*60*60*1e3))):void 0,Tt=[R==null?void 0:R.location,R==null?void 0:R.description].filter(Boolean).map(String);return{id:le,title:de,info:Tt.join("  "),deadline:Qe,time:Nt,completed:!1,completedAt:null,source:"google",url:R!=null&&R.htmlLink?String(R.htmlLink):null,googleEventId:K||void 0,googleIsAllDay:ge,googleDurationMs:ge?void 0:Pt,googleAllDayDurationDays:br}}).filter(Boolean):[],[V,te]),Re=u.useCallback(async()=>{try{const R=await(await fetch(`${X}/google/status`,{headers:{Authorization:`Bearer ${e}`}})).json(),K=!!(R!=null&&R.connected);return m(K),K}catch{return m(!1),!1}},[e]),Ne=u.useCallback(async N=>{g(!0);try{const{timeMin:R,timeMax:K}=B(N),le=await fetch(`${X}/google/calendar/events?timeMin=${encodeURIComponent(R)}&timeMax=${encodeURIComponent(K)}`,{headers:{Authorization:`Bearer ${e}`}}),de=await le.json();if(!le.ok){if((de==null?void 0:de.error)==="GOOGLE_NOT_CONNECTED"){m(!1),i([]);return}throw new Error((de==null?void 0:de.error)||"Failed to sync")}const Y=ue((de==null?void 0:de.events)||[]);i(Y),m(!0)}finally{g(!1)}},[e,B,ue]),Fe=u.useCallback(async(N=!1)=>{const R=`${X}/google/oauth/url${N?"?force=1":""}`,K=await fetch(R,{headers:{Authorization:`Bearer ${e}`}}),le=await K.json();if(!K.ok||!(le!=null&&le.url))throw new Error((le==null?void 0:le.error)||"Failed to start Google login");window.location.href=String(le.url)},[e]),et=u.useCallback(async()=>{g(!0);try{if(!await Re()){await Fe();return}await Ne(t),z.success("Google Calendar synced.")}catch(N){console.error(N),z.error("Google sync failed."),g(!1)}},[t,Ne,Re,Fe]);return u.useEffect(()=>{const N=new URLSearchParams(window.location.search),R=N.get("google");if(!R)return;N.delete("google");const K=N.toString();if(window.history.replaceState({},"",`${window.location.pathname}${K?`?${K}`:""}${window.location.hash}`),R==="connected"){z.success("Google connected."),m(!0),Ne(t).catch(()=>{});return}R==="error"&&z.error("Google connection failed.")},[t,Ne]),u.useEffect(()=>{Re().catch(()=>{})},[Re]),u.useEffect(()=>{d&&Ne(t).catch(()=>{})},[t,d,Ne]),s.jsxs("div",{className:"rounded-[36px] bg-white/60 shadow-[0_30px_80px_rgba(15,23,42,0.08)] p-6 h-[720px] overflow-hidden",children:[s.jsx("div",{className:"h-full flex flex-col min-w-0",children:s.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-0",children:[s.jsxs("div",{className:"lg:col-span-2 flex flex-col min-h-0 rounded-2xl bg-white shadow-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 shrink-0",children:[s.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Calendar"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:et,disabled:f,className:"gap-2",title:d?"Sync Google Calendar":"Connect Google Calendar",children:[s.jsx(Yj,{className:De("size-4",f&&"animate-spin")}),"Google sync"]}),s.jsx(Q,{variant:"outline",size:"icon",className:"size-8",onClick:()=>n(new Date(t.getFullYear(),t.getMonth()-1)),children:s.jsx(Sp,{className:"size-4"})}),s.jsx("span",{className:"text-sm font-medium min-w-[120px] text-center",children:t.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),s.jsx(Q,{variant:"outline",size:"icon",className:"size-8",onClick:()=>n(new Date(t.getFullYear(),t.getMonth()+1)),children:s.jsx(Np,{className:"size-4"})})]})]}),s.jsx("div",{className:"flex-1 overflow-auto p-4 min-h-0",children:s.jsxs("div",{className:"grid grid-cols-7 gap-px",children:[Kk.map(N=>s.jsx("div",{className:"text-center text-xs font-medium text-gray-500 py-2",children:N},N)),(()=>{const N=t.getFullYear(),R=t.getMonth(),K=new Date(N,R,1),le=new Date(N,R+1,0),de=K.getDay(),Y=le.getDate(),_=[];for(let W=0;W<de;W++)_.push(null);for(let W=1;W<=Y;W++)_.push(new Date(N,R,W));return _.map((W,ce)=>{if(!W)return s.jsx("div",{className:"min-h-[100px] bg-gray-50/50"},`empty-${ce}`);const ge=kn(W),Se=vt(W),$e=ge===O;return s.jsxs("div",{className:De("min-h-[100px] p-2 border border-gray-100 rounded-lg flex flex-col",$e&&"bg-teal-50/80 ring-1 ring-teal-200",F===ge&&"ring-2 ring-teal-300 bg-teal-50/40"),onDragOver:Qe=>pt(Qe,ge),onDragLeave:()=>H(null),onDrop:Qe=>Et(Qe,ge),children:[s.jsx("span",{className:De("text-sm font-medium mb-2",$e?"text-teal-700":"text-gray-700"),children:W.getDate()}),s.jsxs("div",{className:"flex-1 flex flex-col gap-1 overflow-y-auto",children:[Se.slice(0,4).map(Qe=>s.jsx(Ke,{task:Qe,source:"calendar",compact:!0},Qe.id)),Se.length>4&&s.jsxs("span",{className:"text-[9px] text-gray-400",children:["+",Se.length-4]})]})]},ge)})})()]})})]}),s.jsxs("div",{className:"flex flex-col gap-3 min-h-0 overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex flex-col gap-3 min-h-0 overflow-hidden",children:[s.jsxs("div",{className:"flex-1 flex flex-col min-h-0 rounded-xl bg-white border border-gray-100 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100 shrink-0",children:s.jsx("h3",{className:"text-xs font-semibold text-gray-700",children:"Upcoming 7 days"})}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-2 space-y-1",children:we.length===0?s.jsx("p",{className:"text-[11px] text-gray-400 py-4 text-center",children:"No tasks"}):we.map(N=>s.jsx(Ke,{task:N,source:"upcoming"},N.id))})]}),s.jsxs("div",{onDrop:Bt,onDragOver:xt,className:De("flex-1 flex flex-col min-h-0 rounded-xl border-2 border-dashed overflow-hidden transition-colors",Z?"border-teal-300 bg-teal-50/50":"border-gray-200 bg-white"),children:[s.jsxs("div",{className:"px-3 py-2 bg-gray-50 border-b border-gray-100 flex items-center justify-between shrink-0",children:[s.jsx("h3",{className:"text-xs font-semibold text-gray-700",children:"Completed"}),s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx(Q,{variant:"ghost",size:"icon",className:"size-6",onClick:()=>{const N=new Date(q);N.setDate(N.getDate()-7),$(N)},children:s.jsx(Sp,{className:"size-3"})}),s.jsxs("span",{className:"text-[10px] text-gray-500 min-w-[90px] text-center",children:[je.toLocaleDateString("en-US",{month:"short"})," ",je.getDate()," -"," ",me.toLocaleDateString("en-US",{month:"short",day:"numeric"})]}),s.jsx(Q,{variant:"ghost",size:"icon",className:"size-6",onClick:()=>{const N=new Date(q);N.setDate(N.getDate()+7),$(N)},children:s.jsx(Np,{className:"size-3"})})]})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-2 space-y-1",children:Pe.length===0?s.jsx("p",{className:"text-[11px] text-gray-400 py-4 text-center",children:"Drop tasks here or complete via edit"}):Pe.map(N=>s.jsxs("div",{className:"flex items-center gap-2 group rounded-lg bg-emerald-50 border border-emerald-100 px-2 py-1.5",children:[s.jsx(Ad,{className:"size-3.5 text-emerald-600 shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>{y(N),D({...N})},children:[s.jsx("p",{className:"text-[11px] font-medium text-emerald-900 truncate",children:N.title}),s.jsxs("p",{className:"text-[10px] text-emerald-600",children:[N.deadline," ",N.time?` ${N.time}`:""]})]}),s.jsx(Q,{variant:"ghost",size:"sm",className:"size-6 p-0 shrink-0 opacity-70 hover:opacity-100",onClick:()=>Be(N),title:"Undo",children:s.jsx(sb,{className:"size-3"})})]},N.id))})]})]}),s.jsxs("div",{onDrop:be,onDragOver:Ue,onDragLeave:ot,className:De("rounded-xl border-2 border-dashed flex items-center justify-center gap-2 py-3 px-4 transition-colors shrink-0",h?"border-teal-400 bg-teal-50":"border-gray-200 bg-white hover:border-gray-300"),children:[s.jsx("input",{type:"file",id:"calendar-file",className:"hidden",accept:".pdf,.txt,.md,.doc,.docx,image/*",onChange:N=>xe(N.target.files)}),s.jsxs("label",{htmlFor:"calendar-file",className:De("cursor-pointer flex items-center gap-2 flex-1 justify-center",v&&"pointer-events-none opacity-60"),children:[s.jsx(Qg,{className:"size-4 text-teal-600 shrink-0"}),s.jsx("span",{className:"text-xs font-medium text-gray-700",children:v?"Processing...":"Upload file"})]})]}),s.jsxs(Q,{onClick:()=>{T({title:"",info:"",deadline:O,time:""}),j(!0)},className:"w-full gap-2 shrink-0",children:[s.jsx(ua,{className:"size-4"}),"Add task"]})]})]})}),s.jsx(An,{open:!!w,onOpenChange:N=>{N||(y(null),D(null))},children:s.jsxs(Mn,{className:"sm:max-w-md",children:[s.jsx(zn,{children:s.jsx(In,{children:E?"Edit task":w==null?void 0:w.title})}),w&&E&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"edit-title",children:"Title"}),s.jsx(Ee,{id:"edit-title",value:E.title,onChange:N=>D(R=>R&&{...R,title:N.target.value}),placeholder:"Task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"edit-deadline",children:"Deadline"}),s.jsx(Ee,{id:"edit-deadline",type:"date",value:E.deadline,onChange:N=>D(R=>R&&{...R,deadline:N.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"edit-time",children:"Time (optional)"}),s.jsx(Ee,{id:"edit-time",type:"time",value:E.time||"",disabled:!!(E.source==="google"&&E.googleIsAllDay),onChange:N=>D(R=>R&&{...R,time:N.target.value||null})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"edit-info",children:"Details"}),s.jsx(Ee,{id:"edit-info",value:E.info||"",onChange:N=>D(R=>R&&{...R,info:N.target.value}),placeholder:"Description (optional)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kg,{id:"edit-completed",checked:!!E.completed,disabled:E.source==="google",onCheckedChange:N=>D(R=>R&&{...R,completed:!!N})}),s.jsx(ve,{htmlFor:"edit-completed",className:"text-sm font-medium cursor-pointer",children:"Mark as completed"})]}),s.jsxs("div",{className:"flex justify-between gap-2 pt-4",children:[s.jsxs(Q,{variant:"destructive",size:"sm",onClick:()=>Oe(w),className:"gap-1",disabled:w.source==="google",children:[s.jsx(ul,{className:"size-4"}),"Delete"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{variant:"outline",onClick:()=>y(null),children:"Close"}),s.jsxs(Q,{onClick:He,className:"gap-1",children:[s.jsx(Md,{className:"size-4"}),"Save"]})]})]})]})]})}),s.jsx(An,{open:x,onOpenChange:j,children:s.jsxs(Mn,{children:[s.jsx(zn,{children:s.jsx(In,{children:"Add task"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"task-title",children:"Title"}),s.jsx(Ee,{id:"task-title",value:k.title,onChange:N=>T(R=>({...R,title:N.target.value})),placeholder:"Task title"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"task-deadline",children:"Deadline"}),s.jsx(Ee,{id:"task-deadline",type:"date",value:k.deadline,onChange:N=>T(R=>({...R,deadline:N.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"task-time",children:"Time (optional)"}),s.jsx(Ee,{id:"task-time",type:"time",value:k.time,onChange:N=>T(R=>({...R,time:N.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{htmlFor:"task-info",children:"Details"}),s.jsx(Ee,{id:"task-info",value:k.info,onChange:N=>T(R=>({...R,info:N.target.value})),placeholder:"Description (optional)"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Q,{variant:"ghost",onClick:()=>j(!1),children:"Cancel"}),s.jsx(Q,{onClick:qe,children:"Add"})]})]})]})})]})}const dm=({...e})=>{const{theme:t="system"}=Yw();return s.jsx(lC,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},Jk=({className:e})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[s.jsx("circle",{cx:"5",cy:"4",r:"1.5"}),s.jsx("path",{d:"M3 8c0-1.1.9-2 2-2s2 .9 2 2v1H3V8z"}),s.jsx("circle",{cx:"12",cy:"3",r:"1.5"}),s.jsx("path",{d:"M10 7c0-1.1.9-2 2-2s2 .9 2 2v1h-4V7z"}),s.jsx("circle",{cx:"19",cy:"4",r:"1.5"}),s.jsx("path",{d:"M17 8c0-1.1.9-2 2-2s2 .9 2 2v1h-4V8z"}),s.jsx("path",{d:"M4 12h7c.6 0 1 .4 1 1v8c0-.6-.4-1-1-1H4V12z"}),s.jsx("path",{d:"M20 12h-7c-.6 0-1 .4-1 1v8c0-.6.4-1 1-1h7V12z"}),s.jsx("path",{d:"M12 12v9",strokeWidth:"0.5",stroke:"currentColor"})]}),v0=["dashboard","study-groups","solo-study","friends","calendar","settings"];function fm(){const e=window.location.hash.slice(1);return e.startsWith("room-")?"room":e.startsWith("meeting-")?"meeting":v0.includes(e)?e:"dashboard"}function pm(){const e=window.location.hash.slice(1);return e.startsWith("room-")?e.slice(5):null}function eE(){const e=window.location.hash.slice(1);return e.startsWith("meeting-")?e.slice(8):null}function tE(){const[e,t]=u.useState("login"),[n,r]=u.useState(null),[o,a]=u.useState(null),[i,l]=u.useState(!1),[c,d]=u.useState(null),[m,f]=u.useState(!1),[g,w]=u.useState(null),[y,x]=u.useState([]),[j,h]=u.useState(!1),[p,v]=u.useState(null),[S,k]=u.useState(null),[T,E]=u.useState(null),[D,q]=u.useState([]),[$,Z]=u.useState(null),[U,F]=u.useState(""),[H,G]=u.useState(!1),[L,se]=u.useState({}),[b,P]=u.useState(!1),[I,O]=u.useState(!1),[oe,pe]=u.useState([]),[we,je]=u.useState({}),[me,ae]=u.useState(0),ye=u.useRef(null),Pe=u.useRef([]),xe=u.useRef(null),be=u.useRef(!1),ke=u.useRef(null),Be=u.useRef(!0),[Ue,ot]=u.useState(null),[qe,Oe]=u.useState(!1),[It,We]=u.useState(!1),[Je,an]=u.useState(null),[He,kt]=u.useState({x:24,y:24}),[jt,Bt]=u.useState({width:360,height:280}),pt=u.useRef({isDragging:!1,startX:0,startY:0,startLeft:0,startTop:0}),Et=u.useRef({isResizing:!1,startX:0,startY:0,startW:0,startH:0}),xt=u.useRef(null),vt=u.useRef(null),Ke=u.useRef(null),[B,V]=u.useState([]),te=u.useRef(new Set);u.useEffect(()=>{Se()},[]),u.useEffect(()=>{n&&e==="profile"&&Pt()},[n,e]),u.useEffect(()=>{if(!n)return;const M=()=>{const re=fm(),fe=re==="room"?pm():null,_e=re==="meeting"?eE():null;t(re),w(fe),ot(_e),re==="room"&&fe&&E(fe)};return M(),window.addEventListener("hashchange",M),()=>window.removeEventListener("hashchange",M)},[n]);const ue=M=>{M==="room"||M==="meeting"||(v0.includes(M)&&(window.location.hash=M),t(M),w(null),ot(null))},Re=M=>{window.location.hash=`room-${M}`,t("room"),w(M),E(M)},Ne=M=>{window.location.hash=`meeting-${M}`,t("meeting"),ot(M)},Fe=M=>{M&&(an(M),We(!0))},et=(M,re)=>{vt.current=M,Ke.current=re??Ue,Oe(!0);const fe=M;typeof(fe==null?void 0:fe.on)=="function"&&fe.on("connection-change",_e=>{(_e==null?void 0:_e.state)==="Closed"&&(vt.current=null,Ke.current=null,Oe(!1))})},N=async()=>{var M;try{const re=vt.current;re!=null&&re.leaveMeeting&&await re.leaveMeeting({confirm:!1});const fe=(await nu(async()=>{const{default:_e}=await import("./embedded-Dwdh42pw.js").then(_t=>_t.e);return{default:_e}},[])).default;(M=fe.destroyClient)==null||M.call(fe)}catch{}finally{vt.current=null,Ke.current=null,Oe(!1),e==="meeting"&&ue("dashboard")}},R=24,K=280,le=200,de=720,Y=560;u.useEffect(()=>{qe&&e!=="meeting"&&kt({x:window.innerWidth-jt.width-R,y:window.innerHeight-jt.height-R})},[qe,e]);const _=M=>{M.target.closest("button")||M.target.closest("[data-resize-handle]")||(pt.current={isDragging:!0,startX:M.clientX,startY:M.clientY,startLeft:He.x,startTop:He.y})},W=M=>{M.preventDefault(),M.stopPropagation(),Et.current={isResizing:!0,startX:M.clientX,startY:M.clientY,startW:jt.width,startH:jt.height}};u.useEffect(()=>{if(!qe)return;const M=fe=>{if(Et.current.isResizing){const Ge=fe.clientX-Et.current.startX,Te=fe.clientY-Et.current.startY;Bt({width:Math.min(de,Math.max(K,Et.current.startW+Ge)),height:Math.min(Y,Math.max(le,Et.current.startH+Te))});return}if(!pt.current.isDragging)return;const _e=fe.clientX-pt.current.startX,_t=fe.clientY-pt.current.startY;kt({x:Math.max(0,pt.current.startLeft+_e),y:Math.max(0,pt.current.startTop+_t)})},re=()=>{pt.current.isDragging=!1,Et.current.isResizing=!1};return window.addEventListener("mousemove",M),window.addEventListener("mouseup",re),()=>{window.removeEventListener("mousemove",M),window.removeEventListener("mouseup",re)}},[qe]);const ce=jt.width,ge=jt.height,Se=async()=>{const M=localStorage.getItem("accessToken");if(M)try{const fe=await(await fetch(`${X}/auth/session`,{headers:{Authorization:`Bearer ${M}`}})).json();if(fe.user){r(M),a(fe.user);const _e=fm();t(_e),w(_e==="room"?pm():null)}else localStorage.removeItem("accessToken")}catch(re){console.error("Session check failed:",re),localStorage.removeItem("accessToken")}else t("login");f(!0)},$e=async(M,re)=>{try{const _e=await(await fetch(`${X}/auth/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:M,password:re})})).json();if(_e.error){z.error(_e.error);return}_e.accessToken&&_e.user&&(r(_e.accessToken),a(_e.user),localStorage.setItem("accessToken",_e.accessToken),ue("dashboard"),z.success("Welcome back!"))}catch(fe){console.error("Login error:",fe),z.error("Login failed. Please try again.")}},Qe=async M=>{try{const fe=await(await fetch(`${X}/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(M)})).json();if(fe.error){z.error(fe.error);return}fe.success&&(z.success("Account created! Please log in."),t("login"))}catch(re){console.error("Registration error:",re),z.error("Registration failed. Please try again.")}},Nt=()=>{localStorage.removeItem("accessToken"),r(null),a(null),t("login")},Pt=async()=>{try{const re=await(await fetch(`${X}/settings`,{headers:{Authorization:`Bearer ${n}`}})).json();re.settings&&a(fe=>fe&&{...fe,...re.settings})}catch(M){console.error("Failed to load profile:",M)}},br=(M,re)=>M.trim().split(" ").map(_e=>_e[0]).join("").slice(0,2).toUpperCase(),Tt=async()=>{try{if(!n)return;const M=await fetch(`${X}/ai/sessions`,{headers:{Authorization:`Bearer ${n}`}});if(M.ok){const re=await M.json();x(re.sessions||[])}}catch(M){console.error("Failed to load AI study sessions:",M)}},rr=()=>{v(null),ue("solo-study")},ya=M=>{if(!M.lastActivityAt)return{label:"Inactive",isOnline:!1};const re=new Date(M.lastActivityAt).getTime();return Number.isNaN(re)?{label:"Inactive",isOnline:!1}:Math.floor((Date.now()-re)/1e3)<300?{label:"Online",isOnline:!0}:{label:"Offline",isOnline:!1}},ss=M=>L[M]||[],wa=(M,re)=>{se(fe=>{const _e=fe[M]||[];if(re.clientId){const _t=_e.findIndex(Ge=>Ge.clientId===re.clientId);if(_t!==-1){const Ge=[..._e];return Ge[_t]={...re,pending:!1},{...fe,[M]:Ge}}}return{...fe,[M]:[..._e,re]}})},ja=async M=>{G(!0);try{const fe=await(await fetch(`${X}/dm/${M.id}`,{headers:{Authorization:`Bearer ${n}`}})).json();se(_e=>({..._e,[M.id]:Array.isArray(fe.messages)?fe.messages:[]}))}catch(re){console.error("Failed to fetch chat history:",re)}finally{G(!1)}},ba=M=>{Z(M),O(!0),pe(re=>[M,...re.filter(_e=>_e.id!==M.id)].slice(0,3)),je(re=>({...re,[M.id]:!1})),ja(M)},bl=()=>{$&&(pe(M=>M.filter(re=>re.id!==$.id)),je(M=>({...M,[$.id]:!1}))),O(!1),Z(null),F("")},Sa=()=>{if(!$||!U.trim()||!ye.current||!b||!(o!=null&&o.id))return;const M=crypto.randomUUID(),re=U.trim(),fe={id:M,clientId:M,senderId:o.id,recipientId:$.id,content:re,createdAt:new Date().toISOString(),pending:!0};wa($.id,fe),ye.current.send(JSON.stringify({type:"chat:send",recipientId:$.id,content:re,clientId:M})),F("")},Na=M=>{v(M),h(!1),ue("solo-study")},os=async()=>{if(n)try{const re=await(await fetch(`${X}/friends/requests`,{headers:{Authorization:`Bearer ${n}`}})).json(),fe=Array.isArray(re.requests)?re.requests:[];ae(fe.length)}catch(M){console.error("Failed to fetch friend requests:",M)}},Sl=async(M,re)=>{if(re.stopPropagation(),!!confirm("Are you sure you want to delete this study session?")){k(M);try{const fe=await fetch(`${X}/ai/sessions/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(fe.ok)z.success("Session deleted successfully"),await Tt(),p===M&&(v(null),e==="solo-study"&&(t("dashboard"),setTimeout(()=>ue("solo-study"),50)));else{const _e=await fe.json();z.error(_e.error||"Failed to delete session")}}catch(fe){console.error("Failed to delete session:",fe),z.error("Failed to delete session")}finally{k(null)}}};u.useEffect(()=>{n&&Tt()},[n]);const yo=async(M,re,fe,_e)=>{try{const Ge=await(await fetch(`${X}/study-groups/${M}/manage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({applicantId:re,action:fe})})).json();Ge.success?z.success(fe==="accept"?" Applicant accepted":" Applicant rejected",{id:_e,duration:3e3,action:void 0,cancel:void 0}):z.error(Ge.error||"Action failed",{id:_e,duration:3e3,action:void 0,cancel:void 0})}catch(_t){console.error("Failed to manage applicant:",_t),z.error("Action failed",{id:_e,duration:3e3,action:void 0,cancel:void 0})}};if(u.useEffect(()=>{if(!n||!(o!=null&&o.id))return;const M=async()=>{try{const _t=(await(await fetch(`${X}/study-groups`)).json()).groups||[];B.length>0&&_t.forEach(Ge=>{var At,bt,sr;if(Ge.hostId===o.id){const Hn=B.find(Nn=>Nn.id===Ge.id);if(Hn){const Nn=Hn.applicants||[];(Ge.applicants||[]).filter(ee=>!Nn.includes(ee)).forEach(ee=>{var Ce;const ie=`${Ge.id}-${ee}`;if(!te.current.has(ie)){te.current.add(ie);const Ze=(Ce=Ge.applicantsWithNames)==null?void 0:Ce.find(Xt=>Xt.id===ee),yt=(Ze==null?void 0:Ze.username)||`User ${ee.slice(0,8)}`,ln=z.info(` ${yt} wants to join "${Ge.topic}"`,{duration:1/0,action:{label:"Accept",onClick:()=>yo(Ge.id,ee,"accept",ln)},cancel:{label:"Reject",onClick:()=>yo(Ge.id,ee,"reject",ln)}})}})}}const Te=B.find(Hn=>Hn.id===Ge.id);if(Te){const Hn=(At=Te.applicants)==null?void 0:At.includes(o.id),Nn=(bt=Ge.applicants)==null?void 0:bt.includes(o.id),C=(sr=Ge.participants)==null?void 0:sr.includes(o.id);if(Hn&&!Nn){const A=`applicant-result-${Ge.id}`;te.current.has(A)||(te.current.add(A),C?z.success(` You've been accepted to "${Ge.topic}"!`,{duration:5e3}):z.error(` Your application to "${Ge.topic}" was rejected`,{duration:5e3}))}}}),V(_t)}catch(fe){console.error("Failed to check for new applicants:",fe)}};M();const re=setInterval(M,5e3);return()=>clearInterval(re)},[n,o==null?void 0:o.id,B]),u.useEffect(()=>{if(!n)return;(async()=>{try{const fe=await(await fetch(`${X}/friends`,{headers:{Authorization:`Bearer ${n}`}})).json();q(fe.friends||[])}catch(re){console.error("Failed to fetch friends:",re)}})()},[n]),u.useEffect(()=>{if(!n)return;os();const M=setInterval(os,1e4);return()=>clearInterval(M)},[n]),u.useEffect(()=>{Pe.current=D},[D]),u.useEffect(()=>{xe.current=$},[$]),u.useEffect(()=>{be.current=I},[I]),u.useEffect(()=>{if(!n||!(o!=null&&o.id))return;const M=new WebSocket(`${X.replace(/^http/,"ws")}/ws?token=${encodeURIComponent(n)}`);return ye.current=M,P(!1),M.onopen=()=>{P(!0)},M.onclose=()=>{P(!1)},M.onmessage=re=>{var fe,_e,_t,Ge;try{const Te=JSON.parse(re.data);if((Te==null?void 0:Te.type)==="chat:message"&&(Te!=null&&Te.message)){const At=Te.message,bt=At.senderId===o.id?At.recipientId:At.senderId;if(wa(bt,At),At.senderId!==o.id){const sr=(fe=xe.current)==null?void 0:fe.id;if(!be.current||sr!==bt){const Nn=Pe.current.find(C=>C.id===bt)||xe.current||{id:bt,username:"Friend",email:"",category:"",lastActivityAt:null,profileImageUrl:""};pe(C=>[Nn,...C.filter(ee=>ee.id!==bt)].slice(0,3)),je(C=>({...C,[bt]:!0}))}}return}if((Te==null?void 0:Te.type)==="friend:request"){const At=((_t=(_e=Te==null?void 0:Te.request)==null?void 0:_e.requester)==null?void 0:_t.username)||"Someone";z.info(`${At} sent you a friend request.`),ae(bt=>bt+1);return}if((Te==null?void 0:Te.type)==="friend:request:accepted"){const At=((Ge=Te==null?void 0:Te.friend)==null?void 0:Ge.username)||"Your friend";z.success(`${At} accepted your request.`),fetch(`${X}/friends`,{headers:{Authorization:`Bearer ${n}`}}).then(bt=>bt.json()).then(bt=>q(bt.friends||[])).catch(()=>{});return}if((Te==null?void 0:Te.type)==="friend:request:rejected"){z.error("Your friend request was rejected.");return}if((Te==null?void 0:Te.type)==="chat:error"){const At=String((Te==null?void 0:Te.recipientId)||""),bt=Te!=null&&Te.clientId?String(Te.clientId):"";At&&bt&&se(sr=>{const Nn=(sr[At]||[]).filter(C=>C.clientId!==bt);return{...sr,[At]:Nn}}),z.error((Te==null?void 0:Te.message)||"Unable to send message.");return}}catch(Te){console.error("Failed to parse chat message:",Te)}},()=>{M.close(),ye.current=null}},[n,o==null?void 0:o.id]),u.useEffect(()=>{if(!$||!I)return;const M=ke.current;M&&Be.current&&(M.scrollTop=M.scrollHeight)},[L,$,I]),!m)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f5f7]",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(iu,{className:"size-10 text-teal-600 animate-pulse"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]})});if(!n)return s.jsxs(s.Fragment,{children:[e==="login"?s.jsx(fb,{onLogin:$e,onNavigateToRegister:()=>t("register")}):s.jsx(S2,{onRegister:Qe,onNavigateToLogin:()=>t("login")}),s.jsx(dm,{})]});const Nl=Object.values(we).filter(Boolean).length,wo=me+Nl;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#eaf5ff] via-[#f7f9ff] to-[#fde9f1] flex",children:[s.jsxs("aside",{className:"fixed left-6 top-6 bottom-6 w-20 bg-white/90 backdrop-blur rounded-[32px] shadow-xl flex flex-col items-center py-8",children:[s.jsx("div",{className:"size-12 rounded-2xl bg-[#e9f6ff] flex items-center justify-center",children:s.jsx(iu,{className:"size-6 text-gray-800"})}),s.jsxs("nav",{className:"mt-10 flex flex-col items-center gap-5 flex-1",children:[s.jsx("button",{onClick:()=>ue("dashboard"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="dashboard"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Home",children:s.jsx(Ij,{className:"size-5"})}),s.jsx("button",{onClick:()=>ue("study-groups"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="study-groups"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Study groups",children:s.jsx(Jk,{className:"size-5"})}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onMouseEnter:()=>{h(!0),Tt()},onClick:rr,className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="solo-study"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"AI study",children:s.jsx(Dn,{className:"size-5"})}),j&&y.length>0&&s.jsx("div",{className:"absolute left-16 top-1/2 -translate-y-1/2 w-44 space-y-0.5 overflow-hidden rounded-xl bg-white shadow-lg p-2",onMouseLeave:()=>h(!1),style:{animation:"slideDown 0.2s ease-out"},children:y.map((M,re)=>s.jsxs("div",{className:"relative group",style:{animation:`fadeInSlide 0.3s ease-out ${re*.05}s forwards`,opacity:0},children:[s.jsxs("button",{onClick:()=>Na(M.id),className:"w-full text-left px-3 py-2 pr-8 rounded-md hover:bg-gray-50 transition-all duration-150 text-xs",children:[s.jsx("p",{className:"font-medium text-gray-700 truncate",children:M.name.replace("Study Session - ","")}),s.jsxs("p",{className:"text-gray-500 mt-0.5",children:[M.fileCount,"f  ",M.messageCount,"m"]})]}),s.jsx("button",{onClick:fe=>Sl(M.id,fe),disabled:S===M.id,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-red-100 opacity-0 group-hover:opacity-100 transition-opacity",title:"Delete session",children:S===M.id?s.jsx("div",{className:"size-3.5 border-2 border-red-500 border-t-transparent rounded-full animate-spin"}):s.jsx(ul,{className:"size-3.5 text-red-600"})})]},M.id))})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>ue("friends"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="friends"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Friends",children:s.jsx(lu,{className:"size-5"})}),wo>0?s.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 rounded-full bg-rose-500 text-white text-[10px] font-semibold flex items-center justify-center",children:wo>99?"99+":wo}):null]}),s.jsx("button",{onClick:()=>ue("calendar"),className:`size-12 rounded-full flex items-center justify-center transition-colors ${e==="calendar"?"bg-black text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-100"}`,title:"Calendar",children:s.jsx(lj,{className:"size-5"})})]}),s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("button",{onClick:()=>t("profile"),className:"size-12 rounded-full bg-white text-gray-600 hover:bg-gray-100 flex items-center justify-center",title:"Profile",children:s.jsx(Sj,{className:"size-5"})}),s.jsx("button",{onClick:()=>ue("settings"),className:`size-10 rounded-full flex items-center justify-center transition-colors ${e==="settings"?"bg-black text-white":"bg-white text-gray-500 hover:bg-gray-100"}`,title:"Settings",children:s.jsx(Jj,{className:"size-4"})}),s.jsx("button",{onClick:Nt,className:"size-10 rounded-full flex items-center justify-center bg-white text-gray-400 hover:bg-gray-100",title:"Log out",children:s.jsx($j,{className:"size-4"})})]})]}),s.jsxs("div",{className:"flex-1 pl-32 pr-8 py-8",children:[i&&s.jsx("div",{className:"bg-amber-500 text-white py-2 px-6 text-center text-xs font-medium rounded-full mb-4",children:" PROTOTYPE MODE"}),s.jsxs("main",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("h1",{className:"text-3xl font-semibold text-gray-900",children:["Hi ",(o==null?void 0:o.username)||(o==null?void 0:o.email)||"there",","]})}),e==="dashboard"&&s.jsx(jC,{accessToken:n,onOpenChat:ba,onViewFriend:M=>{d(M),t("friend-detail")}}),e==="study-groups"&&s.jsx(SC,{accessToken:n,userId:(o==null?void 0:o.id)||"",currentUserUsername:o==null?void 0:o.username,roomUserIsIn:T,onJoinRoom:Re,onJoinMeeting:Fe}),e==="room"&&g&&s.jsx(Yk,{groupId:g,accessToken:n,currentUserId:(o==null?void 0:o.id)||"",onBack:()=>ue("study-groups"),onLeaveRoom:()=>E(null),onJoinMeeting:Fe}),e==="meeting"&&Ue&&s.jsx(lm,{meetingId:Ue,accessToken:n,userName:(o==null?void 0:o.username)||(o==null?void 0:o.email)||"Guest",onBack:()=>ue("dashboard"),zoomContainerRef:xt,onMeetingJoined:et}),e==="solo-study"&&s.jsx(HC,{initialSessionId:p,onSessionsChange:Tt}),e==="friends"&&s.jsx(VC,{accessToken:n,onRequestsUpdated:os,onViewFriend:M=>{d(M),t("friend-detail")}}),e==="calendar"&&s.jsx(Xk,{accessToken:n}),e==="settings"&&s.jsx(vk,{accessToken:n,onProfileUpdate:M=>a(re=>re&&{...re,...M})}),e==="profile"&&o&&s.jsx(yk,{accessToken:n,user:o}),e==="friend-detail"&&c&&s.jsx(GC,{accessToken:n,friend:c,onBack:()=>t("friends")})]}),!I&&oe.length>0&&s.jsx("div",{className:"fixed bottom-6 right-6 z-40 flex items-center gap-2",children:oe.map(M=>{const re=D.find(Ge=>Ge.id===M.id)||M,fe=ya(re).isOnline,_t=!!we[M.id]?"ring-2 ring-emerald-400 animate-pulse":fe?"ring-2 ring-emerald-200":"";return s.jsx("button",{className:`size-12 rounded-full bg-white shadow-[0_20px_40px_rgba(15,23,42,0.18)] flex items-center justify-center hover:scale-[1.02] transition ${_t}`,onClick:()=>ba(re),title:re.username||re.email||"Chat",children:s.jsxs(Hi,{className:"size-10",children:[re.profileImageUrl?s.jsx(Vi,{src:re.profileImageUrl,alt:re.username||"Friend"}):null,s.jsx(Gi,{className:"bg-gray-100 text-gray-600 text-xs font-semibold",children:br(re.username||re.email||"F")})]})},M.id)})}),s.jsx(An,{open:It,onOpenChange:M=>{We(M),M||an(null)},children:s.jsxs(Mn,{className:"sm:max-w-5xl max-w-[calc(100%-2rem)] p-0 max-h-[90vh] overflow-auto",children:[s.jsx(zn,{className:"px-6 pt-6",children:s.jsx(In,{children:"Join Zoom meeting"})}),s.jsx("div",{className:"px-6 pb-6",children:Je?s.jsx(lm,{meetingId:Je,accessToken:n,userName:(o==null?void 0:o.username)||(o==null?void 0:o.email)||"Guest",onBack:()=>We(!1),zoomContainerRef:xt,onMeetingJoined:M=>{ot(Je),et(M,Je),We(!1)}}):s.jsx("div",{className:"py-10 text-center text-sm text-gray-500",children:"Missing meeting id."})})]})}),$&&I&&s.jsxs("div",{className:"fixed bottom-6 right-6 z-40 w-[360px] h-[480px] rounded-3xl shadow-[0_20px_60px_rgba(15,23,42,0.18)] bg-white/95 border border-white/70 backdrop-blur",children:[s.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:$?$.username||$.email||"Friend":"Chat"}),s.jsxs("p",{className:"text-[10px] text-gray-400",children:[b?"Connected":"Connecting...",H?"  Loading history...":""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-[10px] text-gray-400 hover:text-gray-600",onClick:()=>O(!1),children:"Close"}),s.jsx("button",{className:"text-[10px] text-gray-400 hover:text-gray-600",onClick:bl,children:"End"})]})]}),s.jsx("div",{ref:ke,className:"h-[320px] overflow-y-auto px-4 py-3 space-y-3",onScroll:M=>{const re=M.currentTarget,fe=re.scrollHeight-re.scrollTop-re.clientHeight;Be.current=fe<32},children:$?ss($.id).length?ss($.id).map(M=>{const re=M.senderId===(o==null?void 0:o.id);return s.jsx("div",{className:`flex ${re?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-[75%] rounded-2xl px-3 py-2 text-xs ${re?"bg-emerald-500 text-white":"bg-gray-100 text-gray-700"} ${M.pending?"opacity-70":""}`,children:[s.jsx("p",{className:"whitespace-pre-wrap",children:M.content}),s.jsx("p",{className:"mt-1 text-[10px] opacity-70",children:new Date(M.createdAt).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})},M.id)}):s.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-400",children:"No messages yet. Say hi!"}):null}),s.jsxs("div",{className:"p-3 border-t border-gray-100 flex items-center gap-2",children:[s.jsx(Ee,{placeholder:"Type a message...",value:U,onChange:M=>F(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),Sa())}}),s.jsx(Q,{onClick:Sa,disabled:!U.trim()||!b,children:"Send"})]})]}),s.jsxs("div",{ref:xt,className:`bg-[#1a1a1a] rounded-xl overflow-hidden border border-gray-200 z-50 ${qe?e==="meeting"?"fixed left-32 right-8 top-6 bottom-6 shadow-xl":"fixed shadow-2xl":e==="meeting"?"fixed left-32 right-8 top-6 bottom-6 opacity-0 pointer-events-none":"fixed right-6 bottom-6 w-0 h-0 overflow-hidden opacity-0 pointer-events-none"}`,style:qe&&e!=="meeting"?{left:He.x,top:He.y,width:ce,height:ge}:void 0,children:[qe&&e!=="meeting"&&s.jsx("div",{"data-resize-handle":!0,className:"absolute right-0 bottom-0 w-4 h-4 cursor-nwse-resize resize-handle z-20",onMouseDown:W,role:"presentation","aria-label":"Resize",children:s.jsx("svg",{className:"absolute right-1 bottom-1 w-3 h-3 text-white/50",viewBox:"0 0 16 16",fill:"currentColor",children:s.jsx("path",{d:"M15 15H9v-2h4V9h2v6zM7 15H1V9h2v4h4v2zM15 7V1H9v2h4v4h2zM7 1v2H3v4H1V1h6z"})})}),qe&&e==="meeting"&&s.jsx("div",{className:"absolute top-0 left-0 right-0 h-10 bg-black/60 flex items-center justify-end px-3 z-10",children:s.jsx("button",{type:"button",onClick:N,className:"text-red-400 hover:text-red-300 text-sm font-medium px-3 py-1.5 rounded bg-red-500/20 hover:bg-red-500/30",children:"Leave"})}),qe&&e!=="meeting"&&s.jsxs("div",{className:"absolute top-0 left-0 right-0 h-10 bg-black/60 flex items-center justify-between gap-2 px-3 z-10 cursor-grab active:cursor-grabbing select-none",onMouseDown:_,role:"presentation",children:[s.jsx("span",{className:"text-white text-sm font-medium truncate",children:"Meeting in progress"}),s.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[s.jsx("button",{type:"button",onClick:()=>Ke.current&&Ne(Ke.current),className:"text-white/90 hover:text-white text-xs font-medium px-2 py-1 rounded bg-white/10 hover:bg-white/20",children:"Return to meeting"}),s.jsx("button",{type:"button",onClick:N,className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"Leave"})]})]})]})]}),s.jsx(dm,{})]})}cc.createRoot(document.getElementById("root")).render(s.jsx(ne.StrictMode,{children:s.jsx(Kw,{attribute:"class",defaultTheme:"light",enableSystem:!0,children:s.jsx(tE,{})})}));export{po as a,rE as c,Du as g,u as r};
